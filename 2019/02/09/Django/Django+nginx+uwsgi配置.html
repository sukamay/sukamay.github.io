<hr>
<p>title: Django+nginx+uwsgi配置</p>
<h2 id="categories-Django"><a href="#categories-Django" class="headerlink" title="categories: Django"></a>categories: Django</h2><h1 id="Django-nginx-uwsgi配置"><a href="#Django-nginx-uwsgi配置" class="headerlink" title="Django+nginx+uwsgi配置"></a>Django+nginx+uwsgi配置</h1><p><a href="https://blog.csdn.net/huanbia/article/details/54630180">Django+nginx+uwsgi配置</a></p>
<p>在线项目部署</p>
<h2 id="1-uwsgi安装测试"><a href="#1-uwsgi安装测试" class="headerlink" title="1. uwsgi安装测试"></a>1. uwsgi安装测试</h2><h3 id="1-1-uwsgi安装"><a href="#1-1-uwsgi安装" class="headerlink" title="1.1 uwsgi安装"></a>1.1 uwsgi安装</h3><pre><code class="shell">root@iZwz969jm0y04abuhgx4byZ:~# python3 -m pip install uwsgi
</code></pre>
<h3 id="1-2-uwsgi测试"><a href="#1-2-uwsgi测试" class="headerlink" title="1.2 uwsgi测试"></a>1.2 uwsgi测试</h3><p>测试 uwsgi 是否正常：</p>
<p>新建 test.py 文件，内容如下：</p>
<pre><code class="python"><span class="function"><span class="keyword">def</span> <span class="title">application</span><span class="params">(env, start_response)</span>:</span>
    start_response(<span class="string">'200 OK'</span>, [(<span class="string">'Content-Type'</span>,<span class="string">'text/html'</span>)])
    <span class="keyword">return</span> <span class="string">"Hello World"</span>
</code></pre>
<p>然后在终端运行：</p>
<pre><code class="shell">uwsgi --http :8001 --wsgi-file test.py
</code></pre>
<p>在浏览器内输入：<a href="http://127.0.0.1:8001，查看是否有&quot;Hello">http://127.0.0.1:8001，查看是否有&quot;Hello</a> World”输出，若没有输出，请检查你的安装过程。</p>
<h2 id="2-nginx-安装测试"><a href="#2-nginx-安装测试" class="headerlink" title="2. nginx 安装测试"></a>2. nginx 安装测试</h2><h3 id="2-1-安装-Nginx"><a href="#2-1-安装-Nginx" class="headerlink" title="2.1 安装 Nginx"></a>2.1 安装 Nginx</h3><p>安装命令如下：</p>
<pre><code>cd ~
wget http://nginx.org/download/nginx-1.11.0.tar.gz
tar xf nginx-1.11.0.tar.gz
cd nginx-1.11.0
./configure --prefix=/usr/local/nginx-1.11.0 \
--with-http_stub_status_module \
--with-http_gzip_static_module
make &amp;&amp; make install
</code></pre><p>你可以阅读 <a href="http://www.runoob.com/linux/nginx-install-setup.html">Nginx 安装配置</a> 了解更多内容。</p>
<h2 id="3-Django安装测试"><a href="#3-Django安装测试" class="headerlink" title="3. Django安装测试"></a>3. Django安装测试</h2><p>笔者用的是python3以上的版本</p>
<pre><code>pip install django
</code></pre><p>测试 django 是否正常，运行：</p>
<pre><code>django-admin.py startproject demosite
cd demosite
python2.7 manage.py runserver 0.0.0.0:8002
</code></pre><p>在浏览器内输入：<a href="http://127.0.0.1:8002，检查django是否运行正常。">http://127.0.0.1:8002，检查django是否运行正常。</a></p>
<p>项目组织结构：</p>
<pre><code class="shell">root@iZwz969jm0y04abuhgx4byZ:/home/projects/closet/closetUsers# tree
.
├── closetUsers
│   ├── __init__.py
│   ├── __pycache__
│   │   ├── __init__.cpython-37.pyc
│   │   ├── settings.cpython-37.pyc
│   │   ├── urls.cpython-37.pyc
│   │   └── wsgi.cpython-37.pyc
│   ├── settings.py
│   ├── urls.py
│   └── wsgi.py
├── __init__.py
├── jsonTest
│   ├── modifyUserInfo.json
│   └── test.json
├── manage.py
├── __pycache__
│   ├── __init__.cpython-37.pyc
│   ├── manage.cpython-37.pyc
│   ├── settings.cpython-37.pyc
│   ├── urls.cpython-37.pyc
│   └── wsgi.cpython-37.pyc
├── settings.py
├── static
├── tempPhotos
├── urls.py
├── users
│   ├── admin.py
│   ├── apps.py
│   ├── backends.py
│   ├── forms.py
│   ├── __init__.py
│   ├── matches.py
│   ├── migrations
│   │   ├── 0001_initial.py
│   │   ├── 0002_auto_20181222_1315.py
│   │   ├── 0003_auto_20181222_1428.py
│   │   ├── 0004_auto_20181229_1631.py
│   │   ├── __init__.py
│   │   └── __pycache__
│   │       ├── 0001_initial.cpython-37.pyc
│   │       ├── 0002_auto_20181222_1315.cpython-37.pyc
│   │       ├── 0003_auto_20181222_1428.cpython-37.pyc
│   │       ├── 0004_auto_20181229_1631.cpython-37.pyc
│   │       └── __init__.cpython-37.pyc
│   ├── models.py
│   ├── permissions.py
│   ├── __pycache__
│   │   ├── admin.cpython-37.pyc
│   │   ├── backends.cpython-37.pyc
│   │   ├── __init__.cpython-37.pyc
│   │   ├── matches.cpython-37.pyc
│   │   ├── models.cpython-37.pyc
│   │   ├── permissions.cpython-37.pyc
│   │   ├── serializers.cpython-37.pyc
│   │   ├── urls.cpython-37.pyc
│   │   └── views.cpython-37.pyc
│   ├── serializers.py
│   ├── test.png
│   ├── tests.py
│   ├── urls.py
│   └── views.py
└── wsgi.py

10 directories, 52 files
</code></pre>
