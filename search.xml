<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Usability Evaluation_Efficiency]]></title>
    <url>%2F2019%2F05%2F13%2FSoftwareTesting%2FEfficiency%2F</url>
    <content type="text"><![CDATA[2. Efficiency2.1 Performance Measurement2.2 Remote Testing2.2.1 OverviewRemote usability testing is used when tester(s) are separated in space and/or time from the participants. This means that the tester(s) cannot observe the testing process directly and that the participants are usually not in a formal usability laboratory. There are different types of remote testing. One is same-time but different-place, where the tester can observe the test userâ€™s screen through computer network, and may be able to hear what the test user says during the test through speaker telephone. Another is different-time different-place testing such as journaled sessions, where the userâ€™s test session is guided and logged through a special piece of software as well as additional code added to the system being tested. 2.2.2 ProcedureTools Computer network through which participants can send the test results to the tester Application like Look@me that allow the tester to observe the participantâ€™s screen during the test Application like Lotus Videocam that can record, and replay the recorded screen series Speaker telephone if the participant is supposed to speak aloud or commnunicate with the tester Voice recording to record the verbal activities during the test Journal software to guide and log the usability test session 2.3 Retrospective Testing **Overview** If a videotape has been made of a usability test session, the tester(s) can collect more information by reviewing the videotape together with the user participants and asking them questions regarding their behavior during the test. So this technique should be used along with other techniques, especially those where the interaction between the testers and the participants is restricted. But using this technique means that each test takes at least twice as long. Another obvious requirement for using this technique is that the userâ€™s interaction with the computer needs to be recorded and replayed. 1**Procedure** Review the recording of the usability test session with the test user. Ask the test user questions and let the test user describe what he/she is doing and why.]]></content>
      <categories>
        <category>SoftwareTesing</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[TestPro_1]]></title>
    <url>%2F2019%2F05%2F12%2FSoftwareTesting%2FTestPro_1%2F</url>
    <content type="text"><![CDATA[TestPro_1usability evaluation1. LearnabilityBeginners are not familiar with the product, that is, the userâ€™s learning process, the difficulty of the process, the speed is learning; poor learning for the user who just used the product, may be abandoned due to this obstacle. 1.1 Coaching Method1.1.1 Overviewâ€‹ This technique can be used for usability test, where the participants are allowed to ask any system-related questions of an expert coach who will answer to the best of his or her ability. Usually the tester serves as the coach. One variant of the method involves a separate expert user serving as the coach, while the tester observes both the interaction between the participant and the computer, and the interaction between the participant and the coach. â€‹ The purpose of this technique is to discover the information needs of users in order to provide better training and documentation, as well as possibly redesign the interface to avoid the need for the questions. When an expert user is used as the coach, the expert userâ€™s mental model of the system can also be analyzed by the tester. â€‹ The tester can also control the answers to certain predetermined information. 1.1.2 data neededThe answer and the degree how it help user to achieve the task. 1.1.3 reportâ€‹ In an extensive series of experiments, one could vary the coachâ€™s answers in order to learn what types of answers helped users the most. But this requires skilled and careful coaches since they need to compose answers on the fly to unpredictable user questions. 1.2 Question-asking Protocol1.2.1 Overviewâ€‹ During a usability test, besides letting the test users to verbalize their thoughts as in the thinking aloud protocol, the testers prompt them by asking direct questions about the product, in order to understand their mental model of the system and the tasks, and where they have trouble in understanding and using the system. This is a more natural way than the thinking-aloud method in letting the test user to verbalize their thoughts. â€‹ Providing the test users with the product to be tested (or a prototype of its interface) and a set of tasks to perform. Ask the participants to perform the tasks using the product, and explain what theyâ€™re thinking about while working with the productâ€™s interface. Also ask them pointed, direct questions about the product; for example, â€œHow would you send the booking order?â€ Their response, either in terms of the product being tested or in other products from their past experience, will provide insights into their mental model of the product. 1.2.2 data neededâ€‹ Collecting usersâ€™ response. 1.2.3 reportâ€‹ Analysis the response of users, extract key points and think about the shortcut of our product. 1.3 Task-Driven Method1.3.1 Overviewâ€‹ Providing the test users with the product to be tested (or a prototype of its interface) and a set of tasks to perform. It should be divided into several stages and each stage has a time interval. For example, in the case of task time, the same subject performs the same task. The first test completion time is 50 seconds, the next test is 40 seconds, and the other month is 35; the test subjectâ€™s performance time tends to be stable. That is the maximum degree of performance of the task. By improving the product and then detecting changes in the indicator, wer may see if there is improvement in learning. 1.3.2 data needed The stage and time users take to complete a specific task. The stage and number of task of various kinds that can be completed within a give time limit. 1.3.3 report â€‹ Finally we should get a stable data, we could use mean or median to show the learnability of our product. 1.4 Performance Measurement1.4.1 Overviewâ€‹ This technique is to used to obtain quantitative data about test participantsâ€™ performance when they perform the tasks during usability test. This will generally prohibit an interaction between the participant and the tester during the test that will affect the quantitative performance data. It should be conducted in a formal usability laboratory so that the data can be collected accurately and possible unexpected interference is minimized. Quantitative data is most useful in doing comparative testing, or testing against predefined benmarks. To obtain dependable results, at least 5 user participants are needed, while 8 or more participants would be more desirable. The technique can be used in combination with retrospective testing, post-test interview or questionnaires so that both quantitative and qualitative data are obtained.It can be also used in combination with task-driven method so that we get concrete tasks. The technique can be used in the following development stages: code, test, and deployment. 1.4.2 ProcedureDefine the Goals Define the goals for the usability testing in terms of usability attribute (e.g. easy to learn, efficietn to use, easy to remember, few errors, subjectively pleasing). Balance the various components of the goals and decide on their relative importance. Quantify these usability issues by measurements such as those given below: The time users take to complete a specific task. The number of task of various kinds that can be completed within a give time limit. The Ratio between successful interactions and errors. The time spent recovering from errors. The number of user errors. The number of commands or other features that were never used by the user. The number of syste features the user can remember during a debriefing after the test. The frequency of use of the manuals and/or the help system, and the time spent using them. The proportion of users who say that they would prefer using the system over some specified competitor. The proportion of users using efficient efficient working strategies in case there are multiple ways of performing the tasks.Conduct the Test Even though this technique is aimed to collect quantitative data, it should be noticed that itâ€™s very important to collect qualitative data to uncover the userâ€™s mental process and other information behind the quantitative data and take them into account while drawing the conclusions. 1.4.3 data needed The time users take to complete a specific task. The number of task of various kinds that can be completed within a give time limit. The Ratio between successful interactions and errors. The time spent recovering from errors. The number of user errors. The number of commands or other features that were never used by the user. The number of syste features the user can remember during a debriefing after the test. The frequency of use of the manuals and/or the help system, and the time spent using them. The proportion of users who say that they would prefer using the system over some specified competitor. The proportion of users using efficient efficient working strategies in case there are multiple ways of performing the tasks. 1.4.4 Analyze the Data to Draw the Conclusionsâ€‹ To compare with a benchmark value (for ordinal, interval, or ratio data), mean or median can be calculated, together with standard deviation, standard error of the mean, and the confidence intervals. â€‹ To compare the data from different user interfaces, some kind of inferential statistics test can be performed. ###]]></content>
  </entry>
  <entry>
    <title><![CDATA[ORB_SLAM æºç è§£æž 1]]></title>
    <url>%2F2019%2F05%2F12%2FSLAM%2FORB_SLAM_%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90_1%2F</url>
    <content type="text"><![CDATA[ORB_SLAM æºç è§£æž è·Ÿè¸ªçº¿ç¨‹ æ·±åº¦ åŒç›®åˆå§‹åŒ–ä½å§¿ è¿åŠ¨æ¨¡åž‹ å…³é”®å¸§æ¨¡å¼ é‡å®šä½ å±€éƒ¨åœ°å›¾è·Ÿè¸ª å…³é”®å¸§ mpMapå°±æ˜¯æˆ‘ä»¬æ•´ä¸ªä½å§¿ä¸Žåœ°å›¾ï¼ˆå¯ä»¥æƒ³è±¡æˆORB-SLAMè¿è¡Œæ—¶çš„é‚£ä¸ªç•Œé¢ä¸–ç•Œï¼‰ï¼Œ MapPointå’ŒKeyFrameéƒ½è¢«åŒ…å«åœ¨è¿™ä¸ªmpMapä¸­ã€‚ å› æ­¤åˆ›å»ºè¿™ä¸‰è€…å¯¹è±¡ï¼ˆåœ°å›¾ï¼Œåœ°å›¾ç‚¹ï¼Œå…³é”®å¸§ï¼‰æ—¶ï¼Œ ä¸‰è€…ä¹‹é—´çš„å…³ç³»åœ¨æž„é€ å‡½æ•°ä¸­ä¸èƒ½ç¼ºå°‘ã€‚ å¦å¤–ï¼Œç”±äºŽä¸€ä¸ªå…³é”®å¸§æå–å‡ºçš„ç‰¹å¾ç‚¹å¯¹åº”ä¸€ä¸ªåœ°å›¾ç‚¹é›†ï¼Œ å› æ­¤éœ€è¦è®°ä¸‹æ¯ä¸ªåœ°å›¾ç‚¹çš„åœ¨è¯¥å¸§ä¸­çš„ç¼–å·ï¼› åŒç†ï¼Œä¸€ä¸ªåœ°å›¾ç‚¹ä¼šè¢«å¤šå¸§å…³é”®å¸§è§‚æµ‹åˆ°ï¼Œ ä¹Ÿéœ€è¦è®°ä¸‹æ¯ä¸ªå…³é”®å¸§åœ¨è¯¥ç‚¹ä¸­çš„ç¼–å·ã€‚ åœ°å›¾ç‚¹ï¼Œè¿˜éœ€è¦å®Œæˆä¸¤ä¸ªè¿ç®—ï¼Œç¬¬ä¸€ä¸ªæ˜¯åœ¨è§‚æµ‹åˆ°è¯¥åœ°å›¾ç‚¹çš„å¤šä¸ªç‰¹å¾ç‚¹ä¸­ï¼ˆå¯¹åº”å¤šä¸ªå…³é”®å¸§ï¼‰ï¼Œ æŒ‘é€‰å‡ºåŒºåˆ†åº¦æœ€é«˜çš„æè¿°å­ï¼Œä½œä¸ºè¿™ä¸ªåœ°å›¾ç‚¹çš„æè¿°å­ï¼› pNewMP-&gt;ComputeDistinctiveDescriptors(); ç¬¬äºŒä¸ªæ˜¯æ›´æ–°è¯¥åœ°å›¾ç‚¹å¹³å‡è§‚æµ‹æ–¹å‘ä¸Žè§‚æµ‹è·ç¦»çš„èŒƒå›´ï¼Œè¿™äº›éƒ½æ˜¯ä¸ºäº†åŽé¢åšæè¿°å­èžåˆåšå‡†å¤‡ã€‚ pNewMP-&gt;UpdateNormalAndDepth(); è·Ÿè¸ª æ¯ä¸€å¸§å›¾åƒ Frame â€”&gt; æå–ORBå…³é”®ç‚¹ç‰¹å¾ â€”â€“&gt; æ ¹æ®ä¸Šä¸€å¸§è¿›è¡Œä½ç½®ä¼°è®¡è®¡ç®—R t (æˆ–è€…é€šè¿‡å…¨å±€é‡å®šä½åˆå§‹åŒ–ä½ç½®) â€”â€”&gt; è·Ÿè¸ªå±€éƒ¨åœ°å›¾ï¼Œä¼˜åŒ–ä½å§¿ â€”â€”-&gt; æ˜¯å¦åŠ å…¥ å…³é”®å¸§ 1. Trackingçº¿ç¨‹ å¸§ Frame 1ã€‘åˆå§‹åŒ–â€‹ å•ç›®åˆå§‹åŒ– MonocularInitialization() â€‹ åŒç›®åˆå§‹åŒ– StereoInitialization 2ã€‘ç›¸æœºä½å§¿è·Ÿè¸ªPâ€‹ åŒæ—¶è·Ÿè¸ªå’Œå®šä½ åŒæ—¶è·Ÿè¸ªä¸Žå®šä½ï¼Œä¸æ’å…¥å…³é”®å¸§ï¼Œå±€éƒ¨å»ºå›¾ ä¸å·¥ä½œ â€‹ è·Ÿè¸ªå’Œå®šä½åˆ†ç¦» mbOnlyTracking(false) â€‹ ä½å§¿è·Ÿè¸ª TrackWithMotionModel() TrackReferenceKeyFrame() é‡å®šä½ Relocalization() a è¿åŠ¨æ¨¡åž‹ï¼ˆTracking with motion modelï¼‰è·Ÿè¸ª é€ŸçŽ‡è¾ƒå¿« å‡è®¾ç‰©ä½“å¤„äºŽåŒ€é€Ÿè¿åŠ¨ â€‹ ç”¨ ä¸Šä¸€å¸§çš„ä½å§¿å’Œé€Ÿåº¦æ¥ä¼°è®¡å½“å‰å¸§çš„ä½å§¿ä½¿ç”¨çš„å‡½æ•°ä¸ºTrackWithMotionModel()ã€‚ â€‹ è¿™é‡ŒåŒ¹é…æ˜¯é€šè¿‡æŠ•å½±æ¥ä¸Žä¸Šä¸€å¸§çœ‹åˆ°çš„åœ°å›¾ç‚¹åŒ¹é…ï¼Œä½¿ç”¨çš„æ˜¯ â€‹ matcher.SearchByProjection(Frame &amp;CurrentFrame, const Frame &amp;LastFrame, â€¦)ã€‚ â€‹ b å…³é”®å¸§æ¨¡å¼ TrackReferenceKeyFrame()â€‹ å½“ä½¿ç”¨è¿åŠ¨æ¨¡å¼åŒ¹é…åˆ°çš„ç‰¹å¾ç‚¹æ•°è¾ƒå°‘æ—¶ï¼Œå°±ä¼šé€‰ç”¨å…³é”®å¸§æ¨¡å¼ã€‚å³å°è¯•å’Œæœ€è¿‘ä¸€ä¸ªå…³é”®å¸§åŽ»åšåŒ¹é…ã€‚ â€‹ ä¸ºäº†å¿«é€ŸåŒ¹é…ï¼Œæœ¬æ–‡åˆ©ç”¨äº†bag of wordsï¼ˆBoWï¼‰æ¥åŠ é€Ÿã€‚ â€‹ é¦–å…ˆï¼Œè®¡ç®—å½“å‰å¸§çš„BoWï¼Œå¹¶è®¾å®šåˆå§‹ä½å§¿ä¸ºä¸Šä¸€å¸§çš„ä½å§¿ï¼› â€‹ å…¶æ¬¡ï¼Œæ ¹æ®ä½å§¿å’ŒBoWè¯å…¸æ¥å¯»æ‰¾ç‰¹å¾åŒ¹é…ï¼Œä½¿ç”¨å‡½æ•°matcher.SearchByBoW(KeyFrame pKF, Frame &amp;F, â€¦)ï¼› â€‹ åŒ¹é…åˆ°çš„æ˜¯å‚è€ƒå…³é”®å¸§ä¸­çš„åœ°å›¾ç‚¹ã€‚ â€‹ æœ€åŽï¼Œåˆ©ç”¨åŒ¹é…çš„ç‰¹å¾ä¼˜åŒ–ä½å§¿ã€‚ â€‹ c é€šè¿‡å…¨å±€é‡å®šä½æ¥åˆå§‹åŒ–ä½å§¿ä¼°è®¡ Relocalization()â€‹ å‡å¦‚ä½¿ç”¨ä¸Šé¢çš„æ–¹æ³•ï¼Œå½“å‰å¸§ä¸Žæœ€è¿‘é‚»å…³é”®å¸§çš„åŒ¹é…ä¹Ÿå¤±è´¥äº†ï¼Œ â€‹ é‚£ä¹ˆæ„å‘³ç€éœ€è¦é‡æ–°å®šä½æ‰èƒ½ç»§ç»­è·Ÿè¸ªã€‚ â€‹ é‡å®šä½çš„å…¥å£å¦‚ä¸‹ï¼š bOK = Relocalization(); â€‹ æ­¤æ—¶ï¼Œåªæœ‰åŽ»å’Œæ‰€æœ‰å…³é”®å¸§åŒ¹é…ï¼Œçœ‹èƒ½å¦æ‰¾åˆ°åˆé€‚çš„ä½ç½®ã€‚ â€‹ é¦–å…ˆï¼Œè®¡ç®—å½“å‰å¸§çš„BOWå‘é‡ï¼Œåœ¨å…³é”®å¸§è¯å…¸æ•°æ®åº“ä¸­é€‰å–è‹¥å¹²å…³é”®å¸§ä½œä¸ºå€™é€‰ã€‚ â€‹ ä½¿ç”¨å‡½æ•°å¦‚ä¸‹ï¼švector vpCandidateKFs = mpKeyFrameDB-&gt;DetectRelocalizationCandidates(&amp;mCurrentFrame); â€‹ å…¶æ¬¡ï¼Œå¯»æ‰¾æœ‰è¶³å¤Ÿå¤šçš„ç‰¹å¾ç‚¹åŒ¹é…çš„å…³é”®å¸§ï¼›æœ€åŽï¼Œåˆ©ç”¨RANSACè¿­ä»£ï¼Œç„¶åŽä½¿ç”¨PnPç®—æ³•æ±‚è§£ä½å§¿ã€‚è¿™ä¸€éƒ¨åˆ†ä¹Ÿåœ¨Tracking::Relocalization() é‡Œ â€‹ 3ã€‘å±€éƒ¨åœ°å›¾è·Ÿè¸ªâ€‹ æ›´æ–°å±€éƒ¨åœ°å›¾ UpdateLocalMap() æ›´æ–°å…³é”®å¸§å’Œ æ›´æ–°åœ°å›¾ç‚¹ UpdateLocalKeyFrames() UpdateLocalPoints â€‹ æœç´¢åœ°å›¾ç‚¹ èŽ·å¾—å±€éƒ¨åœ°å›¾ä¸Žå½“å‰å¸§çš„åŒ¹é… â€‹ ä¼˜åŒ–ä½å§¿ æœ€å°åŒ–é‡æŠ•å½±è¯¯å·® 3Dç‚¹-2Dç‚¹å¯¹ si pi = K T Pi = K exp(f) Pi 4ã€‘æ˜¯å¦ç”Ÿæˆå…³é”®å¸§â€‹ åŠ å…¥çš„æ¡ä»¶ï¼š â€‹ å¾ˆé•¿æ—¶é—´æ²¡æœ‰æ’å…¥å…³é”®å¸§ â€‹ å±€éƒ¨åœ°å›¾ç©ºé—² â€‹ è·Ÿè¸ªå¿«è¦è·Ÿä¸¢ â€‹ è·Ÿè¸ªåœ°å›¾ çš„ MapPoints åœ°å›¾ç‚¹ æ¯”ä¾‹æ¯”è¾ƒå°‘ 5ã€‘ç”Ÿæˆå…³é”®å¸§â€‹ KeyFrame(mCurrentFrame, mpMap, mpKeyFrameDB) â€‹ å¯¹äºŽåŒç›® æˆ– RGBDæ‘„åƒå¤´æž„é€ ä¸€äº› MapPointsï¼Œä¸ºMapPointsæ·»åŠ å±žæ€§ è¿›å…¥LocalMappingçº¿ç¨‹ è®¾ç½®é—­çŽ¯æ£€æµ‹å¸§ mpLoopCloser-&gt;InsertKeyFrame(mpCurrentKeyFrame); // ===]]></content>
      <categories>
        <category>SLAM</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ORB_SLAM æºç è§£æž 0]]></title>
    <url>%2F2019%2F05%2F12%2FSLAM%2FORB-SLAM_%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%2F</url>
    <content type="text"><![CDATA[ORB-SLAM_æºç è§£æžå‰è¨€æ•´ä½“è¾“å…¥ï¼š å›¾åƒ+æ—¶é—´ç (ä¼ æ„Ÿå™¨èžåˆ) ç›¸æœºå†…å‚(æ ‡å®šå¥½çš„)-ç›¸æœºzoomä¸å¯æ”¹å˜ï¼Œ focuså°½é‡ä¸å˜-ç»™å®šæ ‡å®šå›¾åƒçš„å¤§å°ï¼Œè®¡ç®—å†…å‚è·Ÿå›¾åƒå¤§å°æœ‰å…³(å¦‚æžœå¯¹é‡‡é›†å›¾åƒè¿›è¡Œç¼©æ”¾å¤„ç†ï¼Œåˆ™å†…å‚ç›¸åº”ç¼©æ”¾) ç›¸å…³é…ç½®æ–‡ä»¶ï¼Œå¦‚æŒ‡å®šç‰¹å¾æ£€æµ‹æè¿°å­ï¼Œç»™å‡ºå¯¹åº”ç‰¹å¾æè¿°å­çš„è¯æ±‡è¡¨ï¼Œå…·ä½“å†…éƒ¨è®¾ç½®çš„ä¸€äº›ç»éªŒå€¼ç­‰ å…³é”®ç±»ï¼š1. Tracking è·Ÿè¸ªè¦å¤„ç†æ¯å¸§å›¾åƒæ•°æ® é¢å‘å¯¹è±¡æ€æƒ³-&gt;å°è£…-å°†èŽ·å–çš„å›¾åƒæ•°æ®å°è£…æˆå¸§ï¼ŒåŽç»­å¤„ç†éƒ½æ˜¯é’ˆå¯¹äºŽå¸§å¤„ç† å…·ä½“Frameçš„ç»“æž„ Image-&gt;å­˜å‚¨å›¾åƒæ•°æ®(è¾“å…¥) Camera-&gt;å­˜å‚¨ç›¸æœºå†…å‚ä¿¡æ¯(è¾“å…¥) Feature-&gt;å­˜å‚¨å¸§å¯¹åº”çš„ç‰¹å¾æ•°æ®(è®¡ç®—) ( ä¸€å¯¹å¤šçš„å…³ç³») Mat-&gt;å­˜å‚¨å¸§å¯¹åº”ç›¸æœºå§¿æ€(è®¡ç®—) 1.1 track1.1.1 Track reference key frameâ€‹ åˆå§‹åŒ–çš„æ—¶å€™æ ¹æ®å‚è€ƒå…³é”®å¸§ä¼°è®¡å½“å‰å¸§ä½å§¿ 1.1.2 Track with motion modelâ€‹ æ ¹æ®è¿åŠ¨æ¨¡åž‹ï¼Œä¼°è®¡å½“å‰å¸§ä½å§¿ 1.1.3 Track Local Mapâ€‹ å±€éƒ¨åœ°å›¾ä¸­çš„Map pointæ‰¾åˆ°äº†ï¼Œè·Ÿä¸Šé¢ä¸€æ ·ï¼Œå°†è¿™äº›Map Pointè¿›è¡ŒæŠ•å½±åˆ°å½“å‰å¸§ä¸­ï¼Œå¯»æ‰¾åŒ¹é…ï¼Œç¡®å®š3D-2Dçš„å…³ç³» é¦–å…ˆç¡®å®šMap Pointèƒ½å¦æŠ•å½±åˆ°å½“å‰å¸§ä¸Š Map Pointçš„ä¸–ç•Œåæ ‡è½¬åˆ°ç›¸æœºåæ ‡ç³»ä¸‹ï¼Œçœ‹ç‚¹çš„æ·±åº¦æ˜¯å¦ä¸ºæ­£ Map PointæŠ•å½±åˆ°å›¾åƒä¸Šï¼Œæ˜¯å¦è¶…å‡ºå›¾åƒè¾¹ç•Œ Map Pointåœ¨æ·±åº¦èŒƒå›´å†…(æ¯ä¸ªMap Pointäº§ç”Ÿçš„æœ€å¤§æœ€å°æ·±åº¦) å½“å‰è§†å›¾æ–¹å‘ä¸ŽMapPointçš„å¹³å‡è§†å›¾æ–¹å‘çš„å¤¹è§’å¤§äºŽ60åº¦ â€‹ æ€»çš„æ¥è¯´ï¼Œè¿™ä¸‰ç§è·Ÿè¸ª(åŒ…æ‹¬å‰é¢çš„ä¸¤ç§)æœ€ç»ˆç›®æ ‡å°±æ˜¯æ‰¾åˆ°Map Pointä¸Žå½“å‰å¸§çš„ç‰¹å¾å½¢æˆå¯¹åº”å…³ç³»ï¼Œé€šè¿‡PnPå¯¹å½“å‰å¸§çš„ä½å§¿è¿›è¡Œæ±‚è§£ã€‚ 1.2 é‡å®šä½é—®é¢˜â€‹ æˆ‘ä»¬ä¼šé‡åˆ°è·Ÿè¸ªä¸¢å¤±çš„æƒ…å†µï¼Œé‚£æŽ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦ç§»åŠ¨é•œå¤´è¿›è¡Œé‡å®šä½ å…·ä½“ä¸»è¦é€šè¿‡å…³é”®å¸§æ•°æ®åº“è¿›è¡ŒæŸ¥æ‰¾ï¼Œæ‰¾å‡ºä¸Žå½“å‰å¸§æœ‰å…³ç³»çš„å…³é”®å¸§ï¼Œç¡®å®šå€™é€‰å…³é”®å¸§ å¯¹æ¯ä¸€ä¸€ä¸ªå€™é€‰å…³é”®å¸§ï¼Œé€šè¿‡Bowè¿›è¡ŒåŒ¹é…ï¼Œå¦‚æžœæœ‰è¶³å¤Ÿçš„åŒ¹é…(åŒ¹é…ç‰¹å¾æ•°è¶…è¿‡15ä¸ª) ï¼Œåˆ™æž„å»ºPnPè¿›è¡Œæ±‚è§£ï¼Œè®¡ç®—å‡ºå½“å‰å¸§çš„ç›¸æœºå¤–å‚ã€‚ EPnPç®—æ³• 5æ¬¡RANSACè¿­ä»£ï¼Œè®¡ç®—ç›¸æœºå¤–å‚ ä¼˜åŒ–å¸§ï¼Œå¦‚æžœåŒ¹é…ç‰¹å¾æ•°æ²¡æœ‰50ä¸ªï¼Œåˆ™å°†å€™é€‰å…³é”®å¸§å¯¹åº”çš„map pointæŠ•å½±åˆ°å½“å‰å¸§ç»§ç»­å¯»æ‰¾åŒ¹é…ï¼ŒåŒ¹é…å®Œæˆä¹‹åŽå†æ¬¡ä¼˜åŒ–å¸§ï¼Œå¦‚æžœåŒ¹é…æ•°è¿˜æ˜¯æ²¡æœ‰å¤§äºŽ50 ï¼Œåˆ™æ›´æ”¹æŠ•å½±åŒ¹é…é˜ˆå€¼ï¼Œå†æ¬¡åŒ¹é…ï¼Œåªæœ‰åŒ¹é…çš„ä¸ªæ•°å¤§äºŽ50 ï¼Œæ‰è¯´æ˜Žé‡å®šä½æˆåŠŸï¼Œæœ€åŽå¯¹å¤§äºŽ50ä¸ªåŒ¹é…å¯¹çš„å¸§å†æ¬¡å¯¹å¸§è¿›è¡Œä¼˜åŒ–ã€‚ 1.3 è·Ÿè¸ªç¡®å®šå…³é”®å¸§â€‹ è·Ÿè¸ªé™¤äº†è®¡ç®—æ¯å¸§çš„ä½å§¿ï¼Œè¿˜æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„ç›®çš„æ˜¯ç¡®å®šå…³é”®å¸§â€‹ ä½•æ—¶æ·»åŠ å…³é”®å¸§ï¼Œæˆ–è€…è¯´ä»€ä¹ˆæ˜¯å…³é”®å¸§ï¼š å…³é”®å¸§ä¸è¦å¤ªç¨ å¯†(ç›¸é‚»ä¸¤ä¸ªå…³é”®å¸§ä¹‹é—´æœ‰ä¸€å®šçš„é—´éš”ï¼ŒåŽŸä½œå®žçŽ°æ—¶å¤§çº¦æ˜¯30å¸§çš„é—´éš”) å½“å‰çš„å¸§è‡³å°‘åŒ¹é…åˆ°äº†50ä¸ªMap Point å½“å‰å¸§åŒ¹é…åˆ°çš„Map Pointçš„ä¸ªæ•°ä¸èƒ½è¶…è¿‡å‚è€ƒå…³é”®å¸§(ä¸Žå½“å‰å¸§æ‹¥æœ‰æœ€å¤šmap pointçš„å…³é”®å¸§)å¯¹åº”Map Pointçš„90%ï¼Œè¯´æ˜Žè¿™ä¸ªæ—¶å€™å‚è€ƒå…³é”®å¸§å¯ä»¥æ›¿ä»£å½“å‰å¸§ï¼Œè¿˜æ²¡æœ‰å¿…è¦åˆ›å»ºå…³é”®å¸§ å±€éƒ¨åœ°å›¾ä¼˜åŒ–ç©ºé—²çš„æ—¶å€™ 2. Local Mapping2.1 å¤„ç†æ–°å…³é”®å¸§â€‹ æ¯æ·»åŠ ä¸€ä¸ªkeyframe. ï¼Œç»´æŠ¤Covisibility Graph ï¼Œ Spanning Tree ï¼Œ Maplä»¥åŠè®¡ç®—è¯¥å¸§çš„è¯è¢‹è¡¨ç¤ºç¡®å®šåŒ¹é…ï¼Œä¸ºä¸‰è§’åŒ–åšå‡†å¤‡ 2.2 ç”Ÿæˆæ–°çš„Map Point å¾—åˆ°å½“å‰å…³é”®å¸§(cur_ keyframe)åœ¨Covisibility Graphä¸­é‚»æŽ¥çš„ä¸€äº›å…³é”®å¸§(å…±åŒçš„map pointæ•°å•ç›®è®¾ç½®20 ) å¯¹é‚»æŽ¥çš„å…³é”®å¸§è¿›è¡ŒéåŽ† (æ¯ä¸€ä¸ªè®¾ä¸ºref keyframe) ï¼Œåœ¨æžçº¿ä¸Šè¿›è¡Œæœç´¢å¹¶ä¸‰è§’åŒ– åŸºçº¿( cur keyframe5ref keyframe )ä¸Žef keyframeå¯¹åº”çš„map pointçš„æ·±åº¦å‡å€¼æ¯”å€¼ä¸èƒ½å¤ªå°ï¼Œè¿™æ ·å½¢æˆçš„3dç‚¹ä¸å¤Ÿç²¾ç¡® å¯¹æœªåŒ¹é…çš„ç‰¹å¾ç‚¹ï¼Œé¦–å…ˆé€šè¿‡orbçš„è¯æ±‡æ ‘è¿›è¡ŒåŠ é€ŸåŒ¹é… æ ¹æ®åŒ¹é…ç‚¹å¯¹ï¼Œé€šè¿‡ä¸‰è§’åŒ–è®¡ç®—3dç‚¹ æ£€æµ‹ä¸‰è§’åŒ–ä¹‹åŽçš„ç‚¹åœ¨ç›¸æœºå‰ åœ¨å‚è€ƒå¸§çš„é‡æŠ•å½±è¯¯å·®è¿›è¡Œæ£€æµ‹ å¯¹å°ºåº¦è¿›è¡Œæ£€æŸ¥ ç¡®å®šMap Pointçš„ç›¸å…³å±žæ€§(å¹³å‡è§‚å¯Ÿæ–¹å‘ï¼Œè§‚æµ‹è·ç¦»ï¼Œæœ€ä½³æè¿°å­ç­‰) äº§ç”Ÿäº†æ–°çš„Map Pointä¹‹åŽrè¯¥Map Pointå¯èƒ½ä¼šè¢«å…¶ä»–å…³é”®å¸§æ‰¾åˆ°ï¼Œä¸ºä¹‹å‰å¸§æ·»åŠ å¯¹åº”å…³ ç³»ï¼Œæˆ–è€…è¯¥Map Pointä¸Žå…¶ä»–å…³é”®å¸§ä¹‹é—´åˆ›å»ºçš„Map Pointæœ‰äº¤é›†ï¼Œå…·ä½“åšæ³•ä¸ºï¼š æ ¹æ®covisibility grapbæ‰¾åˆ°é‚»æŽ¥å…³é”®å¸§(å…±åŒmap pointæ•°20 ) éåŽ†é‚»æŽ¥å…³é”®å¸§ï¼Œå¯¹æ¯ä¸€ä¸ªé‚»æŽ¥å…³é”®å¸§å†æ¬¡è®¡ç®—æœ‰å…³ç³»çš„å…³é”®å¸§(å…±åŒmap pointæ•°5 )å¾—åˆ°äºŒçº§é‚»æŽ¥å…³é”®å¸§ éåŽ†å½“å‰å¸§çš„ä¸€çº§é‚»æŽ¥å’ŒäºŒçº§é‚»æŽ¥çš„å…³é”®å¸§( each_ keyframe ) ï¼Œå°†å½“å‰å¸§å¯¹åº”çš„map pointæŠ•å½±åˆ°each_ keyframeä¸Šï¼Œç¡®å®šå¯¹åº”çš„ç‰¹å¾æ˜¯å¦å·²ç»æœ‰å¯¹åº”çš„map point ï¼Œå¦‚æžœæœ‰ï¼Œæˆ‘ä»¬é€‰æ‹©map pointå¯¹åº”è§‚æµ‹é‡å¤šçš„é‚£ä¸ªï¼Œæ²¡æœ‰åˆ™æ·»åŠ åˆ°each_ keyframeå¯¹åº”çš„ç‰¹å¾ä¸Š 2.3 Map Pointå‰”é™¤ æ˜¯å¦ä¸ºåç‚¹ï¼ˆåç‚¹ä¸ºè§‚å¯Ÿåˆ°å®ƒçš„å…³é”®å¸§çš„ä¸ªæ•°å°äºŽ3ï¼‰ï¼Œè‹¥ä¸ºåç‚¹ç›´æŽ¥å‰”é™¤ èƒ½æ‰¾åˆ°è¯¥ç‚¹çš„å¸§ä¸åº”è¯¥å°‘äºŽç†è®ºä¸Šè§‚æµ‹åˆ°è¯¥ç‚¹çš„å¸§çš„1/4 ç†è®ºè§‚å¯Ÿè¯¥ç‚¹è¡¨ç¤ºï¼Œè¯¥ç‚¹èƒ½æŠ•å½±åˆ°çš„å±€éƒ¨å…³é”®å¸§çš„ä¸ªæ•° å®žé™…è§‚æµ‹è¯¥ç‚¹è¡¨ç¤ºï¼Œä¼˜åŒ–åŽï¼Œèƒ½æŠ•å½±çš„å…³é”®å¸§çš„ä¸ªæ•° ä»Žåˆ›å»ºè¯¥Map Pointå¼€å§‹åˆ°çŽ°åœ¨å·²ç»è¿‡äº†è‡³å°‘2ä¸ªå…³é”®å¸§ï¼Œä½†æ˜¯è§‚å¯Ÿåˆ°è¯¥ç‚¹çš„å…³é”®å¸§ä¸è¶…è¿‡2ä¸ª 2.4 å…³é”®å¸§å‰”é™¤ æ ¹æ®Covisibility Graphç¡®å®šå±€éƒ¨å…³é”®å¸§ï¼Œå¯¹æ‰€æœ‰å±€éƒ¨å…³é”®å¸§éƒ½è¿›è¡Œéï¼ˆeach_keyframeï¼‰ å¯¹each_keyframeå¯¹åº”çš„æ¯ä¸€ä¸ªMap Pointè¿›è¡Œåˆ†æžï¼Œä¸Žè¯¥Map Pointå¯¹åº”çš„ç‰¹å¾çš„ä¸ªæ•°å¤§äºŽ3 å¦‚æžœeach_frameä¸Šå¯¹åº”çš„Map Pointèƒ½è¢«å…¶ä»–è‡³å°‘3ä¸ªå…³é”®å¸§è§‚æµ‹åˆ°90%ä»¥ä¸Šçš„è¯ï¼Œå°±å‰”é™¤å®ƒ 2.5 local BAâ€‹ æ·»åŠ å®Œäº†å…³é”®å¸§åŠå¯¹åº”mappointï¼Œæœ‰äº†è¿™äº›æ–°çš„çº¦æŸï¼Œè¿›è¡Œä¸€æ¬¡å±€éƒ¨bundle adjustmentï¼Œå…·ä½“åšæ³•: æ ¹æ®Covisibility Graphç¡®å®šå±€éƒ¨å…³é”®å¸§ï¼Œè®¾ä¸ºå›¾èŠ‚ç‚¹ æ ¹æ®å±€éƒ¨å…³é”®å¸§ï¼Œç¡®å®šå±€éƒ¨çš„map point ï¼Œè®¾ä¸ºå›¾èŠ‚ç‚¹ å†æ‰¾åˆ°é‚£äº›å¯ä»¥çœ‹åˆ°å±€éƒ¨map pointçš„å…³é”®å¸§ï¼Œä½†æ˜¯ä¸æ˜¯å±€éƒ¨å…³é”®å¸§çš„ï¼Œåˆ°æ—¶åœ¨ä¼˜åŒ–çš„æ—¶å€™ï¼Œè®¾ç½®ä¸ºfixed ï¼Œä¸è¿›è¡Œä¼˜åŒ– æŠŠå±€éƒ¨map pointä¸­æ¯ä¸€ä¸ªmap pointä¸Žè§‚å¯Ÿåˆ°è¯¥map pointçš„æ‰€æœ‰å…³é”®å¸§æž„å»ºè¾¹ï¼Œ è¾¹çš„è§‚æµ‹å€¼ä¸ºmap pointå¯¹åº”çš„ç‰¹å¾åæ ‡ï¼Œè¾¹çš„ä¿¡æ¯çŸ©é˜µï¼Œè€ƒè™‘è¯¯å·®æ˜¯ä¸€ä¸ªåƒç´ *å°ºåº¦ åŽ»é™¤ä¸€äº›ä¸å¥½çš„è¾¹ï¼Œå†æ¬¡è¿›è¡Œä¼˜åŒ–ï¼Œå³å¯¹keyframeå¯¹åº”çš„ç›¸æœºå¤–å‚å’Œmappointçš„ä¸–ç•Œåæ ‡ç³»ä¸­çš„ä½ç½®è¿›è¡Œäº†ä¿®æ­£ 3. Loop Closingâ€‹ é€šè¿‡Local Mappingæˆ‘ä»¬å¯¹KeyFrameçš„ä½å§¿å’ŒMap Pointçš„ä½ç½®è¿›è¡Œäº†ä¼˜åŒ–ï¼Œä½†æ˜¯å®žé™…è®¡ç®—å‡ºçš„ä½å§¿è¿˜æ˜¯æœ‰è¯¯å·®çš„ï¼Œ è¯¯å·®ç§¯ç´¯ä¹‹åŽï¼Œåˆ™å°ºåº¦ä¸å†ç»Ÿä¸€ï¼Œè¿™å°±ä¼šäº§ç”Ÿå°ºåº¦æ¼‚ç§»é—®é¢˜ï¼Œè½¨è¿¹çš„è¯¯å·®ä¹Ÿä¼šè¶Šæ¥è¶Šå¤§ï¼Œå› æ­¤éœ€è¦è¿›è¡Œå›žçŽ¯æ£€æµ‹æ¥è§£å†³å®ƒã€‚ 3.1 æ£€æµ‹å›žçŽ¯Loop Candidates Detection â€‹ Local Mappingçº¿ç¨‹å¤„ç†ä¹‹åŽï¼Œåœ¨Loop closingæ’å…¥å…³é”®å¸§cur_ keyframe ï¼Œåˆ™Loop Closingçº¿ç¨‹å¤„ç†ï¼Œé¦–å…ˆé—­çŽ¯æ£€æµ‹ï¼Œå…·ä½“å¤„ç†: æ ¹æ®Covisility Graphç¡®å®šå±€éƒ¨å…³é”®å¸§( each_ keyframe ) è®¡ç®—cur_ keyframeçš„è¯è¢‹å‘é‡ä¸Žæ‰€æœ‰each_ keyframeçš„è¯è¢‹å‘é‡çš„ç›¸ä¼¼åº¦ï¼Œå¾—åˆ°æœ€å°ç›¸ä¼¼åº¦ åœ¨å…³é”®å¸§æ•°æ®åº“ä¸­æ‰¾åˆ°ç›¸ä¼¼åº¦ä¸å°äºŽæœ€å°ç›¸ä¼¼åº¦çš„å…³é”®å¸§ä½œä¸ºé—­çŽ¯çš„å€™é€‰å…³é”®å¸§ ä¸€å¯¹æ¯ä¸€ ä¸ªå€™é€‰å…³é”®å¸§æ£€æµ‹å…¶ä¸Žä¹‹å‰å›žçŽ¯çš„ä¸€è‡´æ€§ã€‚ä¸»è¦ä¹Ÿå°±æ˜¯é€šè¿‡è¿žç»­ä¸‰æ¬¡çš„å…³é”®å¸§å¯¹åº”ç›¸åŒçš„å€™é€‰é—­çŽ¯å¸§ï¼Œåˆ™è®¤ä¸ºè¯¥å¸§ä¸ºé—­çŽ¯å¸§ã€‚ 3.2 è®¡ç®—ç›¸ä¼¼å˜æ¢Compute the Similarity Transformation æ‰¾åˆ°äº†å½“å‰å…³é”®å¸§å¯èƒ½çš„å€™é€‰é—­çŽ¯å¸§ï¼Œè®¡ç®—å½“å‰å…³é”®å¸§ä¸Žå¯èƒ½çš„å€™é€‰é—­çŽ¯å¸§çš„åŒ¹é…ï¼Œæ ¹æ®ç‰¹å¾çš„åŒ¹é…ï¼Œç¡®å®šä¸¤å¸§ä¹‹é—´map pointçš„åŒ¹é…(åŒ¹é…æ•°å¤§äºŽ20 ) é€šè¿‡RANSACè®¡ç®—Sim3 ï¼Œç„¶åŽæ ¹æ®è¿™ä¸ªSim3è¿›è¡Œå¤„ç†ï¼Œä¼˜åŒ–æ‰€æœ‰çš„å¯¹åº”ã€‚ ä¸¤å¸§è¿›è¡Œç›¸äº’æŠ•å½±å„è‡ªæ ¹æ®è‡ªå·±å¯¹åº”çš„map pointå¯»æ‰¾å¯¹åº”å¸§çš„åŒ¹é…ï¼Œæœ€åŽçœ‹ä¸¤ä¸ªåŒ¹é…ä¸€è‡´çš„æ•°ç›®ã€‚ ä¼˜åŒ–é‡æŠ•å½±è¯¯å·®optimizeSim3 å°†é—­çŽ¯å¸§åŠå…¶ç›¸é‚»å¸§å¯¹åº”çš„mappointæŠ•å½±åˆ°å½“å‰å¸§ä¸Šï¼Œè¿™è¾¹ç”¨sim3 ï¼Œå¯»æ‰¾æ›´å¤šçš„åŒ¹é… å¦‚æžœåŒ¹é…æ•°å¤§äºŽ40 ï¼Œåˆ™è®¤ä¸ºè®¡ç®—æˆåŠŸ 3.3 é—­çŽ¯èžåˆLoop Fusion é€šè¿‡ä¸Šä¸€æ­¥è®¡ç®—ï¼Œæˆ‘ä»¬ç¡®å®šäº†é—­çŽ¯å¸§ä»¥åŠå¯¹åº”çš„Sim3ï¼Œæˆ‘ä»¬è¦åšçš„æ˜¯ï¼š å°†å½“å‰å…³é”®å¸§å¯¹åº”çš„map pointæ¢æˆé—­çŽ¯å¸§å¯¹åº”çš„map point (è¿™è¾¹éƒ½åŒ…æ‹¬ç›¸é‚»çš„å¸§å¯¹åº”) é‡æ–°æž„å»ºcovisibility graphï¼ˆè€ƒè™‘åˆ°çŽ¯ï¼Œéœ€è¦æ›´æ–°ç›¸é‚»å…³é”®å¸§ï¼‰ 3.4 ä¼˜åŒ–Essential Graphåœ¨Essential graphä¸Šè¿›è¡Œå§¿æ€å›¾ä¼˜åŒ– å°†åœ°å›¾ä¸­çš„æ‰€æœ‰å…³é”®å¸§è®¾ä¸ºé¡¶ç‚¹ï¼Œä¼°è®¡é‡ä¸ºæ¯ä¸ªå…³é”®å¸§å¯¹åº”çš„Sim3 ï¼Œé—­çŽ¯å¸§ä¸åšä¼˜åŒ– æ·»åŠ é—­çŽ¯è¾¹ï¼Œå½“å‰å¸§çš„é›†åˆä¸Žé—­çŽ¯å¸§çš„é›†åˆæž„æˆå›¾ä¸­çš„è¾¹ï¼Œæƒé‡å°äºŽ100çš„ä¸è€ƒè™‘ï¼Œè¾¹çš„è§‚æµ‹å€¼æ˜¯ä¸¤å¸§ä¹‹é—´çš„ç›¸å¯¹å˜åŒ–é‡ï¼Œä¿¡æ¯çŸ©é˜µæ˜¯å•ä½é˜µ æ·»åŠ æ­£å¸¸è¾¹ï¼ŒéåŽ†æ‰€æœ‰çš„å…³é”®å¸§ï¼Œæ‰¾åˆ°å…³é”®å¸§å¯¹åº”çš„çˆ¶èŠ‚ç‚¹ä¹Ÿå°±æ˜¯Spanning treeçš„è¾¹ï¼Œè¾¹çš„è§‚æµ‹å€¼æ˜¯ä¸¤å¸§ä¹‹é—´çš„ç›¸å¯¹å˜åŒ–é‡ï¼Œä¿¡æ¯çŸ©é˜µæ˜¯å•ä½é˜µï¼Œç»§ç»­éåŽ†å½“å‰å¸§æ‰€å¯¹åº”çš„é—­çŽ¯å¸§ï¼Œå¦‚æžœé—­çŽ¯å¸§åœ¨å½“å‰å¸§ä¹‹é—´ï¼Œåˆ™æ·»åŠ è¾¹ï¼Œç»§ç»­å¯¹covisibilitygraphæƒé‡å¤§äºŽ100æž„æˆè¾¹ï¼Œæœ€åŽä¼˜åŒ– 4. Viewer]]></content>
      <categories>
        <category>SLAM</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Django]]></title>
    <url>%2F2019%2F05%2F12%2FGuideBook%2FDjango%2FDjango_1%2F</url>
    <content type="text"><![CDATA[Django: 2.1.4 Python: 3.6.8]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Django</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[hexo_in_Mac]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2Fhexo_in_Mac%2F</url>
    <content type="text"><![CDATA[Hexo in Mac hexoæ˜¾ç¤ºlatexå…¬å¼ hexoæ­å»º hexoå’ŒTyporaçš„å›¾ç‰‡è·¯å¾„é—®é¢˜ è¿™é‡Œè¯´ä¸€ä¸‹ï¼Œå¯ä»¥ä¿®æ”¹Typoraçš„åå¥½è®¾ç½®é‡Œå¤åˆ¶å›¾ç‰‡åˆ°æŒ‡å®šè·¯å¾„ï¼Œå¦å¤–hexoåªè®¤sourceæ——ä¸‹çš„å›¾ç‰‡ hexoè¿žæŽ¥æ ·å¼è®¾ç½® hexoéšè—æŒ‡å®šæ–‡ç«  hexoæ‰“èµ-å‚è€ƒå®˜ç½‘ hexoæ­å»ºæ¯”è¾ƒå®Œæ•´çš„æ•™ç¨‹ To doï¼š hexoè®¾ç½®é˜…è¯»é‡ç»Ÿè®¡ hexoè®¾ç½®è¯„è®º hexoæ˜¾ç¤ºå­—æ•°ç»Ÿè®¡ hexoå…³äºŽé¡µé¢ hexoæœç´¢é¡µé¢ hexoå¤´åƒæ ·å¼ hexoè®¾ç½®å¹³å¸¸çš„æ ·å¼ hexoæ‰“èµåŠŸèƒ½]]></content>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‘¨å·¥ä½œæ±‡æŠ¥]]></title>
    <url>%2F2019%2F05%2F11%2FWebAR%2F%E5%91%A8%E5%B7%A5%E4%BD%9C%E6%B1%87%E6%8A%A5%2F</url>
    <content type="text"><![CDATA[å‘¨å·¥ä½œæ±‡æŠ¥ ä¸€. æœ¬å‘¨å­¦ä¹ æƒ…å†µ æ—¥æœŸ å­¦ä¹ å†…å®¹ 2.15-2.22 è®ºæ–‡é˜…è¯»ï¼šThe Argon AR Web Browser and standards-based AR application environment ; Webå‰ç«¯ä¸­çš„å¢žå¼ºçŽ°å®žå¼€å‘æŠ€æœ¯ç ”ç©¶_åº„å¤ äºŒ. ä¸‹å‘¨å­¦ä¹ è®¡åˆ’ äº†è§£ARCoreçš„å¼€å‘æµç¨‹ï¼Œè¿›ä¸€æ­¥å®Œå–„å¼€å‘å‡†å¤‡ ç»§ç»­é˜…è¯»WebARæ–¹å‘paperï¼Œäº†è§£æœ€å‰æ²¿åŠ¨æ€ äº†è§£WebARç›¸å…³äº§å“åŠä½¿ç”¨çš„åº“]]></content>
      <categories>
        <category>WebAR</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Web_0]]></title>
    <url>%2F2019%2F05%2F11%2FWeb%2FWeb_0%2F</url>
    <content type="text"><![CDATA[Web_0May 2019.2.26 Introduction æœåŠ¡å™¨ã€æ•°æ®åº“ Webé¡¹ç›®ï¼šä¸ªäººé¡¹ç›® å†…å®¹ï¼šæ›´æ³¨é‡å‰ç«¯ ä¸»è¦æŠ€æœ¯ï¼š Socketç¼–ç¨‹ HTTPåè®® SSLåè®® Webæ–‡æ¡£ç±»åž‹ï¼š é™æ€ç½‘é¡µï¼šhtmlå’Œcss æ´»åŠ¨ç½‘é¡µï¼š code run in browser jsã€flash åŠ¨æ€ç½‘é¡µï¼š code run in web server Java EEï¼ŒNET ASPï¼Œ PHPï¼Œ Python åŸºæœ¬æŠ€æœ¯ [ ] Qï¼šH5ç‰¹æ€§ï¼Ÿ [ ] Qï¼šå¹¶å‘æ€§æµ‹è¯•å·¥å…·ï¼Ÿ [ ] Qï¼šWebçš„å‘å±• å¯äº†è§£ï¼š ç½‘é¡µå‰ç«¯Bootstrap ç¼–ç¨‹å‰ç«¯JQuery Framework ç¼–ç¨‹åŽç«¯PHPè¯­è¨€ WeChat TypeScript Web Security Webå¯è§†åŒ–echart]]></content>
      <categories>
        <category>Web</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[FishMem]]></title>
    <url>%2F2019%2F05%2F11%2FFishMem%2F</url>
    <content type="text"><![CDATA[FishMemé˜¿é‡Œäº‘æœåŠ¡å™¨IPåœ°å€ï¼š120.76.62.132 ç”µè„‘IPåœ°å€ï¼špc.washingpatrick.cn 1ssh mei/root@pc.washingpatrick.cn -p 5000 12https://img1.360buyimg.com/n6/jfs/t1/26161/40/7321/159453/5c6a5fc6Ecc0df3bf/a03e44d30d60352f.jpghttps://img1.360buyimg.com/n6/jfs/t22405/273/1704311852/168416/6cc2bf5d/5b34b4fdNe12e22fe.jpg 73ï¼Œ80,105,121 ,134ï¼Œ137ï¼Œ145ï¼Œ165ï¼Œ173ï¼Œ178ï¼Œ179ï¼Œ184ï¼Œ185ï¼Œ188ï¼Œ191ï¼Œ192ï¼Œ193ï¼Œ221ï¼Œ223ï¼Œ226ï¼Œ227ï¼Œ228ï¼Œ229-231ï¼Œ249ï¼Œ251-252ï¼Œ256ï¼Œ260-264 12cd /home/mei/Desktop/cv/darknetnohup ./darknet detector train cfg/noodles.data cfg/yolov2-noodles.cfg backup/yolov2-noodles_200.weights &gt;&gt; running.log 2&gt;&amp;1 &amp;]]></content>
  </entry>
  <entry>
    <title><![CDATA[è¯¾ç¨‹å»ºè®®]]></title>
    <url>%2F2019%2F05%2F11%2F%E8%AF%BE%E7%A8%8B%E5%BB%BA%E8%AE%AE%2F</url>
    <content type="text"><![CDATA[è¯¾ç¨‹å»ºè®® è®¡ç®—æœºå›¾å½¢å­¦ è®¡ç®—æœºç½‘ç»œ è½¯ä»¶å·¥ç¨‹ å¸Œæœ›å¯ä»¥æå»ºè®®è€Œä¸æ˜¯è¦æ±‚ ä¸‰ç»´ä¸ŽåŽæœŸæŠ€æœ¯ [x] å¼ºçƒˆå»ºè®®è€å¸ˆè¯¾å‰å…ˆç»™pptï¼ æ•°å­—å›¾åƒå¤„ç†ï¼š [ ] è®ºæ–‡æŽ¨èï¼Ÿ è½¯ä»¶æž¶æž„ï¼š å»ºè®®pdfåœ¨ç¬¬å››å‘¨ä¹‹å‰å°±å‘ç»™åŒå­¦ä»¬ï¼Œçªç„¶é—´è¯¾å°±å¤šäº†å¥½å¤š [ ] ï¼è¿›åº¦æ¯”è€å¸ˆå¿«ï¼Œä¹Ÿæ²¡å…³ç³»çš„ï¼Œæƒ³å­¦å°±å¾€ä¸‹å­¦ï¼Œä¸è¦è¢«è¯¾ç¨‹è¿›åº¦æŸç¼š test test ã€it worksï¼ã€‘]]></content>
  </entry>
  <entry>
    <title><![CDATA[Markdownè¯­æ³•]]></title>
    <url>%2F2019%2F05%2F11%2Fmarkdown%E8%AF%AD%E6%B3%95%2F</url>
    <content type="text"><![CDATA[ç½—é©¬æ•°å­—ï¼šâ… ã€â…¡ã€â…¢ã€â…£ã€â…¤ã€â…¥ã€â…¦ã€â…§ã€â…¨ã€â…©ã€â…ªã€â…« ä¾‹å­ markdown $\frac{7x+5}{1+y^2}$ \frac{7x+5}{1+y^2} $z = z_l$ z=z_l $\cdots$ \cdots $\frac{d}{dx}e^{ax}=ae^{ax}\quad \sum_{i=1}^{n}{(X_i - \overline{X})^2}$ \frac{d}{dx}e^{ax}=ae^{ax}\quad \sum_{i=1}^{n}{(X_i - \overline{X})^2} $\sqrt{2};\sqrt[n]{3}$ \sqrt{2};\sqrt[n]{3} $\vec{a} \cdot \vec{b}=0$ \vec{a} \cdot \vec{b}=0 $\int ^2_3 x^2 {\rm d}x$ \int ^2_3 x^2 {\rm d}x $\lim_{n\rightarrow+\infty} n$ \lim_{n\rightarrow+\infty} n $\sum \frac{1}{i^2}$ \sum \frac{1}{i^2} $\prod \frac{1}{i^2}$ \prod \frac{1}{i^2} ç‰¹æ®Šå­—ç¬¦å¯¹ç…§è¡¨ æ•°å­¦å…¬å¼è¯­æ³• \vec{}\begin{bmatrix}1 & 2 & 3 \\4 & 5 & 6\end{bmatrix} \alpha \beta \gamma \delta \epsilon \zeta \eta \theta \iota \kappa \lambda \mu \nu \xi \omicron \pi \rho \sigma \tau \upsilon \phi \chi \psi \omega \Alpha \Beta \Gamma \Delta \Epsilon \Zeta \Eta \Theta \Iota \Kappa \Lambda \Mu \Nu \Xi \Omicron \Pi \Rho \Sigma \Tau \Upsilon \Phi \chi \Psi \Omegatest for href to cppfiles 12graph LRA --&gt; B 1234567graph TB A B[Bname] C(Cname) D((Dname)) E&gt;Ename] F&#123;Fname&#125; 1234567graph TB a1--&gt;b1 a2---b2 a3--text---b3 a4--text--&gt;b4 a5-.-b5 a6-.-&gt;b6 123456789st=&gt;start: æ³¨å†Œå°è±¡ç¬”è®°e=&gt;end: æ‚¨å¯ä»¥ä½¿ç”¨markdownop1=&gt;operation: ç™»å½•å°è±¡ç¬”è®°op2=&gt;operation: è´­ä¹°å¹¶ç™»å½•é©¬å…‹é£žè±¡cond=&gt;condition: æ˜¯å¦å·²ç»è´­ä¹°å¹¶ç™»å½•äº†é©¬å…‹é£žè±¡?st-&gt;op1-&gt;condcond(yes)-&gt;econd(no)-&gt;op2-&gt;e]]></content>
  </entry>
  <entry>
    <title><![CDATA[GameDesign_0]]></title>
    <url>%2F2019%2F05%2F11%2FGameDesign%2FGameDesign_0%2F</url>
    <content type="text"><![CDATA[GameDesign_0tomb rainder]]></content>
      <categories>
        <category>GameDesign</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Caffe in Ubuntu]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FCaffe%20in%20Ubuntu%2F</url>
    <content type="text"><![CDATA[Caffe in Ubuntu config: System: Ubuntu 16.04 Nvidia Driver Version: 418.56 GPUï¼šGeForce GTX 960M å®‰è£…æ˜¾å¡é©±åŠ¨ï¼ˆå·²ç»å®‰è£…å¥½äº†ï¼‰ å®‰è£…cuda 1234567891011121314151617181920212223mei@mei-luo:~$ sudo nvidia-smi[sudo] password for mei: Tue May 7 10:08:47 2019 +-----------------------------------------------------------------------------+| NVIDIA-SMI 418.56 Driver Version: 418.56 CUDA Version: 10.1 ||-------------------------------+----------------------+----------------------+| GPU Name Persistence-M| Bus-Id Disp.A | Volatile Uncorr. ECC || Fan Temp Perf Pwr:Usage/Cap| Memory-Usage | GPU-Util Compute M. ||===============================+======================+======================|| 0 GeForce GTX 960M Off | 00000000:01:00.0 Off | N/A || N/A 49C P8 N/A / N/A | 428MiB / 2004MiB | 0% Default |+-------------------------------+----------------------+----------------------+ +-----------------------------------------------------------------------------+| Processes: GPU Memory || GPU PID Type Process name Usage ||=============================================================================|| 0 970 G /usr/lib/xorg/Xorg 145MiB || 0 1455 G compiz 231MiB || 0 1802 G /opt/teamviewer/tv_bin/TeamViewer 24MiB || 0 1912 G fcitx-qimpanel 23MiB |+-----------------------------------------------------------------------------+mei@mei-luo:~$ Error: ubuntu. cuda ERROR: You appear to be running an X server; cudaå®‰è£… 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273Last login: Thu May 9 10:43:24 2019 from 10.20.150.177mei@mei-luo:~$ cd /home/mei/NVIDIA_CUDA-10.1_Samples/bin/x86_64/linux/release/mei@mei-luo:~/NVIDIA_CUDA-10.1_Samples/bin/x86_64/linux/release$ ./deviceQuery./deviceQuery Starting... CUDA Device Query (Runtime API) version (CUDART static linking)Detected 1 CUDA Capable device(s)Device 0: "GeForce GTX 960M" CUDA Driver Version / Runtime Version 10.1 / 10.1 CUDA Capability Major/Minor version number: 5.0 Total amount of global memory: 2004 MBytes (2101870592 bytes) ( 5) Multiprocessors, (128) CUDA Cores/MP: 640 CUDA Cores GPU Max Clock rate: 1176 MHz (1.18 GHz) Memory Clock rate: 2505 Mhz Memory Bus Width: 128-bit L2 Cache Size: 2097152 bytes Maximum Texture Dimension Size (x,y,z) 1D=(65536), 2D=(65536, 65536), 3D=(4096, 4096, 4096) Maximum Layered 1D Texture Size, (num) layers 1D=(16384), 2048 layers Maximum Layered 2D Texture Size, (num) layers 2D=(16384, 16384), 2048 layers Total amount of constant memory: 65536 bytes Total amount of shared memory per block: 49152 bytes Total number of registers available per block: 65536 Warp size: 32 Maximum number of threads per multiprocessor: 2048 Maximum number of threads per block: 1024 Max dimension size of a thread block (x,y,z): (1024, 1024, 64) Max dimension size of a grid size (x,y,z): (2147483647, 65535, 65535) Maximum memory pitch: 2147483647 bytes Texture alignment: 512 bytes Concurrent copy and kernel execution: Yes with 1 copy engine(s) Run time limit on kernels: No Integrated GPU sharing Host Memory: No Support host page-locked memory mapping: Yes Alignment requirement for Surfaces: Yes Device has ECC support: Disabled Device supports Unified Addressing (UVA): Yes Device supports Compute Preemption: No Supports Cooperative Kernel Launch: No Supports MultiDevice Co-op Kernel Launch: No Device PCI Domain ID / Bus ID / location ID: 0 / 1 / 0 Compute Mode: &lt; Default (multiple host threads can use ::cudaSetDevice() with device simultaneously) &gt;deviceQuery, CUDA Driver = CUDART, CUDA Driver Version = 10.1, CUDA Runtime Version = 10.1, NumDevs = 1Result = PASSmei@mei-luo:~/NVIDIA_CUDA-10.1_Samples/bin/x86_64/linux/release$ ./bandwidthTest [CUDA Bandwidth Test] - Starting...Running on... Device 0: GeForce GTX 960M Quick Mode Host to Device Bandwidth, 1 Device(s) PINNED Memory Transfers Transfer Size (Bytes) Bandwidth(GB/s) 32000000 11.7 Device to Host Bandwidth, 1 Device(s) PINNED Memory Transfers Transfer Size (Bytes) Bandwidth(GB/s) 32000000 11.6 Device to Device Bandwidth, 1 Device(s) PINNED Memory Transfers Transfer Size (Bytes) Bandwidth(GB/s) 32000000 68.3Result = PASSNOTE: The CUDA Samples are not meant for performance measurements. Results may vary when GPU Boost is enabled.mei@mei-luo:~/NVIDIA_CUDA-10.1_Samples/bin/x86_64/linux/release$]]></content>
      <categories>
        <category>Ubuntu</category>
        <category>Caffe</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Caffeå®‰è£…]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FCaffe%E5%AE%89%E8%A3%85%2F</url>
    <content type="text"><![CDATA[Caffeå®‰è£…1. å®‰è£…ä¾èµ–1234luomeideMacBook-Pro:caffe luomei$ brew install -vd snappy leveldb gflags glog szip lmdbluomeideMacBook-Pro:caffe luomei$ brew tap homebrew/scienceluomeideMacBook-Pro:caffe luomei$ brew install hdf5 opencvluomeideMacBook-Pro:caffe luomei$ brew install protobuf boost 2. ä¸‹è½½ã€ç¼–è¯‘Caffe12luomeideMacBook-Pro:~ luomei$ git clone https://github.com/BVLC/caffe.gitluomeideMacBook-Pro:~ luomei$ cd caffe å¼€å§‹æŠ¥é”™äº†ã€‚ã€‚ å…ˆæ˜¯æ‰¾ä¸åˆ°Makefile.configï¼ŒåŽŸæ¥åŽ‹æ ¹æ²¡ç»™è¿™ä¸ªæ–‡ä»¶ï¼Œç…§ç€ Makefile.config.example å†™äº†ä¸ªæ–‡ä»¶ã€‚æŠŠopecvversionå’Œcpu_onlyéƒ¨åˆ†çš„æ³¨é‡ŠåŽ»æŽ‰äº†ã€‚ çœ‹äº†ä¸€ä¸‹æ˜¯protobufçš„é—®é¢˜ï¼Œå°è¯•äº†å¾ˆå¤šåŠžæ³•ã€‚ã€‚ã€‚ æœ€åŽå¸äº†3.6çš„ï¼Œä½¿ç”¨æºç å®‰è£…2.6çš„ 12345./autogen.sh./configuremakemake checkmake install â€‹ ä¹‹åŽè®°å¾— 12make cleanmake all å¥½çš„åˆæŠ¥é”™äº†ã€‚ã€‚ã€‚ ./include/caffe/util/mkl_alternate.hpp:14:10: fatal error: â€˜cblas.hâ€™ file not found #include Makefile.config é‡Œé¢åŽŸæ¥è¿™ä¸¤å¥æ˜¯è¢«æ³¨é‡ŠæŽ‰çš„ï¼Œæˆ‘æ˜¯ç”¨homebrewå®‰è£…çš„openblasï¼ŒæŠŠæ³¨é‡Šè§£å¼€å°±å¥½äº†ã€‚ 123# Homebrew puts openblas in a directory that is not on the standard search pathBLAS_INCLUDE := $(shell brew --prefix openblas)/includeBLAS_LIB := $(shell brew --prefix openblas)/lib fineï¼Œæ–°çš„é”™ /usr/local/include/leveldb/status.h:26:11: error: expected â€˜;â€™ at end of declaration list çœ‹äº†ä¸€ä¸‹æ˜¯noexceptå…³é”®è¯æŠ¥çš„é”™ï¼Œæ·»åŠ C++11æ ‡å‡†ç¼–è¯‘ã€‚ è§£å†³æ–¹æ³•: Makefile ä¸­å®šä½åˆ° 1234567##############################Configure build###############################Linux æ·»åŠ ï¼šCXXFLAGS += -std=c++11 è¿™å¥çš„ä½œç”¨å°±æ˜¯å°†ç¼–è¯‘æ—¶ç”¨åˆ°çš„g++åŠ ä¸Šç¼–è¯‘é€‰é¡¹â€œ -std=c++11â€ï¼ŒåŠ ä¸Šæ­¤ç¼–è¯‘é€‰é¡¹åŽç”¨çš„å°±æ˜¯11æ ‡å‡†ï¼Œä¸åŠ è²Œä¼¼é»˜è®¤çš„æ˜¯98æ ‡å‡†ã€‚ Fineï¼Œåˆæ¥é”™äº† ld: framework not found vecLib clang: error: linker command failed with exit code 1 (use -v to see invocation) 12BLAS_INCLUDE ?= /System/Library/Frameworks/vecLib.framework/Versions/Current/Headers/LDFLAGS += -framework vecLib çœ‹äº†ä¸€ä¸‹vecLibå‡ºçŽ°çš„åœ°æ–¹ï¼Œçœ‹äº†ä¸€ä¸‹è‡ªå·±ç³»ç»Ÿé‡Œçš„æ–‡ä»¶ï¼Œå‘çŽ°ç¡®å®žæ˜¯æ²¡æœ‰Headersè¿™ä¸ªæ–‡ä»¶å¤¹ï¼ŒvecLib.frameworkè¿™ä¸ªä¸œè¥¿å€’æ˜¯æœ‰ã€‚ Solve: å°† makefile ä¸­ vecLib å¼•ç”¨çš„ä½ç½® å…¨éƒ¨æ›¿æ¢æˆ openblas çš„ INCLUDE å’Œ LIB éƒ½æ›¿æ¢ å¦‚ä¸‹ 123 BLAS_INCLUDE := /usr/local/Cellar/openblas/0.3.0/includeLDFLAGS +=/usr/local/Cellar/openblas/0.3.0/lib/libopenblas.a]]></content>
      <categories>
        <category>GuideBook</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Mac_è®¾ç½®çŽ¯å¢ƒå˜é‡]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FMac_%E8%AE%BE%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%2F</url>
    <content type="text"><![CDATA[Mac_è®¾ç½®çŽ¯å¢ƒå˜é‡]]></content>
      <categories>
        <category>GuideBook</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[OpenCVå®‰è£…]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FOpenCV%E5%AE%89%E8%A3%85%2F</url>
    <content type="text"><![CDATA[OpenCVå®‰è£…1234luomeideMacBook-Pro:opencv-3.4.5 luomei$ mkdir build &amp;&amp; cd buildluomeideMacBook-Pro:opencv-3.4.5 luomei$ cmake -G "Unix Makefiles" ..luomeideMacBook-Pro:opencv-3.4.5 luomei$ make -j8luomeideMacBook-Pro:opencv-3.4.5 luomei$ sudo make install å“­äº†ï¼Œç”¨è¿™ä¸ªæ–¹æ³•è£…opencv3.4.0å¤±è´¥äº†ï¼Œä½†æ˜¯è£…3.4.5å°±å¥½äº†/ðŸ¤¦â€â™€ï¸]]></content>
      <categories>
        <category>GuideBook</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Ubuntu_ç¨‹åºåŽå°è¿è¡Œ]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FUbuntu_%E7%A8%8B%E5%BA%8F%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C%2F</url>
    <content type="text"><![CDATA[Ubuntu_ç¨‹åºåŽå°è¿è¡Œå‚è€ƒäº†nohup, linux 2&gt;&amp;1ã€‚ 1.nohupç”¨é€”ï¼šä¸æŒ‚æ–­åœ°è¿è¡Œå‘½ä»¤ã€‚no hang up è¯­æ³•ï¼šnohup Command [ Arg â€¦ ] [ &amp; ] æ— è®ºæ˜¯å¦å°† nohup å‘½ä»¤çš„è¾“å‡ºé‡å®šå‘åˆ°ç»ˆç«¯ï¼Œè¾“å‡ºéƒ½å°†é™„åŠ åˆ°å½“å‰ç›®å½•çš„ nohup.out æ–‡ä»¶ä¸­ã€‚ å¦‚æžœå½“å‰ç›®å½•çš„ nohup.out æ–‡ä»¶ä¸å¯å†™ï¼Œè¾“å‡ºé‡å®šå‘åˆ° $HOME/nohup.out æ–‡ä»¶ä¸­ã€‚ å¦‚æžœæ²¡æœ‰æ–‡ä»¶èƒ½åˆ›å»ºæˆ–æ‰“å¼€ä»¥ç”¨äºŽè¿½åŠ ï¼Œé‚£ä¹ˆ Command å‚æ•°æŒ‡å®šçš„å‘½ä»¤ä¸å¯è°ƒç”¨ã€‚ é€€å‡ºçŠ¶æ€ï¼šè¯¥å‘½ä»¤è¿”å›žä¸‹åˆ—å‡ºå£å€¼ï¼š 126 å¯ä»¥æŸ¥æ‰¾ä½†ä¸èƒ½è°ƒç”¨ Command å‚æ•°æŒ‡å®šçš„å‘½ä»¤ã€‚ 127 nohup å‘½ä»¤å‘ç”Ÿé”™è¯¯æˆ–ä¸èƒ½æŸ¥æ‰¾ç”± Command å‚æ•°æŒ‡å®šçš„å‘½ä»¤ã€‚ å¦åˆ™ï¼Œnohup å‘½ä»¤çš„é€€å‡ºçŠ¶æ€æ˜¯ Command å‚æ•°æŒ‡å®šå‘½ä»¤çš„é€€å‡ºçŠ¶æ€ã€‚ 2.&amp;ç”¨é€”ï¼šåœ¨åŽå°è¿è¡Œ ä¸€èˆ¬ä¸¤ä¸ªä¸€èµ·ç”¨ nohup command &amp; eg: 123cd /home/mei/Desktop/cv/darknetnohup ./darknet detector train cfg/noodles.data cfg/yolov2-noodles.cfg backup/yolov2-noodles_200.weights &gt;&gt; running.log 2&gt;&amp;1 &amp;[1] 15776 è¿›ç¨‹å·15776 3. &gt;åŸºæœ¬å«ä¹‰ /dev/null è¡¨ç¤ºç©ºè®¾å¤‡æ–‡ä»¶ 0 è¡¨ç¤ºstdinæ ‡å‡†è¾“å…¥ 1 è¡¨ç¤ºstdoutæ ‡å‡†è¾“å‡º 2 è¡¨ç¤ºstderræ ‡å‡†é”™è¯¯ &gt;&gt; file è¡¨ç¤ºå°†æ ‡å‡†è¾“å‡ºè¾“å‡ºåˆ°fileä¸­ï¼Œä¹Ÿå°±ç›¸å½“äºŽ 1&gt;file 2&gt; error è¡¨ç¤ºå°†é”™è¯¯è¾“å‡ºåˆ°erroræ–‡ä»¶ä¸­ 2&gt;&amp;1 ä¹Ÿå°±è¡¨ç¤ºå°†é”™è¯¯é‡å®šå‘åˆ°æ ‡å‡†è¾“å‡ºä¸Š 2&gt;&amp;1 &gt;file ï¼šé”™è¯¯è¾“å‡ºåˆ°ç»ˆç«¯ï¼Œæ ‡å‡†è¾“å‡ºé‡å®šå‘åˆ°æ–‡ä»¶fileï¼Œç­‰äºŽ &gt; file 2&gt;&amp;1(æ ‡å‡†è¾“å‡ºé‡å®šå‘åˆ°æ–‡ä»¶ï¼Œé”™è¯¯é‡å®šå‘åˆ°æ ‡å‡†è¾“å‡º)ã€‚ 4. æŸ¥çœ‹è¿è¡Œçš„åŽå°è¿›ç¨‹ï¼ˆ1ï¼‰jobs -l12root@ubuntu: jobs -I[1]+ 15776 Running nohup ./darknet detector train cfg/noodles.data cfg/yolov2-noodles.cfg backup/yolov2-noodles_200.weights &gt;&gt; running.log 2&gt;&amp;1 jobså‘½ä»¤åªçœ‹å½“å‰ç»ˆç«¯ç”Ÿæ•ˆçš„ï¼Œå…³é—­ç»ˆç«¯åŽï¼Œåœ¨å¦ä¸€ä¸ªç»ˆç«¯jobså·²ç»æ— æ³•çœ‹åˆ°åŽå°è·‘å¾—ç¨‹åºäº†ï¼Œæ­¤æ—¶åˆ©ç”¨psï¼ˆè¿›ç¨‹æŸ¥çœ‹å‘½ä»¤ï¼‰ ï¼ˆ2ï¼‰ps -ef1`ps -aux|grep chat.js` æ³¨ï¼š ç”¨ps -def | grepæŸ¥æ‰¾è¿›ç¨‹å¾ˆæ–¹ä¾¿ï¼Œæœ€åŽä¸€è¡Œæ€»æ˜¯ä¼šgrepè‡ªå·± ç”¨grep -vå‚æ•°å¯ä»¥å°†grepå‘½ä»¤æŽ’é™¤æŽ‰ 1`ps -aux|grep chat.js| grep -v grep` å†ç”¨awkæå–ä¸€ä¸‹è¿›ç¨‹ID 1`ps -aux|grep chat.js| grep -v grep | awk ``'&#123;print $2&#125;'` 3.å¦‚æžœæŸä¸ªè¿›ç¨‹èµ·ä¸æ¥ï¼Œå¯èƒ½æ˜¯æŸä¸ªç«¯å£è¢«å ç”¨ æŸ¥çœ‹ä½¿ç”¨æŸç«¯å£çš„è¿›ç¨‹ 1lsof -i:8090 1netstat -ap|grep 8090 æŸ¥çœ‹åˆ°è¿›ç¨‹idä¹‹åŽï¼Œä½¿ç”¨netstatå‘½ä»¤æŸ¥çœ‹å…¶å ç”¨çš„ç«¯å£ 1netstat -nap|grep 7779 ä½¿ç”¨killæ€æŽ‰è¿›åŸŽåŽå†å¯åŠ¨ 4.ç»ˆæ­¢åŽå°è¿è¡Œçš„è¿›ç¨‹ 1`kill -9 è¿›ç¨‹å·`]]></content>
      <categories>
        <category>GuideBook</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Yoloè®­ç»ƒè‡ªå·±çš„æ•°æ®é›†]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FYolo_%E8%AE%AD%E7%BB%83%E8%87%AA%E5%B7%B1%E7%9A%84%E6%95%B0%E6%8D%AE%E9%9B%86%2F</url>
    <content type="text"><![CDATA[Yoloè®­ç»ƒè‡ªå·±çš„æ•°æ®é›†1234567891011config: +-----------------------------------------------------------------------------+| NVIDIA-SMI 430.09 Driver Version: 430.09 CUDA Version: 10.1 ||-------------------------------+----------------------+----------------------+| GPU Name Persistence-M| Bus-Id Disp.A | Volatile Uncorr. ECC || Fan Temp Perf Pwr:Usage/Cap| Memory-Usage | GPU-Util Compute M. ||===============================+======================+======================|| 0 GeForce GTX 960M Off | 00000000:01:00.0 Off | N/A || N/A 52C P0 N/A / N/A | 0MiB / 2004MiB | 0% Default |+-------------------------------+----------------------+----------------------+ é”™è¯¯é€’å½’é€æ¸å¿˜è®°è¦å¹²å˜›ã€‚ã€‚ã€‚ yoloè®­ç»ƒæ—¶é—´ 12345678910111213141516171819202122232425262728293031323334353637// cpu yolov3xxxdeMacBook-Pro:darknet xxx$ ./darknet detect cfg/yolov3.cfg yolov3.weights data/dog.jpg layer filters size input output 0 conv 32 3 x 3 / 1 608 x 608 x 3 -&gt; 608 x 608 x 32 0.639 BFLOPs ... 106 yoloLoading weights from yolov3.weights...Done!data/dog.jpg: Predicted in 18.616094 seconds.bicycle: 99%truck: 92%dog: 100%// cpu yolov2xxxdeMacBook-Pro:darknet xxx$ ./darknet detect cfg/yolov2.cfg yolov2.weights data/dog.jpg layer filters size input output 0 conv 32 3 x 3 / 1 608 x 608 x 3 -&gt; 608 x 608 x 32 0.639 BFLOPs ... 31 detectionmask_scale: Using default '1.000000'Loading weights from yolov2.weights...Done!data/dog.jpg: Predicted in 8.660725 seconds.dog: 82%truck: 64%bicycle: 85%// gpu yolov2, in another computer, but I didn't try cpu version// at least 100x faster than cpu versionmei@mei-luo:~/Desktop/cv/darknet$ ./darknet detect cfg/yolov2.cfg yolov2.weights layer filters size input output 0 conv 32 3 x 3 / 1 608 x 608 x 3 -&gt; 608 x 608 x 32 0.639 BFLOPs ... 31 detectionmask_scale: Using default '1.000000'Loading weights from yolov2.weights...Done!Enter Image Path: data/person.jpgdata/person.jpg: Predicted in 0.122470 seconds.horse: 82%dog: 86%person: 86% ä¸€ã€æ•°æ®é›†é¢„å‡†å¤‡VOCæ•°æ®é›†ç›®å½•ç»“æž„å¦‚ä¸‹ï¼š 1234567â”œâ”€â”€VOC2019 â”œâ”€â”€ Annotations â”œâ”€â”€ ImageSets â”œâ”€â”€ Layout â”œâ”€â”€ Main â””â”€â”€ Segmentation â””â”€â”€ JPEGImages 1.1 Annotationså­˜æ”¾VOCæ ¼å¼çš„xmlæ–‡ä»¶ï¼Œæ¯ä¸€ä¸ªxmlå¯¹åº”ä¸€å¼ å›¾åƒï¼Œå¹¶ä¸”æ¯ä¸ªxmlä¸­å­˜æ”¾çš„æ˜¯æ ‡è®°çš„å„ä¸ªç›®æ ‡çš„ä½ç½®å’Œç±»åˆ«ä¿¡æ¯ï¼Œå‘½åé€šå¸¸ä¸Žå¯¹åº”çš„åŽŸå§‹å›¾åƒä¸€æ · 1.2 ImageSetsImageSetsæˆ‘ä»¬åªéœ€è¦ç”¨åˆ°Mainæ–‡ä»¶å¤¹ï¼Œè¿™é‡Œé¢å­˜æ”¾çš„æ˜¯ä¸€äº›æ–‡æœ¬æ–‡ä»¶ï¼Œé€šå¸¸ä¸ºtrain.txtã€test.txtç­‰ï¼Œè¯¥æ–‡æœ¬æ–‡ä»¶é‡Œé¢çš„å†…å®¹æ˜¯éœ€è¦ç”¨æ¥è®­ç»ƒæˆ–æµ‹è¯•çš„å›¾åƒçš„åå­—ï¼ˆæ— åŽç¼€æ— è·¯å¾„ï¼‰ 1.3 JPEGImagesJPEGImagesæ–‡ä»¶å¤¹ä¸­æ”¾æˆ‘ä»¬å·²æŒ‰ç»Ÿä¸€è§„åˆ™å‘½åå¥½çš„åŽŸå§‹å›¾åƒã€‚ ä»¥æ­¤æ¬¡æˆ‘æ”¶é›†çš„å…³äºŽæ³¡é¢çš„æ•°æ®é›†ä¸ºä¾‹ æ•°æ®æ¥æºï¼šç™¾åº¦ã€äº¬ä¸œã€ä¸ªäººæ‹æ‘„ 12345678910â”œâ”€â”€ JPEGImages â”œâ”€â”€ class_LR â”œâ”€â”€ LR00001.jpg â”œâ”€â”€ ... â”œâ”€â”€ class_XL â”œâ”€â”€ XL00001.jpg â”œâ”€â”€ ... â”œâ”€â”€ rename_voc.py â”œâ”€â”€ resize_pic.py â””â”€â”€ voc_spider.py å›¾ç‰‡å‘½åæ ¼å¼ä¸º&lt;label_name&gt;&lt;num(len=5)&gt;.jpgï¼Œä¾‹å¦‚ï¼šLR00001.jpg 1.3.1 voc_spider.pyå¯ä»¥ç›´æŽ¥ç¼–è¯‘ï¼Œçˆ¬å–çš„å›¾ç‰‡å­˜å‚¨åœ¨å½“å‰ç›®å½•ä¸‹ã€‚å›¾ç‰‡å‘½åæ ¼å¼ä¸º&lt;label_name&gt;&lt;num(len=5)&gt;.jpgï¼Œä¾‹å¦‚ï¼šLR00001.jpgã€‚ 1.3.2 resize_pic.pyæ”¾ç¼©å›¾ç‰‡å¤§å°ï¼Œå› ä¸ºç½‘ç»œéœ€è¦å›¾ç‰‡å½’ä¸€åŒ–ï¼Œé»˜è®¤æ˜¯å¤„ç†æˆæ­£æ–¹å½¢çš„å¤§å°æ‰€ä»¥åªéœ€è¦è¾“å…¥ä¸€ä¸ªæ•°å­—ï¼Œå¤„ç†æ‰€åœ¨ç›®å½•ä¸‹çš„æ‰€æœ‰å›¾ç‰‡ï¼ˆé€’å½’å¼ï¼‰ã€‚éœ€è¦çš„å›¾ç‰‡å°ºå¯¸å¤§å°åº”ä¸Žyolo.cfg ä¸­çš„å¤§å°ä¸€è‡´ã€‚ 123456789# yolov2.cfg[net]# Testingbatch=1subdivisions=1...width=608 !!!height=608 !!!... 1.3.3 rename_voc.pyå¯»æ‰¾æ–‡ä»¶å¤¹ä¸‹å‘½åä¸ºclass_&lt;label_name&gt;çš„æ–‡ä»¶å¹¶æ ¹æ®åºå·é‡å‘½åã€‚è¿™ä¸ªä¸»è¦æ˜¯é’ˆå¯¹è‡ªå·±æ‹æ‘„çš„ç…§ç‰‡è¿›è¡Œå¤„ç†æ—¶éœ€è¦ç»Ÿä¸€å‘½åã€‚ 1.4 ConclusionVOCæ•°æ®é›†æž„å»ºæŽ¨èæ­¥éª¤ï¼š å»ºç«‹æ–‡ä»¶å¤¹ï¼Œç›®å½•ç»“æž„å¦‚ä¸Šè¿°ï¼Œå»ºè®®å‘½åä¸ºVOC+yearï¼Œè¿™æ ·ä¹‹åŽå¯ä»¥ç›´æŽ¥ä½¿ç”¨æä¾›çš„voc_label.pyã€‚ JPEGImagesä¸‹å»ºç«‹æ¯ä¸ªç±»çš„æ–‡ä»¶å¤¹ï¼Œæˆ‘ä¸»è¦æ˜¯ä¸ºäº†æ–¹ä¾¿åŒºåˆ†ï¼Œä¹Ÿä¸å¯ä»¥ä¸åˆ†ã€‚ ä½¿ç”¨ä¸Šè¿°çš„pyæ–‡ä»¶èŽ·å–å›¾ç‰‡ æœ€ç»ˆæ‰€æœ‰å›¾ç‰‡éƒ½åœ¨JPEGImagesæ–‡ä»¶å¤¹ä¸‹ï¼Œä¸å†å¦å¤–åŒºåˆ†ã€‚å»ºè®®å…ˆåšå¥½è¿™æ­¥ï¼ä¸ç„¶åŽæœŸçš„xmlæ–‡ä»¶å¤¹è¿˜éœ€è¦æ”¹åŠ¨è·¯å¾„ï¼Œä¸éº»çƒ¦ä½†æ˜¯è¿˜æ˜¯å¤šäº†å‡ æ­¥å·¥ä½œã€‚ äºŒã€æ ‡è®°å›¾åƒç›®æ ‡åŒºåŸŸè·‘opencvï¼ŒæŠ¥é”™äº†ã€‚ã€‚ 123456789101112131415xxxdeMacBook-Pro:main xxx$ pythonPython 2.7.10 (default, Feb 22 2019, 21:17:52) [GCC 4.2.1 Compatible Apple LLVM 10.0.1 (clang-1001.0.37.14)] on darwinType "help", "copyright", "credits" or "license" for more information.&gt;&gt;&gt; import cv2Traceback (most recent call last): File "&lt;stdin&gt;", line 1, in &lt;module&gt; File "/usr/local/lib/python2.7/site-packages/cv2/__init__.py", line 89, in &lt;module&gt; bootstrap() File "/usr/local/lib/python2.7/site-packages/cv2/__init__.py", line 79, in bootstrap import cv2ImportError: dlopen(/usr/local/lib/python2.7/site-packages/cv2/python-2.7/cv2.so, 2): Library not loaded: /usr/local/opt/ffmpeg/lib/libavcodec.58.dylib Referenced from: /usr/local/lib/libopencv_videoio.3.4.dylib Reason: image not found&gt;&gt;&gt; çœ‹äº†ä¸€ä¸‹è‡ªå·±å¹¶æ²¡æœ‰å®‰è£… ffmpeg 1xxxdeMacBook-Pro:main xxx$ brew install ffmpeg æˆ‘å¹çˆ†brewï¼åŽŸæ¥å°è¯•æºç å®‰è£…ç–¯ç‹‚æŠ¥é”™ã€‚ã€‚ã€‚ opencvèƒ½importäº†ï¼Œç„¶åŽnumpyåˆæŠ¥é”™äº†ðŸ˜­ðŸ˜­ðŸ˜­ 123456789101112131415161718192021222324252627282930313233343536373839xxxdeMacBook-Pro:main xxx$ pythonPython 2.7.10 (default, Feb 22 2019, 21:17:52) [GCC 4.2.1 Compatible Apple LLVM 10.0.1 (clang-1001.0.37.14)] on darwinType "help", "copyright", "credits" or "license" for more information.&gt;&gt;&gt; import numpyTraceback (most recent call last): File "&lt;stdin&gt;", line 1, in &lt;module&gt; File "/usr/local/lib/python2.7/site-packages/numpy/__init__.py", line 142, in &lt;module&gt; from . import core File "/usr/local/lib/python2.7/site-packages/numpy/core/__init__.py", line 71, in &lt;module&gt; raise ImportError(msg)ImportError: IMPORTANT: PLEASE READ THIS FOR ADVICE ON HOW TO SOLVE THIS ISSUE!Importing the multiarray numpy extension module failed. Mostlikely you are trying to import a failed build of numpy.Here is how to proceed:- If you're working with a numpy git repository, try `git clean -xdf` (removes all files not under version control) and rebuild numpy.- If you are simply trying to use the numpy version that you have installed: your installation is broken - please reinstall numpy.- If you have already reinstalled and that did not fix the problem, then: 1. Check that you are using the Python you expect (you're using /usr/bin/python), and that you have no directories in your PATH or PYTHONPATH that can interfere with the Python and numpy versions you're trying to use. 2. If (1) looks fine, you can open a new issue at https://github.com/numpy/numpy/issues. Please include details on: - how you installed Python - how you installed numpy - your operating system - whether or not you have multiple versions of Python installed - if you built from source, your compiler versions and ideally a build log Note: this error has many possible causes, so please don't comment on an existing issue about this - open a new one instead.Original error was: No module named _multiarray_umathxxxdeMacBook-Pro:main xxx$ sudo find /usr/local/lib/python* | grep numpy çœ‹äº†ä¸€ä¸‹è‡ªå·±æ–‡ä»¶é‡Œçš„numpyï¼Œå‘çŽ°åœ¨python3.7ä¸‹importæ˜¯æ²¡æœ‰ä»»ä½•æ¯›ç—…çš„ï¼å¹²è„†å°±æŠŠ/usr/local/lib/python2.7/site-pacages/ ä¸‹çš„numpyåˆ äº†ï¼Œå†æµ‹è¯•äº†ä¸€ä¸‹ï¼ŒojbkðŸ‘Œ fineï¼Œæˆ‘å¾ˆokçš„ï¼Œæˆ‘é…çŽ¯å¢ƒé…ä¸¤å¤©äº†ï¼Œä½›äº†ï¼Œè¢«çŽ¯å¢ƒå·¥ç¨‹åŠé€€ï¼Œåˆæ˜¯å¤´ç§ƒçš„ä¸€å¤©å•Šï¼ðŸ˜ƒðŸ˜ƒðŸ˜ƒ æŽ¨æµ‹ä¸€ä¸‹å‡ºçŽ°è¿™ä¹ˆå¤šé”™å¯èƒ½æ˜¯å› ä¸ºæˆ‘åŒæ—¶å­˜åœ¨äº†å¤šä¸ªpythonçš„ç‰ˆæœ¬ï¼Œæœ‰çš„åŒ…å¯èƒ½åŒæ—¶å­˜åœ¨å‡ ä¸ªç‰ˆæœ¬ï¼Œå®¹æ˜“å†²çªï¼Œè¿™ä¸ªæ ‡è®°çš„demoæ˜¯åœ¨python2.7çš„çŽ¯å¢ƒä¸‹è·‘çš„ï¼Œæ‰€ä»¥è¿™äº›åŒ…æˆ‘éƒ½å°½é‡è£…åœ¨python2.7/site-pacages ç›®å½•ä¸‹ï¼Œä½¿ç”¨pipæŒ‡å®šç›®å½•å®‰è£… 12# pip install --target=&lt;target_path&gt; &lt;pacakages&gt;xxxdeMacBook-Pro:main xxx$ pip install --target=/usr/local/lib/python2.7/site-pacages/ lxml æ–°çš„é”™ï¼Œæ¥è‡ªlxmlï¼Œæ— æ³•import etreeï¼Œç„¶é¹…ï¼python3.6ä¸‹è·‘æ²¡æœ‰ä»»ä½•æ¯›ç—…= = 123456789101112131415161718xxxdeMacBook-Pro:main xxx$ pythonPython 2.7.10 (default, Feb 22 2019, 21:17:52) [GCC 4.2.1 Compatible Apple LLVM 10.0.1 (clang-1001.0.37.14)] on darwinType "help", "copyright", "credits" or "license" for more information.&gt;&gt;&gt; import lxml&gt;&gt;&gt; from lxml import etreeTraceback (most recent call last): File "&lt;stdin&gt;", line 1, in &lt;module&gt;ImportError: cannot import name etree&gt;&gt;&gt; xxxdeMacBook-Pro:main xxx$ python3Python 3.6.8 (v3.6.8:3c6b436a57, Dec 24 2018, 02:04:31) [GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.57)] on darwinType "help", "copyright", "credits" or "license" for more information.&gt;&gt;&gt; from lxml import etree&gt;&gt;&gt; etree.__version__'4.3.3'&gt;&gt;&gt; exit() æ³¨æ„ï¼šå‡ºé”™è¿˜æœ‰å¦å¤–çš„å¯èƒ½æ˜¯ä½ çš„Pythoné¡¹ç›®ä¸­æœ‰åç§°ä¸ºlxmlçš„æ–‡ä»¶ï¼ˆå¤¹ï¼‰ï¼Œå°±æœ‰å¯èƒ½å¯¼è‡´è¿™ç§é”™è¯¯ã€‚è¿™ç§æƒ…å†µçš„è¯ï¼ŒæŠŠé¡¹ç›®ä¸­å¯¹åº”çš„æ–‡ä»¶åç§°ä¿®æ”¹å³å¯ æ›²çº¿æ•‘å›½äº† æ‰¾åˆ°äº†å¦ä¸€ä¸ªlabelImgï¼Œå¥½äº†ï¼å®Œç¾Žï¼ gitï¼šlabelImgçš„gitåœ°å€ 123456# install lableImg in Mac OS X 10.14pip3 install pyqt5 lxml # Install qt and lxml by pipmake qt5py3python3 labelImg.pypython3 labelImg.py [IMAGE_PATH] [PRE-DEFINED CLASS FILE] ä»¥ä¸‹æ˜¯xmlçš„æ ‡å‡†æ ¼å¼ï¼š1234567891011121314151617181920212223242526&lt;annotation&gt; &lt;folder&gt;JPEGImages&lt;/folder&gt; &lt;filename&gt;LR00001.jpg&lt;/filename&gt; &lt;path&gt;/home/mei/Desktop/cv/darknet/scripts/VOCdevkit/NOODLE2019/JPEGImages/LR00001.jpg&lt;/path&gt; &lt;source&gt; &lt;database&gt;Unknown&lt;/database&gt; &lt;/source&gt; &lt;size&gt; &lt;width&gt;608&lt;/width&gt; &lt;height&gt;608&lt;/height&gt; &lt;depth&gt;3&lt;/depth&gt; &lt;/size&gt; &lt;segmented&gt;0&lt;/segmented&gt; &lt;object&gt; &lt;name&gt;luxiang&lt;/name&gt; &lt;pose&gt;Unspecified&lt;/pose&gt; &lt;truncated&gt;0&lt;/truncated&gt; &lt;difficult&gt;0&lt;/difficult&gt; &lt;bndbox&gt; &lt;xmin&gt;393&lt;/xmin&gt; &lt;ymin&gt;304&lt;/ymin&gt; &lt;xmax&gt;583&lt;/xmax&gt; &lt;ymax&gt;465&lt;/ymax&gt; &lt;/bndbox&gt; &lt;/object&gt;&lt;/annotation&gt; å¯èƒ½éœ€è¦æ›´æ”¹çš„åœ°æ–¹ï¼š folder folderä¸ºæœ€ç»ˆè·‘æ¨¡åž‹çš„æ—¶å€™å›¾ç‰‡çš„æ”¾ç½®ä½ç½®ã€‚è¯¥å‘½ä»¤è¿è¡Œåœ¨ubuntu ä¸‹ 1find -name '*.xml' |xargs perl -pi -e 's|&lt;folder&gt;class_LR|&lt;folder&gt;JPEGImages|g' filename å¯èƒ½å¯¼å‡ºçš„filenameæ˜¯æ²¡æœ‰æ–‡ä»¶åŽç¼€çš„ï¼Œç»Ÿä¸€åŠ ä¸Š 1find -name '*.xml' |xargs perl -pi -e 's|&lt;/filename&gt;|.jpg&lt;/filename&gt;|g' path pathä¸ºå›¾ç‰‡åœ¨è·‘çš„æ¨¡åž‹ä¸Šçš„ç»å¯¹è·¯å¾„ï¼ˆå› ä¸ºæˆ‘éœ€è¦ç§»æ¤åˆ°å¦å¤–ä¸€å°ç”µè„‘ä¸Šè·‘ï¼‰ 1find -name '*.xml' |xargs perl -pi -e 's|&lt;path&gt;$(your_original_pic_path)|&lt;path&gt;$(your_final_pic_path)|g' width, height æœ‰æ—¶å€™åœ¨Windowsä¸‹ç”¨è¯¥å·¥å…·labelå›¾åƒï¼Œå¯èƒ½ä¼šå‡ºçŽ°sizeé‚£é‡Œçš„widthå’Œheightéƒ½ä¸º0ï¼Œå¦‚æžœåœ¨labelä¹‹å‰å·²ç»å½’ä¸€åŒ–äº†å›¾åƒå¤§å°é‚£ä¹ˆå°±å¯ä»¥ç”¨ä¸‹é¢ä¸¤è¡Œå‘½ä»¤æ¥ä¿®æ”¹è¿™ä¸ª0å€¼ 12find -name '*.xml' |xargs perl -pi -e 's|0&lt;/width&gt;|608&lt;/width&gt;|g'find -name '*.xml' |xargs perl -pi -e 's|0&lt;/height&gt;|608&lt;/height&gt;|g' ä¸‰ã€ç”¨yolov2è®­ç»ƒ3.1 ç”Ÿæˆç›¸å…³æ–‡ä»¶â€‹ æŒ‰darknetçš„è¯´æ˜Žç¼–è¯‘å¥½åŽï¼ŒæŽ¥ä¸‹æ¥åœ¨darknet-master/scriptsæ–‡ä»¶å¤¹ä¸­æ–°å»ºæ–‡ä»¶å¤¹VOCdevkitï¼Œç„¶åŽå°†æ•´ä¸ªVOC2007æ–‡ä»¶å¤¹éƒ½æ‹·åˆ°VOCdevkitæ–‡ä»¶å¤¹ä¸‹ã€‚ â€‹ ç„¶åŽï¼Œéœ€è¦åˆ©ç”¨scriptsæ–‡ä»¶å¤¹ä¸­çš„voc_label.pyæ–‡ä»¶ç”Ÿæˆä¸€ç³»åˆ—è®­ç»ƒæ–‡ä»¶å’Œlabelï¼Œå…·ä½“æ“ä½œå¦‚ä¸‹ï¼š â€‹ é¦–å…ˆéœ€è¦ä¿®æ”¹voc_label.pyä¸­çš„ä»£ç ï¼Œè¿™é‡Œä¸»è¦ä¿®æ”¹æ•°æ®é›†åï¼Œä»¥åŠç±»åˆ«ä¿¡æ¯ï¼Œæˆ‘çš„æ˜¯VOC2019ï¼Œå¹¶ä¸”æ‰€æœ‰æ ·æœ¬ç”¨æ¥è®­ç»ƒï¼Œæœ‰ä¸¤ç±»ç›®æ ‡ï¼Œå› æ­¤æŒ‰å¦‚ä¸‹è®¾ç½® 123456789101112131415161718192021222324252627... #sets=[('2012', 'train'), ('2012', 'val'), ('2007', 'train'), ('2007', 'val'), ('2007', 'test')] #classes = ["aeroplane", "bicycle", "bird", "boat", "bottle", "bus", "car", "cat", "chair", "cow", "diningtable", "dog", "horse", "motorbike", "person", "pottedplant", "sheep", "sofa", "train", "tvmonitor"] sets=[('2019', 'train')]classes = [ "luxiang", "xiangla"] ... def convert_annotation(year, image_id): in_file = open('VOCdevkit/VOC%s/Annotations/%s.xml'%(year, image_id)) #ï¼ˆå¦‚æžœä½¿ç”¨çš„ä¸æ˜¯VOCè€Œæ˜¯è‡ªè®¾ç½®æ•°æ®é›†åå­—ï¼Œåˆ™è¿™é‡Œéœ€è¦ä¿®æ”¹ï¼‰ out_file = open('VOCdevkit/VOC%s/labels/%s.txt'%(year, image_id), 'w') #ï¼ˆåŒä¸Šï¼‰ ... for year, image_set in sets: if not os.path.exists('VOCdevkit/VOC%s/labels/'%(year)): os.makedirs('VOCdevkit/VOC%s/labels/'%(year)) image_ids = open('VOCdevkit/VOC%s/ImageSets/Main/%s.txt'%(year, image_set)).read().strip().split() list_file = open('%s_%s.txt'%(year, image_set), 'w') for image_id in image_ids: list_file.write('%s/VOCdevkit/VOC%s/JPEGImages/%s.jpg\n'%(wd, year, image_id)) convert_annotation(year, image_id) list_file.close() ä¿®æ”¹å¥½åŽåœ¨è¯¥ç›®å½•ä¸‹è¿è¡Œå‘½ä»¤ï¼špython voc_label.pyï¼Œä¹‹åŽåˆ™åœ¨æ–‡ä»¶å¤¹script/VOCdevki/VOC2019ä¸‹ç”Ÿæˆäº†æ–‡ä»¶å¤¹labelsï¼š 12345â”œâ”€â”€VOC2019 â”œâ”€â”€ labels â”œâ”€â”€ LR00000.txt â”œâ”€â”€ LR00091.txt â”œâ”€â”€ ... åŒæ—¶åœ¨scripts/ä¸‹åº”è¯¥ä¹Ÿç”Ÿæˆäº†2019_train.txtè¿™ä¸ªæ–‡ä»¶ï¼Œé‡Œé¢åŒ…å«äº†æ‰€æœ‰è®­ç»ƒæ ·æœ¬çš„ç»å¯¹è·¯å¾„ã€‚ â—ï¸â—ï¸â—ï¸æ³¨æ„ä¸€ä¸‹æ­¤æ—¶darknet/æ–‡ä»¶å¤¹ä¸‹æ˜¯å¦ä¹Ÿç”Ÿæˆäº†train.txt æ–‡ä»¶ï¼Œå¦‚æžœæœ‰ï¼Œæ£€æŸ¥ä¸€ä¸‹æ˜¯å¦ä¸ºç©ºï¼Œè‹¥ä¸ºç©ºå°±æŠŠ 2019_train.txt çš„å†…å®¹ç§»åˆ° train.txtã€‚ 3.2 é…ç½®æ–‡ä»¶ä¿®æ”¹â€‹ åšå¥½äº†ä¸Šè¿°å‡†å¤‡ï¼Œå°±å¯ä»¥æ ¹æ®ä¸åŒçš„ç½‘ç»œè®¾ç½®ï¼ˆcfgæ–‡ä»¶ï¼‰æ¥è®­ç»ƒäº†ã€‚åœ¨æ–‡ä»¶å¤¹cfgä¸­æœ‰å¾ˆå¤šcfgæ–‡ä»¶ï¼Œåº”è¯¥è·Ÿcaffeä¸­çš„prototxtæ–‡ä»¶æ˜¯ä¸€ä¸ªæ„æ€ã€‚è¿™é‡Œä»¥yolov2.cfgâ€˜ä¸ºä¾‹ï¼Œä¸»è¦ä¿®æ”¹å‚æ•°å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728..[convolutional]size=1stride=1pad=1filters=35//ä¿®æ”¹æœ€åŽä¸€å±‚å·ç§¯å±‚æ ¸å‚æ•°ä¸ªæ•°ï¼Œè®¡ç®—å…¬å¼æ˜¯ä¾æ—§è‡ªå·±æ•°æ®çš„ç±»åˆ«æ•°filter=numÃ—ï¼ˆclasses + coords + 1ï¼‰=5Ã—ï¼ˆ1+4+1ï¼‰=30activation=linear[region]anchors = 1.08,1.19, 3.42,4.41, 6.63,11.38, 9.42,5.11, 16.62,10.52bias_match=1classes=2 //ç±»åˆ«æ•°ï¼Œæœ¬ä¾‹ä¸º1ç±»coords=4num=5softmax=1jitter=.2rescore=1object_scale=5noobject_scale=1class_scale=1coord_scale=1absolute=1thresh = .6random=1 â€‹ å¦å¤–ä¹Ÿå¯æ ¹æ®éœ€è¦ä¿®æ”¹learning_rateã€max_batchesç­‰å‚æ•°ã€‚ â€‹ ä¿®æ”¹å¥½äº†cfgæ–‡ä»¶ä¹‹åŽï¼Œå°±éœ€è¦ä¿®æ”¹ä¸¤ä¸ªæ–‡ä»¶ï¼Œé¦–å…ˆæ˜¯dataæ–‡ä»¶ä¸‹çš„voc.namesã€‚æ‰“å¼€voc.namesæ–‡ä»¶å¯ä»¥çœ‹åˆ°æœ‰20ç±»çš„åç§°ï¼Œæœ¬ä¾‹ä¸­åªæœ‰ä¸€ç±»ï¼Œæ£€æµ‹äººï¼Œå› æ­¤å°†åŽŸæ¥æ‰€æœ‰å†…å®¹æ¸…ç©ºï¼Œå†™ä¸Šè‡ªå·±æ•°æ®é›†å¯¹åº”çš„ç±»åå¹¶ä¿å­˜ã€‚åå­—ä»ç„¶ç”¨è¿™ä¸ªåå­—ï¼Œå¦‚æžœå–œæ¬¢ç”¨å…¶ä»–åå­—åˆ™è¯·æŒ‰ä¸€å¼€å§‹åˆ¶ä½œè‡ªå·±æ•°æ®é›†çš„æ—¶å€™çš„åå­—æ¥ä¿®æ”¹ã€‚ â€‹ æŽ¥ç€éœ€è¦ä¿®æ”¹cfgæ–‡ä»¶å¤¹ä¸­çš„voc.dataæ–‡ä»¶ã€‚ä¹Ÿæ˜¯æŒ‰è‡ªå·±éœ€æ±‚ä¿®æ”¹ï¼Œæˆ‘çš„ä¿®æ”¹ä¹‹åŽæ˜¯è¿™æ ·çš„ç”»é£Žï¼š 12345classes= 1 //ç±»åˆ«æ•° train = /home/mei/Desktop/cv/darknet/scripts/2019_train.txt //è®­ç»ƒæ ·æœ¬çš„ç»å¯¹è·¯å¾„æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯ä¸Šæ–‡2.1ä¸­æœ€åŽç”Ÿæˆçš„ //valid = /home/pjreddie/data/voc/2007_test.txt //æœ¬ä¾‹æœªç”¨åˆ° names = data/voc.names //ä¸Šä¸€æ­¥ä¿®æ”¹çš„voc.namesæ–‡ä»¶ backup = backup/ //æŒ‡ç¤ºè®­ç»ƒåŽç”Ÿæˆçš„æƒé‡æ”¾åœ¨å“ª ä¿®æ”¹åŽæŒ‰åŽŸåä¿å­˜æœ€å¥½ï¼ŒæŽ¥ä¸‹æ¥å°±å¯ä»¥è®­ç»ƒäº†ã€‚ 3.3 è¿è¡Œè®­ç»ƒâ€‹ ä¸Šé¢å®Œæˆäº†å°±å¯ä»¥å‘½ä»¤è®­ç»ƒäº†ï¼Œå¯ä»¥åœ¨å®˜ç½‘ä¸Šæ‰¾åˆ°ä¸€äº›é¢„è®­ç»ƒçš„æ¨¡åž‹ä½œä¸ºå‚æ•°åˆå§‹å€¼ï¼Œä¹Ÿå¯ä»¥ç›´æŽ¥è®­ç»ƒï¼Œè®­ç»ƒå‘½ä»¤ä¸º 1$./darknet detector train ./cfg/voc.data cfg/tiny-yolo-voc.cfg å¦‚æžœç”¨å®˜ç½‘çš„é¢„è®­ç»ƒæ¨¡åž‹darknet.conv.weightsåšåˆå§‹åŒ–ï¼Œåˆ™è®­ç»ƒå‘½ä»¤ä¸º 1$./darknet detector train ./cfg/voc.data .cfg/tiny-yolo-voc.cfg darknet.conv.weights ä¸è¿‡æˆ‘æ²¡è¯•æˆåŠŸï¼ŒåŠ ä¸Šè¿™ä¸ªæ¨¡åž‹ç›´æŽ¥å°±é™¤äº†finalï¼Œä¸çŸ¥é“å•¥æƒ…å†µã€‚å½“ç„¶ä¹Ÿå¯ä»¥ç”¨è‡ªå·±è®­ç»ƒçš„æ¨¡åž‹åšå‚æ•°åˆå§‹åŒ–ï¼Œä¸‡ä¸€è®­ç»ƒçš„æ—¶å€™è¢«äººç»ˆç«¯äº†ï¼Œå¯ä»¥å†ç”¨è®­ç»ƒå¥½çš„æ¨¡åž‹æŽ¥ä¸ŠåŽ»æŽ¥ç€è®­ç»ƒã€‚ â€‹ è®­ç»ƒè¿‡ç¨‹ä¸­ä¼šæ ¹æ®è¿­ä»£æ¬¡æ•°ä¿å­˜è®­ç»ƒçš„æƒé‡æ¨¡åž‹ï¼Œç„¶åŽå°±å¯ä»¥æ‹¿æ¥æµ‹è¯•äº†ï¼Œæµ‹è¯•çš„å‘½ä»¤åŒç†ï¼š 1./darknet detector test cfg/voc.data cfg/tiny-yolo-voc.cfg results/tiny-yolo-voc_6000.weights data/images.jpg â€‹ è¿™æ ·å°±å®Œæˆäº†æ•´ä¸ªæµç¨‹ã€‚]]></content>
      <categories>
        <category>GuideBook</category>
      </categories>
      <tags>
        <tag>yolo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Yolo_è¸©çš„å‘]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FYolo_%E8%B8%A9%E7%9A%84%E5%9D%91%2F</url>
    <content type="text"><![CDATA[Yolo_è¸©çš„å‘ Config: æ•°æ®é›†å¤„ç†ï¼š OSï¼šMac OS X 10.14 è·‘æ¨¡åž‹ï¼š OSï¼šUbuntu 16.04 GPUï¼šGetForce GTX 960M NVIDIA Driverï¼š430.09 Cudaï¼š10.1 Cudnnï¼š7.5.1 å®‰è£…å¹¶æ²¡æœ‰å¤ªå¤šé—®é¢˜ï¼Œå‡†å¤‡è·‘è‡ªå·±çš„æ¨¡åž‹çš„æ—¶å€™è¿˜æ˜¯é‡åˆ°äº†è›®å¤šé—®é¢˜ æŽ¨ä¸€ä¸‹å®˜æ–¹æ•™ç¨‹ï¼šhttps://pjreddie.com/darknet/yolo/ 1. cuda error: out of memory darknet: ./src/cuda.c:36: check_error: Assertion `0â€™ failed.æ”¹ä¸€ä¸‹cfgï¼Œå‡å°batchï¼Œå¢žå¤§subdivisions]]></content>
      <categories>
        <category>GuideBook</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ä¿®å¤dyldï¼š Library not loaded]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FPycharm_dyld%2F</url>
    <content type="text"><![CDATA[ä¿®å¤dyldï¼š Library not loaded1234567891011121314151617# æŸ¥çœ‹pythonæ‰€åœ¨çš„ä½ç½®&gt; which pythonè¾“å‡ºï¼š/usr/local/bin/python# æŸ¥çœ‹ /usr/local/bin/python çš„ä¾èµ–&gt; otool -L /usr/local/bin/pythonè¾“å‡ºï¼š/usr/local/bin/python: /usr/local/Cellar/python3/3.6.3/Frameworks/Python.framework/Versions/3.6/Python (compatibility version 3.6.0, current version 3.6.0) /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1252.0.0)å¯ä»¥çœ‹å‡ºä¾èµ–3.6.3å·²ç»å†™æ­»äº†# å°† /usr/local/bin/python çš„ä¾èµ–æ›´æ”¹ä¸ºå½“å‰ç‰ˆæœ¬pythonçš„è·¯å¾„# æ›´æ”¹ä¸ºå½“å‰python3.6.5çš„è·¯å¾„&gt; install_name_tool -change /usr/local/Cellar/python3/3.6.3/Frameworks/Python.framework/Versions/3.6/Python /usr/local/Cellar/python/3.6.5/Frameworks/Python.framework/Versions/3.6/Python /usr/local/bin/python]]></content>
      <categories>
        <category>GuideBook</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Yolo training my dataset]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2Fyolo_traingMyDataset%2F</url>
    <content type="text"><![CDATA[Yolo training my dataset12345678910111213config:# run my model in windows +-----------------------------------------------------------------------------+| NVIDIA-SMI 430.09 Driver Version: 430.09 CUDA Version: 10.1 ||-------------------------------+----------------------+----------------------+| GPU Name Persistence-M| Bus-Id Disp.A | Volatile Uncorr. ECC || Fan Temp Perf Pwr:Usage/Cap| Memory-Usage | GPU-Util Compute M. ||===============================+======================+======================|| 0 GeForce GTX 960M Off | 00000000:01:00.0 Off | N/A || N/A 52C P0 N/A / N/A | 0MiB / 2004MiB | 0% Default |+-------------------------------+----------------------+----------------------+ Pre: Yolo running time test: 12345678910111213141516171819202122232425262728293031323334353637// cpu yolov3xxxdeMacBook-Pro:darknet xxx$ ./darknet detect cfg/yolov3.cfg yolov3.weights data/dog.jpg layer filters size input output 0 conv 32 3 x 3 / 1 608 x 608 x 3 -&gt; 608 x 608 x 32 0.639 BFLOPs ... 106 yoloLoading weights from yolov3.weights...Done!data/dog.jpg: Predicted in 18.616094 seconds.bicycle: 99%truck: 92%dog: 100%// cpu yolov2xxxdeMacBook-Pro:darknet xxx$ ./darknet detect cfg/yolov2.cfg yolov2.weights data/dog.jpg layer filters size input output 0 conv 32 3 x 3 / 1 608 x 608 x 3 -&gt; 608 x 608 x 32 0.639 BFLOPs ... 31 detectionmask_scale: Using default '1.000000'Loading weights from yolov2.weights...Done!data/dog.jpg: Predicted in 8.660725 seconds.dog: 82%truck: 64%bicycle: 85%// gpu yolov2, in another computer, but I didn't try cpu version// at least 100x faster than cpu versionmei@mei-luo:~/Desktop/cv/darknet$ ./darknet detect cfg/yolov2.cfg yolov2.weights layer filters size input output 0 conv 32 3 x 3 / 1 608 x 608 x 3 -&gt; 608 x 608 x 32 0.639 BFLOPs ... 31 detectionmask_scale: Using default '1.000000'Loading weights from yolov2.weights...Done!Enter Image Path: data/person.jpgdata/person.jpg: Predicted in 0.122470 seconds.horse: 82%dog: 86%person: 86% 1ã€DatasetThe VOC dataset directory structure is as followsï¼š 1234567â”œâ”€â”€VOC2019 â”œâ”€â”€ Annotations â”œâ”€â”€ ImageSets â”œâ”€â”€ Layout â”œâ”€â”€ Main â””â”€â”€ Segmentation â””â”€â”€ JPEGImages 1.1 AnnotationsStore the xml file in VOC format, each xml corresponds to an image, and each xml stores the location and category information of each target of the tag, and the naming is usually the same as the corresponding original image. 1.2 ImageSetsImageSets we only need to use the Main folder, which is stored in some text files, usually train.txt, test.txt, etc. The content of the text file is the name of the image that needs to be trained or tested (no suffix) No path) 1.3 JPEGImagesIn the JPEGImages folder, put the original image we have named according to the uniform rules. Take the data set about the instant noodles that I collected this time as an example. Source: Baidu, Jingdong, personal shooting 12345678910â”œâ”€â”€ JPEGImages â”œâ”€â”€ class_LR â”œâ”€â”€ LR00001.jpg â”œâ”€â”€ ... â”œâ”€â”€ class_XL â”œâ”€â”€ XL00001.jpg â”œâ”€â”€ ... â”œâ”€â”€ rename_voc.py â”œâ”€â”€ resize_pic.py â””â”€â”€ voc_spider.py The image naming format is &lt;label_name&gt;&lt;num(len=5)&gt;.jpgï¼Œegï¼šLR00001.jpg 1.3.1 voc_spider.pyIt can be compiled directly, the captured image is stored in the current directory. The picture naming format is &lt;label_name&gt;&lt;num(len=5)&gt;.jpg, for example: LR00001.jpg. 1.3.2 resize_pic.pyUse to reduce the size of the image, because the network needs to normalize the image, the default is to process the size of the square so you only need to enter a number to process all the images in the directory (recursive). The required image size should match the size in yolo.cfg. 123456789# yolov2.cfg[net]# Testingbatch=1subdivisions=1...width=608 !!!height=608 !!!... 1.3.3 rename_voc.pyLook for the file named class_&lt;label_name&gt; under the folder and rename it according to the serial number. This is mainly for the uniform processing of the photos taken by myself. 1.4 ConclusionRecommended steps for VOC dataset construction: Create a folder with the directory structure as above. It is recommended to name it VOC+year, so you can use the provided voc_label.py directly. Create a folder for each class under JPEGImages. I mainly want to distinguish it, and it doesnâ€™t matter. Use the py file above to get the image Finally all the pictures are in the JPEGImages folder and no longer distinguish them. It is recommended to do this step first! The xml folder that is not in the future needs to change the path, no trouble, but still a few more steps. 2ã€Marking the image target areaUse the tool labelImg from https://github.com/tzutalin/labelImg. 123456# install lableImg in Mac OS X 10.14pip3 install pyqt5 lxml # Install qt and lxml by pipmake qt5py3python3 labelImg.pypython3 labelImg.py [IMAGE_PATH] [PRE-DEFINED CLASS FILE] Standard format of *.xml file in VOC2019/Annotations/: 1234567891011121314151617181920212223242526&lt;annotation&gt; &lt;folder&gt;JPEGImages&lt;/folder&gt; &lt;filename&gt;LR00001.jpg&lt;/filename&gt; &lt;path&gt;/home/mei/Desktop/cv/darknet/scripts/VOCdevkit/NOODLE2019/JPEGImages/LR00001.jpg&lt;/path&gt; &lt;source&gt; &lt;database&gt;Unknown&lt;/database&gt; &lt;/source&gt; &lt;size&gt; &lt;width&gt;608&lt;/width&gt; &lt;height&gt;608&lt;/height&gt; &lt;depth&gt;3&lt;/depth&gt; &lt;/size&gt; &lt;segmented&gt;0&lt;/segmented&gt; &lt;object&gt; &lt;name&gt;luxiang&lt;/name&gt; &lt;pose&gt;Unspecified&lt;/pose&gt; &lt;truncated&gt;0&lt;/truncated&gt; &lt;difficult&gt;0&lt;/difficult&gt; &lt;bndbox&gt; &lt;xmin&gt;393&lt;/xmin&gt; &lt;ymin&gt;304&lt;/ymin&gt; &lt;xmax&gt;583&lt;/xmax&gt; &lt;ymax&gt;465&lt;/ymax&gt; &lt;/bndbox&gt; &lt;/object&gt;&lt;/annotation&gt; Some parts you may need to modify: folder The folder is the placement position of the image when the model is finally run. The command runs under ubuntu. 1find -name '*.xml' |xargs perl -pi -e 's|&lt;folder&gt;class_LR|&lt;folder&gt;JPEGImages|g' filename The filename that may be exported is without a file suffix. 1find -name '*.xml' |xargs perl -pi -e 's|&lt;/filename&gt;|.jpg&lt;/filename&gt;|g' Path Path is the absolute path of the image on the running model (because I need to port to another computer) 1find -name '*.xml' |xargs perl -pi -e 's|&lt;path&gt;$(your_original_pic_path)|&lt;path&gt;$(your_final_pic_path)|g' width, height Sometimes using the tool labelImg under Windows, there may be a size where the width and height are 0. If the image size has been normalized before the label, then the following two lines can be used to modify the value of 0. 12find -name '*.xml' |xargs perl -pi -e 's|0&lt;/width&gt;|608&lt;/width&gt;|g'find -name '*.xml' |xargs perl -pi -e 's|0&lt;/height&gt;|608&lt;/height&gt;|g' 3ã€Training YOLO on VOC3.1 Generate Labels for VOC You should install and make sure it can run successfully in you computer. Make a directory named VOCdevkit after darknet/scripts, copy your VOC2019 file in it. Now we need to generate the label files that Darknet uses. Darknet wants a .txt file for each image with a line for each ground truth object in the image that looks like: 1&lt;object-class&gt; &lt;x&gt; &lt;y&gt; &lt;width&gt; &lt;height&gt; Where x, y, width, and height are relative to the imageâ€™s width and height. To generate these file we will run the voc_label.py script in Darknetâ€™s scripts/ directory. First we should modify the voc_label.py cause we donâ€™t use the original VOC dataset. Here mainly modify the data set name, and category information, mine is VOC2019, and all samples are used for training, there are two types of targets, so set as follows: 123456789101112131415161718192021222324252627... #sets=[('2012', 'train'), ('2012', 'val'), ('2007', 'train'), ('2007', 'val'), ('2007', 'test')] #classes = ["aeroplane", "bicycle", "bird", "boat", "bottle", "bus", "car", "cat", "chair", "cow", "diningtable", "dog", "horse", "motorbike", "person", "pottedplant", "sheep", "sofa", "train", "tvmonitor"] sets=[('2019', 'train')]classes = [ "luxiang", "xiangla"] ... def convert_annotation(year, image_id): in_file = open('VOCdevkit/VOC%s/Annotations/%s.xml'%(year, image_id)) #ï¼ˆif you don't use the name 'VOC', modify thisï¼‰ out_file = open('VOCdevkit/VOC%s/labels/%s.txt'%(year, image_id), 'w') #ï¼ˆas aboveï¼‰ ... for year, image_set in sets: if not os.path.exists('VOCdevkit/VOC%s/labels/'%(year)): os.makedirs('VOCdevkit/VOC%s/labels/'%(year)) image_ids = open('VOCdevkit/VOC%s/ImageSets/Main/%s.txt'%(year, image_set)).read().strip().split() list_file = open('%s_%s.txt'%(year, image_set), 'w') for image_id in image_ids: list_file.write('%s/VOCdevkit/VOC%s/JPEGImages/%s.jpg\n'%(wd, year, image_id)) convert_annotation(year, image_id) list_file.close() After modifying it, run the command in this directory: python voc_label.py, then generate the folder labels in the folder script/VOCdevki/VOC2019: 12345â”œâ”€â”€VOC2019 â”œâ”€â”€ labels â”œâ”€â”€ LR00000.txt â”œâ”€â”€ LR00091.txt â”œâ”€â”€ ... At the same time, the 2019_train.txt file should be generated under scripts/, which contains the absolute path of all training samples. â—ï¸â—ï¸â—ï¸ Note that the train.txt file is also generated under the darknet/ folder at this time. If there is, check if it is empty. If it is empty, move the contents of 2019_train.txt. Go to train.txt. 3.2 Modify Cfg for Pascal DataNow go to your Darknet directory. We have to change the cfg/voc.data config file to point to your data: 12345classes= 2train = &lt;path-to-voc&gt;/train.txt// valid = &lt;path-to-voc&gt;2007_test.txtnames = data/voc.namesbackup = backup You should replace &lt;path-to-voc&gt; with the directory where you put the VOC data. 3.3 Download Pretrained Convolutional WeightsFor training we use convolutional weights that are pre-trained on Imagenet. We use weights from the darknet53 model. You can just download the weights for the convolutional layers here (76 MB). 1wget https://pjreddie.com/media/files/darknet53.conv.74 3.4 Train The ModelNow we can train! Run the command: 1./darknet detector train cfg/voc.data cfg/yolov3-voc.cfg darknet53.conv.74 If you want to use multiple gpus run: 1./darknet detector train cfg/coco.data cfg/yolov3.cfg darknet53.conv.74 -gpus 0,1,2,3 If you want to stop and restart training from a checkpoint: 1./darknet detector train cfg/coco.data cfg/yolov3.cfg backup/yolov3.backup -gpus 0,1,2,3 Reference: yolo tutorial from csdn]]></content>
  </entry>
  <entry>
    <title><![CDATA[åŽå°è¿è¡Œæ–‡ä»¶]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2F%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C%E6%96%87%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[åŽå°è¿è¡Œæ–‡ä»¶ä½¿ç”¨tmux [python]UnicodeDecodeError: â€˜asciiâ€™ codec canâ€™t decode byte 0xe5 in position 0: ordinal not in range(128) Solve: 1234# myfile.pyimport sysreload(sys)sys.setdefaultencoding('utf8')]]></content>
      <categories>
        <category>GuideBook</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Html_0 Introduction]]></title>
    <url>%2F2019%2F05%2F11%2FJavaScript%2FHtml_0%20_Introduction%2F</url>
    <content type="text"><![CDATA[Html_0 Introductionåˆ›å»ºç”µå­é‚®ä»¶é“¾æŽ¥ï¼Ÿ æ—¶é—´çº¿ç»˜åˆ¶ï¼Ÿ é‡å®šå‘ç”¨æˆ·ï¼Ÿï¼ˆåœ¨headé‡Œè®¾ç½® httpsçš„å®žçŽ°æœºåˆ¶ï¼ŸSSLã€æ•°å­—è¯ä¹¦ â€”â€”3.17â€”â€” CSSå¤–è¾¹è·]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[js_1 web programming]]></title>
    <url>%2F2019%2F05%2F11%2FJavaScript%2Fjs_1%2F</url>
    <content type="text"><![CDATA[js_1 web programmingHyptertext Markup Language(HTML) web è¡¨ç¤ºä»£ç æ®µï¼Ÿ web è¡¨ç¤ºç‰¹æ®Šå­—ç¬¦ï¼Ÿ â€”â€”&amp;amp; amp; 12&amp;amp;&amp;lt; W3c Nu html checker w3c html validator]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[SoftwareTesting_1]]></title>
    <url>%2F2019%2F05%2F11%2FSoftwareTesting%2FSoftwareTesting_1%2F</url>
    <content type="text"><![CDATA[SoftwareTesting_1SAP system for test?]]></content>
      <categories>
        <category>SoftwareTesting</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[SoftwareTesting_0]]></title>
    <url>%2F2019%2F05%2F11%2FSoftwareTesting%2FSoftwareTesting_0%2F</url>
    <content type="text"><![CDATA[SoftwareTesting_0Introduction Testing Termsâ€¢ Test object â€¢ Test data â€¢ Test planning â€¢ Test design â€¢ Test implementation : â€¢ Test analysis : strategy â€¢ Test run/test suite : may be unordered test case â€¢ Test case â€“ Test conditions (preconditions, inputs, expected outputs/behavior) â€¢ Test scenario : ordered step test case Software quality:more than just eliminating failures â€“ Functionality: adequacy, accuracy, interoperability, â€“ Reliability: maturity, fault tolerance, recoverability â€“ Usability: understandability, ease of learning, operability, attractiveness, compliance to xyz â€“ Efficiency: required time, consumption of resources â€“ Maintainability: analyzability, changeability, stability, testability â€“ Portability: adaptability, ease of installation, conformity, interchangeability â€¢ Quality characteristics must be prioritized Exerciseillegal input: [0,-1,2]; [1,2,3]; [3,3,4]; [3,4,5]; [4,4,4] [2^31,2^31,2^31]; [MAX, 9, 9 ], [MAX, MAX, 44], [MAX,MAX,MAX]]]></content>
      <categories>
        <category>SoftwareTesting</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[åˆ†å·¥]]></title>
    <url>%2F2019%2F05%2F11%2FSoftwareTesting%2FTestPro_0%2F</url>
    <content type="text"><![CDATA[åˆ†å·¥ æ°¸æ½®ï¼š è°ˆç‘žï¼š PMD checkstyle åŽŸç† introduction The explorative study should cover the background, objectives, functionalities and features, usage,and experimentations with the tool. checkstylebackgroundCheckstyle[1] is a static code analysis tool used in software development for checking if Java)source code complies with coding rules. Originally developed by Oliver Burn back in 2001, the project is maintained by a team of developers from around the world. The current stable release is version 8.17[2] which is targeted at the Java 8 language. Checkstyle is highly configurable and can be made to support almost any coding standard. An example configuration files are supplied supporting the Sun Code Conventions, Google Java Style. A good example of a report that can be produced using Checkstyle and Maven can be seen here . Current site contains documentation only for latest, released version. We only support this latest version. We highly recommend read latest documentation first.However, you might need documentation for previous releases because you are still using an older version and latest version describe some features that does not work for you.You can find documentation for most old versions using a URL format like http://checkstyle.sourceforge.net/version/X.X where â€œX.Xâ€ is the version number.Example: http://checkstyle.sourceforge.net/version/6.18 for version 6.18. objectivesCheckstyle is a development tool to help programmers write Java code that adheres to a coding standard. It automates the process of checking Java code to spare humans of this boring (but important) task. This makes it ideal for projects that want to enforce a coding standard. functionalitiesChecks: annotations Check location of annotation on language elements. By default, Check enforce to locate annotations immediately after documentation block and before target element, annotation should be located on separate line from target element. block checks Finds nested blocks, i.e. blocks that are used freely in the code. class design The check finds classes that are designed for extension (subclass creation). Nothing wrong could be with founded classes. This check makes sense only for library projects (not application projects) which care of ideal OOP-design to make sure that class works in all cases even misusage. Even in library projects this check most likely will find classes that are designed for extension by somebody. User needs to use suppressions extensively to got a benefit from this check, and keep in suppressions all confirmed/known classes that are deigned for inheritance intentionally to let the check catch only new classes, and bring this to team/user attention. coding Checks that array initialization contains a trailing comma. The check demands a comma at the end if neither left nor right curly braces are on the same line as the last element of the array. headers imports javadoc comments metrics miscellaneous modifiers naming conventions regexp Size violations whitespace CheckStyleé»˜è®¤æä¾›ä¸€ä¸‹ä¸»è¦æ£€æŸ¥å†…å®¹ï¼š â€¢Javadocæ³¨é‡Š â€¢å‘½åçº¦å®š â€¢æ ‡é¢˜ â€¢Importè¯­å¥ â€¢ä½“ç§¯å¤§å° â€¢ç©ºç™½ â€¢ä¿®é¥°ç¬¦ â€¢å— â€¢ä»£ç é—®é¢˜ â€¢ç±»è®¾è®¡ â€¢æ··åˆæ£€æŸ¥ï¼ˆåŒ…æ´»ä¸€äº›æœ‰ç”¨çš„æ¯”å¦‚éžå¿…é¡»çš„ System.outå’ŒprintstackTraceï¼‰ The Standard Checkstyle Checks are applicable to general Java coding style and require no external libraries. The standard checks are included in the base distribution. The site navigation menu lets you browse the individual checks by functionality. Checkstyle provides many checks that you can apply to your source code. Below is an alphabetical reference, the site navigation menu provides a reference organized by functionality. The whole list of what check style can check about is in the website â€œhttp://checkstyle.sourceforge.net/checks.htmlâ€œ. fearturesCheckstyle can check many aspects of your source code. It can find class design problems, method design problems. It also has the ability to check code layout and formatting issues. For a detailed list of available checks please refer to the Checks page. The programming style adopted by a software development project can help to ensure that the code complies with good programming practices which improves the quality, readability, re-usability of the code and may reduce the cost of development. The checks performed by Checkstyle are mainly limited to the presentation of the code. These checks do not confirm the correctness or completeness of the code. usageThis section documents the out-of-box supported methods for running Checkstyle. An Ant task. A Command Line tool. Note that there are loads of plug-ins for all the IDEs out there. here shows the steps of running checkstyle using the command line tool 1234567java -D&lt;property&gt;=&lt;value&gt; \ com.puppycrawl.tools.checkstyle.Main \ -c &lt;configurationFile&gt; \ [-f &lt;format&gt;] [-p &lt;propertiesFile&gt;] [-o &lt;file&gt;] \ [-s &lt;line:column&gt;] [-g | --generate-xpath-suppression] [--tabWidth &lt;length&gt;] \ [-t | --tree] [-T | --treeWithComments] [-J | treeWithJavadoc] [-j | --javadocTree] \ [-V | --version] [-h | --help] file... Checkstyle will process the specified files and by default report errors to standard out in plain format. Checkstyle requires a configuration XML filethat configures the checks to apply. Command line options are: -c configurationFile - specifies the location of the file that defines the configuration modules. The location can either be a filesystem location, or a name passed to the ClassLoader.getResource() method. -f format - specify the output format. Options are &quot;plain&quot; for the DefaultLogger and &quot;xml&quot; for the XMLLogger. Defaults to &quot;plain&quot;. -p propertiesFile - specify a properties file to use. -o file - specify the file to output to. -s line:column - print xpath suppressions at the fileâ€™s line and column position. Line and column numbers are integer values separated by a :, specify location in the file the suppression should be generated for. The option cannot be used with other options and requires exactly one file to run on to be specified. ATTENTION: generated result will have few queries, joined by pipe(|). Together they will match all AST nodes on specified line and column. You need to choose only one and recheck that it works. Usage of all of them is also ok, but might result in undesirable matching and suppress other issues. -g,--generate-xpath-suppression - generate to output a suppression.xml to use to suppress all violations from userâ€™s config. Instead of printing every violation, all errors will be catched and single suppressions.xml file will be printed out. Used only with -coption. --tabWidth length - set the length of the tab character. Used only with -s and -gxs options. Default value is 8. -t, --tree - print Abstract Syntax Tree(AST) of the checked file. The option cannot be used other options and requires exactly one file to run on to be specified. -T, --treeWithComments - print Abstract Syntax Tree(AST) with comment nodes of the checked file. The option cannot be used with other options and requires exactly one file to run on to be specified. -J, --treeWithJavadoc - print Abstract Syntax Tree(AST) with Javadoc nodes and comment nodes of the checked file. Attention that line number and columns will not be the same as it is a file due to the fact that each javadoc comment is parsed separately from java file. The option cannot be used with other options and requires exactly one file to run on to be specified. -j, â€”javadocTree - print Parse Tree of the Javadoc comment. The file have to contain only Javadoc comment content without including â€˜/*â€™ and â€˜/â€˜ at the beginning and at the end respectively. For example: MyTestFile.javadoc 12* Test method.* @return true The option cannot be used other options and requires exactly one file to run on to be specified. -d, --debug - Print all debug logging of CheckStyle utility. -e, --exclude excludedPath - Directory/file to exclude from CheckStyle. The path can be the full, absolute path, or relative to the current path. Multiple excludes are allowed. -x, --exclude-regexp excludedPathPattern - Directory/file pattern to exclude from CheckStyle. Multiple excludes are allowed. -V, --version - print product version and exit. Any other option is ignored. -h, --help - print usage help message and exit. Any other option is ignored. --executeIgnoredModules - Allows ignored modules to be run. Note that the -n packageNamesFile option has been dropped for Checkstyle 5.0, because of significant changes regarding package name file handling. See for details. Set the properties for expanded property values by either by assigning system properties using the -D&lt;property&gt;=&lt;value&gt; arguments to java or specifying a property file using the -p option. If a property file is specified, the system properties are ignored. CLI is implemented by means of picocli library. Our CLI supports definition of arguments in file by means of AtFiles feature and also command line completion in Bash or ZSH Unix shells, see how to make ithere. checkstyle in IDEA install go to Settings -&gt;plugins-&gt;browse repositories, search checkstyle plugin and click install button use Add own configuration file experimentation]]></content>
      <categories>
        <category>SoftwareTesting</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[WebARonARCoreå¼€å‘è®°å½•]]></title>
    <url>%2F2019%2F05%2F11%2FWebAR%2F%E5%91%A8%E5%B7%A5%E4%BD%9C%E6%B1%87%E6%8A%A54.26%2F</url>
    <content type="text"><![CDATA[WebARonARCoreå¼€å‘è®°å½•ä¹‹å‰æ˜¯ç›´æŽ¥è·‘çŽ°æˆçš„demoï¼ŒçŽ°åœ¨å°è¯•è‡ªå·±ä¸€æ­¥æ­¥å¤çŽ° ç”±äºŽWebXR Device APIå¯èƒ½ä¼šç»å¸¸å˜æ›´ï¼Œå› æ­¤åªæœ‰ä¸€å°éƒ¨åˆ†çš„å¼€å‘ç‰ˆæœ¬çš„Chromeæ”¯æŒï¼Œå¯æ”¯æŒçš„ç‰ˆæœ¬ä¸ºChrome Canary/Dev versions 70-72. å…ˆå‰å·²ç»è®¾ç½®å¥½äº†æµè§ˆå™¨çš„Flag 1. Install Web Server for Chromeï¼Œé…ç½®ï¼Œå…·ä½“å¦‚ä¸‹ï¼ša) è®¾ç½®Web Server URLï¼Œç±»ä¼¼é»˜è®¤çš„æ–‡ä»¶è·¯å¾„ b) è®¾ç½®Automatically show index.html ï¼ˆæµè§ˆå™¨å°±ä¼šç›´æŽ¥å±•ç¤ºæ‰€åœ¨æ–‡ä»¶å¤¹çš„index.htmlçš„ç½‘é¡µï¼‰ c) é€šè¿‡STOPå’ŒRESTATRTæŒ‰é’®æ¥æŽ§åˆ¶æœåŠ¡å™¨ d) Verify that at least one Web Server URL appearsï¼Œ ç¡®ä¿é»˜è®¤è·¯å¾„è®¾ç½®æˆåŠŸï¼Œé»˜è®¤æœ¬åœ°URLä¸ºhttp://127.0.0.1:8887 2. æ‰€åœ¨è®¾å¤‡ä¹Ÿè¦è¿›è¡Œç›¸åº”çš„è®¾ç½®a) Go to chromeï¼š//inspectï¼Œ é€‰æ‹©Port forwardingï¼Œæ·»åŠ 8887ç«¯å£ \3. è¿›å…¥æ–‡ä»¶æ‰€åœ¨è·¯å¾„ï¼ŒåŠ è½½index.html State of AR on the web æœ€å…ˆå®žçŽ°Web XR Device APIçš„æ˜¯Chrome 67 ï¼ˆéœ€è¦è®¾ç½®flag ä¸º#webxrï¼‰ï¼Œåˆå§‹åŒ–çš„æ”¯æŒARçš„ç›¸å…³ç‰¹æ€§åœ¨Chrome 70+ï¼ˆéœ€è¦è®¾ç½®flagä¸º#webxr-hit-testï¼‰å®žçŽ°ï¼Œä¸ä¹…åŽï¼Œæ‰€æœ‰æ”¯æŒWebVRçš„æµè§ˆå™¨éƒ½å°†æ”¯æŒWebXR Device APIã€‚ çŽ°åœ¨WebXR Device APIæ”¯æŒçš„ARç‰¹æ€§å¾ˆå°‘ï¼Œlight estimationï¼Œsurfacesï¼Œmeshesç­‰ç‰¹æ€§æœªæ¥å¯èƒ½ä¼šæ”¯æŒã€‚ å›žé¡¾ä¸€ä¸‹ä¹‹å‰çš„æ–¹å—demoï¼š æˆ‘ä»¬å°†åœ¨æ­¤åŸºç¡€ä¸Šè¿›ä¸€æ­¥æ”¹è¿› 3. Add a cube to a surfaceçŽ°åœ¨æˆ‘ä»¬å·²ç»ç¡®è®¤æˆ‘ä»¬æœ‰å®žæ—¶è§†é¢‘è¾“å…¥ï¼Œæˆ‘ä»¬çš„è®¾å¤‡å§¿åŠ¿è®¾ç½®æˆ‘ä»¬çš„ç›¸æœºçš„ä½ç½®å’Œæ–¹å‘ï¼Œä»¥åŠ3Dç«‹æ–¹ä½“æ¸²æŸ“åœ¨é¡¶éƒ¨ï¼Œæ˜¯æ—¶å€™å¼€å§‹ä½¿ç”¨å‘½ä¸­æµ‹è¯•ä¸ŽçŽ°å®žä¸–ç•Œäº¤äº’ã€‚æˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿåœ¨çŽ°å®žä¸–ç•Œä¸­æ‰¾åˆ°ä¸€ä¸ªè¡¨é¢ï¼ˆä¾‹å¦‚åœ¨åœ°é¢ä¸Šï¼‰ï¼Œå¹¶åœ¨é‚£é‡Œæ”¾ç½®ä¸€ä¸ªç«‹æ–¹ä½“ã€‚ Hit Testï¼Ÿå‘½ä¸­æµ‹è¯•é€šå¸¸æ˜¯ä»ŽæŸä¸ªæ–¹å‘ä¸Šçš„ç©ºé—´ç‚¹æŠ•å‡ºç›´çº¿å¹¶ç¡®å®šå®ƒæ˜¯å¦ä¸Žæˆ‘ä»¬æ„Ÿå…´è¶£çš„ä»»ä½•ç‰©ä½“ç›¸äº¤çš„æ–¹æ³•ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†ç‚¹å‡»æˆ‘ä»¬ARçš„å±å¹•è®¾å¤‡ï¼Œæ‰€ä»¥æƒ³è±¡ä¸€æ¡å…‰çº¿ä»Žä½ çš„æ‰‹æŒ‡ç©¿è¿‡ä½ çš„è®¾å¤‡ï¼Œå¹¶ç›´æŽ¥è¿›å…¥ä½ è®¾å¤‡çš„ç›¸æœºæ‰€çœ‹åˆ°çš„ç‰©ç†ä¸–ç•Œã€‚ WebXR Device APIå°†å‘Šè¯‰æˆ‘ä»¬è¿™æ¡å…‰çº¿æ˜¯å¦ä¸ŽçŽ°å®žä¸–ç•Œä¸­çš„ä»»ä½•ç‰©ä½“ç›¸äº¤ï¼Œè¿™äº›ç‰©ä½“ç”±åŸºç¡€ARåŠŸèƒ½å’Œå¯¹ä¸–ç•Œçš„ç†è§£å†³å®šã€‚å¦‚æžœæˆ‘ä»¬é€šè¿‡æˆ‘ä»¬çš„è®¾å¤‡è§‚å¯Ÿä¸–ç•Œï¼Œç¨å¾®æœå‘åœ°é¢å€¾æ–œï¼Œæˆ‘ä»¬ç‚¹å‡»æˆ‘ä»¬çš„æ‰‹æœºï¼Œä»¥ä¾¿å°„çº¿å°†æ’žå‡»åœ°é¢ï¼Œæˆ‘ä»¬åº”è¯¥æœŸæœ›å‘ç”Ÿç¢°æ’žçš„ä½ç½®çš„å“åº”ã€‚ è®¾ç½®åœºæ™¯åœ¨index.htmlwith IDä¸­æ·»åŠ ä¸€ä¸ªdivï¼Œstabilizationå‘è¡¨ç¤ºç¨³å®šçŠ¶æ€çš„ç”¨æˆ·æ˜¾ç¤ºåŠ¨ç”»ï¼Œæç¤ºä»–ä»¬éšèº«æºå¸¦è®¾å¤‡ã€‚è¿™å°†åœ¨æˆ‘ä»¬å¤„äºŽARæ—¶æ˜¾ç¤ºï¼Œå¹¶åœ¨å…‰ç½©æ‰¾åˆ°è¡¨é¢åŽéšè—ï¼Œé€šè¿‡&lt;body&gt;ç±»æŽ§åˆ¶ã€‚ 12345 &lt;div id="stabilization"&gt;&lt;/div&gt; &lt;script src="../third_party/three.js/three.js"&gt;&lt;/script&gt; ...&lt;/body&gt;&lt;/html&gt; çŽ°åœ¨ï¼Œapp.jsè¦åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯æ‘†è„±æµ®åŠ¨ç«‹æ–¹ä½“åœºæ™¯ã€‚åœ¨onSessionStartedåŠŸèƒ½ä¸­ï¼Œç”¨DemoUtils.createCubeScene()æ›¿æ¢new THREE.Scene()ã€‚ 12// this.scene = DemoUtils.createCubeScene();this.scene = new THREE.Scene(); åœ¨åˆ›å»ºåœºæ™¯ä¹‹åŽï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªåœ¨ç¢°æ’žè¿‡ç¨‹ä¸­æ”¾ç½®çš„å¯¹è±¡ã€‚three.jsä¸­çš„å¯æ¸²æŸ“å¯¹è±¡è¡¨ç¤ºä¸ºTHREE.Meshå¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«å‡ ä½•å’Œæè´¨ã€‚è¿™æ˜¯åˆ›å»ºå‡ ä½•ä½“å’Œæè´¨çš„ä»£ç ï¼Œä»¥åŠè°ƒæ•´ç«‹æ–¹ä½“çš„å˜æ¢ä»¥ä½¿å…¶åŽŸç‚¹ä½äºŽå…¶åº•é¢ã€‚çŽ°åœ¨ï¼Œåªåˆ›å»ºç½‘æ ¼ï¼Œå°†å…¶è½¬æ¢ä¸€æ¬¡ï¼Œç„¶åŽå°†å…¶å­˜å‚¨ä¸ºthis.modelã€‚ 1234const geometry = new THREE.BoxBufferGeometry(0.5, 0.5, 0.5);const material = new THREE.MeshNormalMaterial();geometry.applyMatrix(new THREE.Matrix4().makeTranslation(0, 0.25, 0));this.model = new THREE.Mesh(geometry, material); onSessionStartedèŽ·å–å¼•ç”¨æ¡†æž¶ä¹‹åŽï¼Œæˆ‘ä»¬åœ¨å‡½æ•°ä¸­æ·»åŠ æž„é€ å‡½æ•°ã€‚åœ¨onXRFrameå‡½æ•°ä¸­ï¼Œè°ƒç”¨reticleçš„updateæ–¹æ³•ï¼Œå¹¶åœ¨&#39;stabilized&#39;Reticleæ‰¾åˆ°ä¸€ä¸ªè¡¨é¢åŽå‘body æ·»åŠ ä¸€ä¸ªç±»ã€‚è¿™ä¼šéšè—ç¨³å®šåŠ©æ‰‹åŠ¨ç”»ï¼Œæç¤ºç”¨æˆ·ç§»åŠ¨ä»–ä»¬çš„è®¾å¤‡ã€‚ 1234567891011121314151617181920212223class App &#123; ... onSessionStarted(session) &#123; ... this.reticle = new Reticle(this.session, this.camera); this.scene.add(this.reticle); this.frameOfRef = await this.session.requestFrameOfReference('eye-level'); this.session.requestAnimationFrame(this.onXRFrame); ... &#125; onXRFrame(time, frame) &#123; let session = frame.session; let pose = frame.getDevicePose(this.frameOfRef); this.reticle.update(this.frameOfRef); if (this.reticle.visible &amp;&amp; !this.stabilized) &#123; this.stabilized = true; document.body.classList.add('stabilized'); &#125; ... &#125;&#125; æˆ‘ä»¬çŽ°åœ¨åªæƒ³åœ¨ç‚¹å‡»å±å¹•æ—¶æ‰§è¡Œå‘½ä¸­æµ‹è¯•ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ä¸ªäº‹ä»¶å¤„ç†ç¨‹åºã€‚ åœ¨æž„é€ å‡½æ•°ä¸­ï¼Œå°†å•å‡»å¤„ç†ç¨‹åºç»‘å®šåˆ°å®žä¾‹ã€‚ æ­¤å¤–ï¼Œåœ¨äº‹ä»¶ç»“æŸæ—¶ç»‘å®šäº‹ä»¶onSessionStartedï¼Œå› ä¸ºæˆ‘ä»¬å¸Œæœ›åœ¨æ·»åŠ äº‹ä»¶ä¹‹å‰ç¡®ä¿æµè§ˆå™¨æ”¯æŒæ‰€æœ‰å†…å®¹ã€‚ æœ€åŽï¼Œä¸ºæˆ‘ä»¬çš„æ–°onClickå¤„ç†ç¨‹åºæ·»åŠ ä¸€ä¸ªç©ºç±»æ–¹æ³•ã€‚ 123456789101112131415161718class App &#123; constructor() &#123; ... this.onClick = this.onClick.bind(this); &#125; onSessionStarted(session) &#123; ... this.reticle = new Reticle(this.session, this.camera); this.scene.add(this.reticle); window.addEventListener('click', this.onClick); &#125; onClick(e) &#123; console.log('click!'); &#125;&#125; 4. è§¦å‘å‘½ä¸­æµ‹è¯•çŽ°åœ¨æˆ‘ä»¬å·²ç»å°†æ¨¡åž‹å’Œè§¦å‘ç»‘å®šåˆ°äº‹ä»¶ã€‚XRSessionçš„APIéœ€è¦ä¸€ä¸ªåŽŸç‚¹ï¼Œä¸€ä¸ªæ–¹å‘ï¼Œä»¥åŠæˆ‘ä»¬ä¹‹å‰åˆ›å»ºçš„XRFrameOfReferenceã€‚æˆ‘ä»¬çš„åŽŸç‚¹æ˜¯æˆ‘ä»¬çš„è®¾å¤‡åœ¨WebXRåæ ‡ç³»ä¸­çš„ä½ç½®ï¼Œæ–¹å‘æ˜¯æˆ‘ä»¬è®¾å¤‡èƒŒé¢çš„çŸ¢é‡ç‚¹ã€‚three.jsæœ‰ä¸€äº›æ–¹ä¾¿çš„å‡½æ•°ç”¨äºŽä»Žä¸€ä¸ªç‚¹æŠ•å°„å‡ºä¸€ä¸ªå‘é‡ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬ä½¿ç”¨å®ƒä»¬ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨æ¥è‡ªthree.jsçš„raycasterä¸ºæˆ‘ä»¬å¤„ç†æ•°å­¦ï¼Œè¿™ç»™äº†æˆ‘ä»¬ä¸€ä¸ªåŽŸç‚¹å’Œå‘é‡ä½œä¸ºTHREE.Vector3sã€‚xå’Œyä½ç½®setFromCamera æ˜¯å±å¹•ç©ºé—´ä¸­çš„ä½ç½®ï¼Œæ­¤å‡½æ•°é‡‡ç”¨-1å’Œ1ä¹‹é—´çš„æ ‡å‡†åŒ–è®¾å¤‡åæ ‡ä¸­çš„å€¼ã€‚æˆ‘ä»¬åªæƒ³å°è¯•å°†å¯¹è±¡æ”¾åœ¨å±å¹•ä¸­é—´ï¼Œå› æ­¤æˆ‘ä»¬çš„xå’Œyå€¼ä»…ä¸º0ã€‚ requestHitTestè¿”å›žä¸€ä¸ªè§£æžä¸ºæ•°ç»„çš„promiseï¼Œè¯¥æ•°ç»„XRHitResultså­˜å‚¨å‘½ä¸­å‘ç”Ÿä½ç½®çš„çŸ©é˜µã€‚å¦‚æžœæˆ‘ä»¬è®¾å¤‡çš„ç›´çº¿æ’žåˆ°å¢™å£æˆ–åœ°æ¿ï¼Œåˆ™æ’žå‡»çš„ä½ç½®å°†æ˜¯è¯¥ç›´çº¿ä¸Žå¢™å£æˆ–åœ°æ¿ç›¸äº¤çš„ä½ç½®ã€‚å¦‚æžœæˆ‘ä»¬æ‰¾åˆ°ä¸€ä¸ªå‘½ä¸­ï¼Œè¯·è¿›è¡Œç¬¬ä¸€æ¬¡å‡»ä¸­ï¼ˆæœ€æŽ¥è¿‘çš„å‡»ä¸­ï¼‰å¹¶å°†å…¶å˜ä¸ºa THREE.Matrix4ã€‚ç„¶åŽæˆ‘ä»¬å¯ä»¥æŠŠæˆ‘ä»¬ä¹‹å‰åˆ›å»ºçš„ç«‹æ–¹ä½“æ”¾åœ¨ç¢°æ’žä½ç½®ã€‚æˆ‘ä»¬è¿˜ç¡®ä¿å°†ç«‹æ–¹ä½“æ·»åŠ åˆ°åœºæ™¯ä¸­ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥æ¸²æŸ“å®ƒã€‚ç”±äºŽæˆ‘ä»¬çŽ°åœ¨éœ€è¦ä½¿ç”¨await onClickï¼Œå› æ­¤æˆ‘ä»¬å¿…é¡»åˆ›å»ºonClickä¸€ä¸ªå¼‚æ­¥å‡½æ•°ã€‚ 1234567891011121314151617181920212223242526class App &#123; ... async onClick(e) &#123; const x = 0; const y = 0; this.raycaster = this.raycaster || new THREE.Raycaster(); this.raycaster.setFromCamera(&#123; x, y &#125;, this.camera); const ray = this.raycaster.ray; const origin = new Float32Array(ray.origin.toArray()); const direction = new Float32Array(ray.direction.toArray()); const hits = await this.session.requestHitTest(origin, direction, this.frameOfRef); if (hits.length) &#123; const hit = hits[0]; const hitMatrix = new THREE.Matrix4().fromArray(hit.hitMatrix); this.model.position.setFromMatrixPosition(hitMatrix); this.scene.add(this.model); &#125; &#125;&#125; 5. é¢„è®¡æˆæžœ åœ¨è¿è¡Œåº”ç”¨ç¨‹åºæ—¶ï¼Œåº”è¯¥èƒ½å¤Ÿçœ‹åˆ°è·Ÿè¸ªåœ°æ¿è¡¨é¢çš„å…‰ç½©ã€‚å¦‚æžœæ²¡æœ‰ï¼Œè¯·å°è¯•ä½¿ç”¨æ‰‹æœºæ…¢æ…¢çŽ¯é¡¾å››å‘¨ã€‚ ä¸€æ—¦çœ‹åˆ°å…‰ç½©ï¼Œåœ¨æ•²å‡»æ—¶ï¼Œåº”åœ¨ç«‹ä½“å…‰æ …ä¸Šæ”¾ç½®ä¸€ä¸ªç«‹æ–¹ä½“ã€‚ å¯èƒ½éœ€è¦ç§»åŠ¨ä¸€ç‚¹ï¼Œä»¥ä¾¿åº•å±‚ARå¹³å°å¯ä»¥æ›´å¥½åœ°æ£€æµ‹çŽ°å®žä¸–ç•Œä¸­çš„è¡¨é¢ã€‚ä½Žç…§æ˜Žå’Œæ²¡æœ‰ç‰¹å¾çš„è¡¨é¢ä¼šé™ä½Žåœºæ™¯ç†è§£çš„è´¨é‡ï¼Œå¹¶å¢žåŠ ä¸ä¼šå‘çŽ°å‘½ä¸­çš„æœºä¼šã€‚]]></content>
      <categories>
        <category>WebAR</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[æœ¬å‘¨å­¦ä¹ æƒ…å†µ]]></title>
    <url>%2F2019%2F05%2F11%2FWebAR%2F%E5%91%A8%E5%B7%A5%E4%BD%9C%E6%B1%87%E6%8A%A54.5%2F</url>
    <content type="text"><![CDATA[ä¸€. æœ¬å‘¨å­¦ä¹ æƒ…å†µ å‘¨å·¥ä½œæ±‡æŠ¥ æ—¥æœŸ å­¦ä¹ å†…å®¹ 4.1-4.5 è§†è§‰ SLAM å­¦ä¹ ï¼Œé«˜ç¿”åå››è®²å­¦ä¹ è‡³ç¬¬åä¸‰è¯¾ï¼Œå¯¹ VSLAM æœ‰äº†åŸºæœ¬äº†è§£ äºŒ. ä¸‹å‘¨å­¦ä¹ è®¡åˆ’ è´­ä¹°è®¾å¤‡ WebARô°ƒô°„ARKit å¼€å‘ç»§ç»­ ç»§ç»­å­¦ä¹ è§†è§‰ SLAM é™„ä»¶ï¼š SLAMå­¦ä¹ è¿›åº¦æ±‡æŠ¥]]></content>
      <categories>
        <category>WebAR</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ANR]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FAndroid%2FANR%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[ANR 1ã€ANRæŽ’é”™ä¸€èˆ¬æœ‰ä¸‰ç§ç±»åž‹ KeyDispatchTimeout(5 seconds) â€”ä¸»è¦æ˜¯ç±»åž‹æŒ‰é”®æˆ–è§¦æ‘¸äº‹ä»¶åœ¨ç‰¹å®šæ—¶é—´å†…æ— å“åº” BroadcastTimeout(10 seconds) â€”BroadcastReceiveråœ¨ç‰¹å®šæ—¶é—´å†…æ— æ³•å¤„ç†å®Œæˆ ServiceTimeout(20 secends) â€”å°æ¦‚çŽ‡äº‹ä»¶ Serviceåœ¨ç‰¹å®šçš„æ—¶é—´å†…æ— æ³•å¤„ç†å®Œæˆ 2ã€å“ªäº›æ“ä½œä¼šå¯¼è‡´ANRåœ¨ä¸»çº¿ç¨‹æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š é«˜è€—æ—¶çš„æ“ä½œï¼Œå¦‚å›¾åƒå˜æ¢ ç£ç›˜è¯»å†™ï¼Œæ•°æ®åº“è¯»å†™æ“ä½œ å¤§é‡çš„åˆ›å»ºæ–°å¯¹è±¡ 3ã€å¦‚ä½•é¿å… UIçº¿ç¨‹å°½é‡åªåšè·ŸUIç›¸å…³çš„å·¥ä½œ è€—æ—¶çš„æ“ä½œ(æ¯”å¦‚æ•°æ®åº“æ“ä½œï¼ŒI/Oï¼Œè¿žæŽ¥ç½‘ç»œæˆ–è€…åˆ«çš„æœ‰å¯èƒ½é˜»å¡žUIçº¿ç¨‹çš„æ“ä½œ)æŠŠå®ƒæ”¾åœ¨å•ç‹¬çš„çº¿ç¨‹å¤„ç† å°½é‡ç”¨Handleræ¥å¤„ç†UIThreadå’Œåˆ«çš„Threadä¹‹é—´çš„äº¤äº’ 4ã€è§£å†³çš„é€»è¾‘ ä½¿ç”¨AsyncTask åœ¨doInBackground()æ–¹æ³•ä¸­æ‰§è¡Œè€—æ—¶æ“ä½œ åœ¨onPostExecuted()æ›´æ–°UI ä½¿ç”¨Handlerå®žçŽ°å¼‚æ­¥ä»»åŠ¡ åœ¨å­çº¿ç¨‹ä¸­å¤„ç†è€—æ—¶æ“ä½œ å¤„ç†å®Œæˆä¹‹åŽï¼Œé€šè¿‡handler.sendMessage()ä¼ é€’å¤„ç†ç»“æžœ åœ¨handlerçš„handleMessage()æ–¹æ³•ä¸­æ›´æ–°UI æˆ–è€…ä½¿ç”¨handler.post()æ–¹æ³•å°†æ¶ˆæ¯æ”¾åˆ°Looperä¸­ 5ã€å¦‚ä½•æŽ’æŸ¥ é¦–å…ˆåˆ†æžlog ä»Žtrace.txtæ–‡ä»¶æŸ¥çœ‹è°ƒç”¨stackï¼Œadb pull data/anr/traces.txt ./mytraces.txt çœ‹ä»£ç  ä»”ç»†æŸ¥çœ‹ANRçš„æˆå› (iowait?block?memoryleak?) 6ã€ç›‘æµ‹ANRçš„Watchdog æœ€è¿‘å‡ºæ¥ä¸€ä¸ªå«LeakCanary FC(Force Close)ä»€ä¹ˆæ—¶å€™ä¼šå‡ºçŽ° Error OOMï¼Œå†…å­˜æº¢å‡º StackOverFlowError Runtime,æ¯”å¦‚è¯´ç©ºæŒ‡é’ˆå¼‚å¸¸ è§£å†³çš„åŠžæ³• æ³¨æ„å†…å­˜çš„ä½¿ç”¨å’Œç®¡ç† ä½¿ç”¨Thread.UncaughtExceptionHandleræŽ¥å£]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[APPå¯åŠ¨è¿‡ç¨‹]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FAndroid%2FAPP%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[APPå¯åŠ¨è¿‡ç¨‹ ä¸Šå›¾å°±å¯ä»¥å¾ˆå¥½çš„è¯´æ˜ŽAppå¯åŠ¨çš„è¿‡ç¨‹ ActivityManagerServiceç»„ç»‡å›žé€€æ ˆæ—¶ä»¥ActivityRecordä¸ºåŸºæœ¬å•ä½ï¼Œæ‰€æœ‰çš„ActivityRecordæ”¾åœ¨åŒä¸€ä¸ªArrayListé‡Œï¼Œå¯ä»¥å°†mHistoryçœ‹ä½œä¸€ä¸ªæ ˆå¯¹è±¡ï¼Œç´¢å¼•0æ‰€æŒ‡çš„å¯¹è±¡ä½äºŽæ ˆåº•ï¼Œç´¢å¼•mHistory.size()-1æ‰€æŒ‡çš„å¯¹è±¡ä½äºŽæ ˆé¡¶ Zygoteè¿›ç¨‹å­µåŒ–å‡ºæ–°çš„åº”ç”¨è¿›ç¨‹åŽï¼Œä¼šæ‰§è¡ŒActivityThreadç±»çš„mainæ–¹æ³•.åœ¨è¯¥æ–¹æ³•é‡Œä¼šå…ˆå‡†å¤‡å¥½Looperå’Œæ¶ˆæ¯é˜Ÿåˆ—ï¼Œç„¶åŽè°ƒç”¨attachæ–¹æ³•å°†åº”ç”¨è¿›ç¨‹ç»‘å®šåˆ°ActivityManagerServiceï¼Œç„¶åŽè¿›å…¥loopå¾ªçŽ¯ï¼Œä¸æ–­åœ°è¯»å–æ¶ˆæ¯é˜Ÿåˆ—é‡Œçš„æ¶ˆæ¯ï¼Œå¹¶åˆ†å‘æ¶ˆæ¯ã€‚ ActivityThreadçš„mainæ–¹æ³•æ‰§è¡ŒåŽ,åº”ç”¨è¿›ç¨‹æŽ¥ä¸‹æ¥é€šçŸ¥ActivityManagerServiceåº”ç”¨è¿›ç¨‹å·²å¯åŠ¨ï¼ŒActivityManagerServiceä¿å­˜åº”ç”¨è¿›ç¨‹çš„ä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œè¿™æ ·ActivityManagerServiceå¯ä»¥é€šè¿‡è¿™ä¸ªä»£ç†å¯¹è±¡æŽ§åˆ¶åº”ç”¨è¿›ç¨‹ï¼Œç„¶åŽActivityManagerServiceé€šçŸ¥åº”ç”¨è¿›ç¨‹åˆ›å»ºå…¥å£Activityçš„å®žä¾‹ï¼Œå¹¶æ‰§è¡Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[AIDL]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FAndroid%2FAIDL%2F</url>
    <content type="text"><![CDATA[AIDL åˆ›å»ºä¸€ä¸ªæŽ¥å£ï¼Œå†é‡Œé¢å®šä¹‰æ–¹æ³• 123456package com.example.taidl; interface ICalcAIDL &#123; int add(int x , int y); int min(int x , int y ); &#125; buildä¸€ä¸‹genç›®å½•ä¸‹ä¼šç”ŸæˆICalcAIDL.javaæ–‡ä»¶ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131/* * This file is auto-generated. DO NOT MODIFY. * Original file: /Users/dream/Downloads/android/androidProject/TAIDL/src/com/example/taidl/ICalcAIDL.aidl */package com.example.taidl;public interface ICalcAIDL extends android.os.IInterface&#123;/** Local-side IPC implementation stub class. */public static abstract class Stub extends android.os.Binder implements com.example.taidl.ICalcAIDL&#123;private static final java.lang.String DESCRIPTOR = "com.example.taidl.ICalcAIDL";/** Construct the stub at attach it to the interface. */public Stub()&#123;this.attachInterface(this, DESCRIPTOR);&#125;/** * Cast an IBinder object into an com.example.taidl.ICalcAIDL interface, * generating a proxy if needed. */public static com.example.taidl.ICalcAIDL asInterface(android.os.IBinder obj)&#123;if ((obj==null)) &#123;return null;&#125;android.os.IInterface iin = obj.queryLocalInterface(DESCRIPTOR);if (((iin!=null)&amp;&amp;(iin instanceof com.example.taidl.ICalcAIDL))) &#123;return ((com.example.taidl.ICalcAIDL)iin);&#125;return new com.example.taidl.ICalcAIDL.Stub.Proxy(obj);&#125;@Override public android.os.IBinder asBinder()&#123;return this;&#125;@Override public boolean onTransact(int code, android.os.Parcel data, android.os.Parcel reply, int flags) throws android.os.RemoteException&#123;switch (code)&#123;case INTERFACE_TRANSACTION:&#123;reply.writeString(DESCRIPTOR);return true;&#125;case TRANSACTION_add:&#123;data.enforceInterface(DESCRIPTOR);int _arg0;_arg0 = data.readInt();int _arg1;_arg1 = data.readInt();int _result = this.add(_arg0, _arg1);reply.writeNoException();reply.writeInt(_result);return true;&#125;case TRANSACTION_min:&#123;data.enforceInterface(DESCRIPTOR);int _arg0;_arg0 = data.readInt();int _arg1;_arg1 = data.readInt();int _result = this.min(_arg0, _arg1);reply.writeNoException();reply.writeInt(_result);return true;&#125;&#125;return super.onTransact(code, data, reply, flags);&#125;private static class Proxy implements com.example.taidl.ICalcAIDL&#123;private android.os.IBinder mRemote;Proxy(android.os.IBinder remote)&#123;mRemote = remote;&#125;@Override public android.os.IBinder asBinder()&#123;return mRemote;&#125;public java.lang.String getInterfaceDescriptor()&#123;return DESCRIPTOR;&#125;@Override public int add(int x, int y) throws android.os.RemoteException&#123;android.os.Parcel _data = android.os.Parcel.obtain();android.os.Parcel _reply = android.os.Parcel.obtain();int _result;try &#123;_data.writeInterfaceToken(DESCRIPTOR);_data.writeInt(x);_data.writeInt(y);mRemote.transact(Stub.TRANSACTION_add, _data, _reply, 0);_reply.readException();_result = _reply.readInt();&#125;finally &#123;_reply.recycle();_data.recycle();&#125;return _result;&#125;@Override public int min(int x, int y) throws android.os.RemoteException&#123;android.os.Parcel _data = android.os.Parcel.obtain();android.os.Parcel _reply = android.os.Parcel.obtain();int _result;try &#123;_data.writeInterfaceToken(DESCRIPTOR);_data.writeInt(x);_data.writeInt(y);mRemote.transact(Stub.TRANSACTION_min, _data, _reply, 0);_reply.readException();_result = _reply.readInt();&#125;finally &#123;_reply.recycle();_data.recycle();&#125;return _result;&#125;&#125;static final int TRANSACTION_add = (android.os.IBinder.FIRST_CALL_TRANSACTION + 0);static final int TRANSACTION_min = (android.os.IBinder.FIRST_CALL_TRANSACTION + 1);&#125;public int add(int x, int y) throws android.os.RemoteException;public int min(int x, int y) throws android.os.RemoteException;&#125; æ–°å»ºä¸€ä¸ªService 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657package com.example.taidl;import android.app.Service;import android.content.Intent;import android.os.IBinder;import android.os.RemoteException;import android.util.Log;public class CalcService extends Service&#123; private static final String TAG = "server"; public void onCreate() &#123; Log.e(TAG, "onCreate"); &#125; public IBinder onBind(Intent t) &#123; Log.e(TAG, "onBind"); return mBinder; &#125; public void onDestroy() &#123; Log.e(TAG, "onDestroy"); super.onDestroy(); &#125; public boolean onUnbind(Intent intent) &#123; Log.e(TAG, "onUnbind"); return super.onUnbind(intent); &#125; public void onRebind(Intent intent) &#123; Log.e(TAG, "onRebind"); super.onRebind(intent); &#125; private final ICalcAIDL.Stub mBinder = new ICalcAIDL.Stub() &#123; @Override public int min(int x, int y) throws RemoteException &#123; return x + y; &#125; @Override public int add(int x, int y) throws RemoteException &#123; // TODO Auto-generated method stub return x - y; &#125; &#125;; &#125; åˆ›å»ºäº†ä¸€ä¸ªmBinderå¯¹è±¡ï¼Œå¹¶åœ¨Serviceçš„onBindæ–¹æ³•ä¸­è¿”å›ž æ³¨å†Œï¼š 1234567&lt;service android:name="com.example.taidl.CalcService"&gt; &lt;intent-filter&gt; &lt;action android:name="com.example.taidl.calc" /&gt; &lt;category android:name="android.intent.category.DEFAULT" /&gt; &lt;/intent-filter&gt; &lt;/service&gt; æˆ‘ä»¬ä¸€ä¼šä¼šåœ¨åˆ«çš„åº”ç”¨ç¨‹åºä¸­é€šè¿‡Intentæ¥æŸ¥æ‰¾æ­¤Serviceï¼›è¿™ä¸ªä¸éœ€è¦Activityï¼Œæ‰€ä»¥æˆ‘ä¹Ÿå°±æ²¡å†™Activityï¼Œå®‰è£…å®Œæˆä¹Ÿçœ‹ä¸åˆ°å®‰è£…å›¾æ ‡ï¼Œæ‚„æ‚„åœ¨åŽå°è¿è¡Œç€ã€‚æœåŠ¡ç«¯ç¼–å†™å®Œæ¯•ã€‚ä¸‹é¢å¼€å§‹ç¼–å†™å®¢æˆ·ç«¯: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101package com.example.tclient;import com.example.taidl.ICalcAIDL;import android.app.Activity;import android.content.ComponentName;import android.content.Context;import android.content.Intent;import android.content.ServiceConnection;import android.os.Bundle;import android.os.IBinder;import android.util.Log;import android.view.View;import android.widget.Toast;public class MainActivity extends Activity &#123; private ICalcAIDL mCalcAidl; private ServiceConnection mServiceConn = new ServiceConnection() &#123; @Override public void onServiceDisconnected(ComponentName name) &#123; Log.e("client", "onServiceDisconnected"); mCalcAidl = null; &#125; @Override public void onServiceConnected(ComponentName name, IBinder service) &#123; Log.e("client", "onServiceConnected"); mCalcAidl = ICalcAIDL.Stub.asInterface(service); &#125; &#125;; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); &#125; /** * ç‚¹å‡»BindServiceæŒ‰é’®æ—¶è°ƒç”¨ * @param view */ public void bindService(View view) &#123; Intent intent = new Intent(); intent.setAction("com.example.taidl.calc"); bindService(intent, mServiceConn, Context.BIND_AUTO_CREATE); &#125; /** * ç‚¹å‡»unBindServiceæŒ‰é’®æ—¶è°ƒç”¨ * @param view */ public void unbindService(View view) &#123; unbindService(mServiceConn); &#125; /** * ç‚¹å‡»12+12æŒ‰é’®æ—¶è°ƒç”¨ * @param view */ public void addInvoked(View view) throws Exception &#123; if (mCalcAidl != null) &#123; int addRes = mCalcAidl.add(12, 12); Toast.makeText(this, addRes + "", Toast.LENGTH_SHORT).show(); &#125; else &#123; Toast.makeText(this, "æœåŠ¡å™¨è¢«å¼‚å¸¸æ€æ­»ï¼Œè¯·é‡æ–°ç»‘å®šæœåŠ¡ç«¯", Toast.LENGTH_SHORT) .show(); &#125; &#125; /** * ç‚¹å‡»50-12æŒ‰é’®æ—¶è°ƒç”¨ * @param view */ public void minInvoked(View view) throws Exception &#123; if (mCalcAidl != null) &#123; int addRes = mCalcAidl.min(50, 12); Toast.makeText(this, addRes + "", Toast.LENGTH_SHORT).show(); &#125; else &#123; Toast.makeText(this, "æœåŠ¡å™¨æœªç»‘å®šæˆ–è¢«å¼‚å¸¸æ€æ­»ï¼Œè¯·é‡æ–°ç»‘å®šæœåŠ¡ç«¯", Toast.LENGTH_SHORT) .show(); &#125; &#125;&#125; å°†æœåŠ¡ç«¯çš„aidlæ–‡ä»¶å®Œæ•´çš„å¤åˆ¶è¿‡æ¥ï¼ŒåŒ…åä¸€å®šè¦ä¸€è‡´ã€‚ åˆ†æžAIDLç”Ÿæˆçš„ä»£ç  æœåŠ¡ç«¯ 12345678910111213141516private final ICalcAIDL.Stub mBinder = new ICalcAIDL.Stub() &#123; @Override public int add(int x, int y) throws RemoteException &#123; return x + y; &#125; @Override public int min(int x, int y) throws RemoteException &#123; return x - y; &#125; &#125;; ICalcAILD.Stubæ¥æ‰§è¡Œçš„ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹Stubè¿™ä¸ªç±»çš„å£°æ˜Žï¼š 1public static abstract class Stub extends android.os.Binder implements com.zhy.calc.aidl.ICalcAIDL æ¸…æ¥šçš„çœ‹åˆ°è¿™ä¸ªç±»æ˜¯Binderçš„å­ç±»ï¼Œæ˜¯ä¸æ˜¯ç¬¦åˆæˆ‘ä»¬æ–‡ç« å¼€é€šæ‰€è¯´çš„æœåŠ¡ç«¯å…¶å®žæ˜¯ä¸€ä¸ªBinderç±»çš„å®žä¾‹æŽ¥ä¸‹æ¥çœ‹å®ƒçš„onTransact()æ–¹æ³•ï¼š 123456789101112131415161718192021222324252627282930313233343536@Override public boolean onTransact(int code, android.os.Parcel data, android.os.Parcel reply, int flags) throws android.os.RemoteException &#123; switch (code) &#123; case INTERFACE_TRANSACTION: &#123; reply.writeString(DESCRIPTOR); return true; &#125; case TRANSACTION_add: &#123; data.enforceInterface(DESCRIPTOR); int _arg0; _arg0 = data.readInt(); int _arg1; _arg1 = data.readInt(); int _result = this.add(_arg0, _arg1); reply.writeNoException(); reply.writeInt(_result); return true; &#125; case TRANSACTION_min: &#123; data.enforceInterface(DESCRIPTOR); int _arg0; _arg0 = data.readInt(); int _arg1; _arg1 = data.readInt(); int _result = this.min(_arg0, _arg1); reply.writeNoException(); reply.writeInt(_result); return true; &#125; &#125; return super.onTransact(code, data, reply, flags); &#125; æ–‡ç« å¼€å¤´ä¹Ÿè¯´åˆ°æœåŠ¡ç«¯çš„Binderå®žä¾‹ä¼šæ ¹æ®å®¢æˆ·ç«¯ä¾é Binderé©±åŠ¨å‘æ¥çš„æ¶ˆæ¯ï¼Œæ‰§è¡ŒonTransactæ–¹æ³•ï¼Œç„¶åŽç”±å…¶å‚æ•°å†³å®šæ‰§è¡ŒæœåŠ¡ç«¯çš„ä»£ç ã€‚å¯ä»¥çœ‹åˆ°onTransactæœ‰å››ä¸ªå‚æ•°code ï¼Œ data ï¼Œreplay ï¼Œ flags code æ˜¯ä¸€ä¸ªæ•´å½¢çš„å”¯ä¸€æ ‡è¯†ï¼Œç”¨äºŽåŒºåˆ†æ‰§è¡Œå“ªä¸ªæ–¹æ³•ï¼Œå®¢æˆ·ç«¯ä¼šä¼ é€’æ­¤å‚æ•°ï¼Œå‘Šè¯‰æœåŠ¡ç«¯æ‰§è¡Œå“ªä¸ªæ–¹æ³• dataå®¢æˆ·ç«¯ä¼ é€’è¿‡æ¥çš„å‚æ•° replayæœåŠ¡å™¨è¿”å›žå›žåŽ»çš„å€¼ flagsæ ‡æ˜Žæ˜¯å¦æœ‰è¿”å›žå€¼ï¼Œ0ä¸ºæœ‰ï¼ˆåŒå‘ï¼‰ï¼Œ1ä¸ºæ²¡æœ‰ï¼ˆå•å‘ï¼‰ æˆ‘ä»¬ä»”ç»†çœ‹case TRANSACTION_minä¸­çš„ä»£ç  data.enforceInterface(DESCRIPTOR); ä¸Žå®¢æˆ·ç«¯çš„writeInterfaceTokenå¯¹ç”¨ï¼Œæ ‡è¯†è¿œç¨‹æœåŠ¡çš„åç§° 1234int _arg0;_arg0 = data.readInt();int _arg1;_arg1 = data.readInt(); æŽ¥ä¸‹æ¥åˆ†åˆ«è¯»å–äº†å®¢æˆ·ç«¯ä¼ å…¥çš„ä¸¤ä¸ªå‚æ•° 123int _result = this.min(_arg0, _arg1);reply.writeNoException();reply.writeInt(_result); ç„¶åŽæ‰§è¡Œthis.minï¼Œå³æˆ‘ä»¬å®žçŽ°çš„minæ–¹æ³•ï¼›è¿”å›žresultç”±replyå†™å›žã€‚ addåŒç†ï¼Œå¯ä»¥çœ‹åˆ°æœåŠ¡ç«¯é€šè¿‡AIDLç”ŸæˆStubçš„ç±»ï¼Œå°è£…äº†æœåŠ¡ç«¯æœ¬æ¥éœ€è¦å†™çš„ä»£ç ã€‚ å®¢æˆ·ç«¯å®¢æˆ·ç«¯ä¸»è¦é€šè¿‡ServiceConnectedä¸ŽæœåŠ¡ç«¯è¿žæŽ¥ 12345678910111213141516private ServiceConnection mServiceConn = new ServiceConnection() &#123; @Override public void onServiceDisconnected(ComponentName name) &#123; Log.e("client", "onServiceDisconnected"); mCalcAidl = null; &#125; @Override public void onServiceConnected(ComponentName name, IBinder service) &#123; Log.e("client", "onServiceConnected"); mCalcAidl = ICalcAIDL.Stub.asInterface(service); &#125; &#125;; å¦‚æžœä½ æ¯”è¾ƒæ•é”ï¼Œåº”è¯¥ä¼šçŒœåˆ°è¿™ä¸ªonServiceConnectedä¸­çš„IBinderå®žä¾‹ï¼Œå…¶å®žå°±æ˜¯æˆ‘ä»¬æ–‡ç« å¼€é€šæ‰€è¯´çš„Binderé©±åŠ¨ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªBinderå®žä¾‹åœ¨ICalcAIDL.Stub.asInterfaceä¸­æœ€ç»ˆè°ƒç”¨äº†ï¼š 1return new com.zhy.calc.aidl.ICalcAIDL.Stub.Proxy(obj); è¿™ä¸ªProxyå®žä¾‹ä¼ å…¥äº†æˆ‘ä»¬çš„Binderé©±åŠ¨ï¼Œå¹¶ä¸”å°è£…äº†æˆ‘ä»¬è°ƒç”¨æœåŠ¡ç«¯çš„ä»£ç ï¼Œæ–‡ç« å¼€å¤´è¯´ï¼Œå®¢æˆ·ç«¯ä¼šé€šè¿‡Binderé©±åŠ¨çš„transact()æ–¹æ³•è°ƒç”¨æœåŠ¡ç«¯ä»£ç  ç›´æŽ¥çœ‹Proxyä¸­çš„addæ–¹æ³• 12345678910111213141516171819@Override public int add(int x, int y) throws android.os.RemoteException &#123; android.os.Parcel _data = android.os.Parcel.obtain(); android.os.Parcel _reply = android.os.Parcel.obtain(); int _result; try &#123; _data.writeInterfaceToken(DESCRIPTOR); _data.writeInt(x); _data.writeInt(y); mRemote.transact(Stub.TRANSACTION_add, _data, _reply, 0); _reply.readException(); _result = _reply.readInt(); &#125; finally &#123; _reply.recycle(); _data.recycle(); &#125; return _result; &#125; é¦–å…ˆå£°æ˜Žä¸¤ä¸ªParcelå¯¹è±¡ï¼Œä¸€ä¸ªç”¨äºŽä¼ é€’æ•°æ®ï¼Œä¸€ä¸ªç”¨æˆ·æŽ¥æ”¶è¿”å›žçš„æ•°æ® 1234_data.writeInterfaceToken(DESCRIPTOR);ä¸ŽæœåŠ¡å™¨ç«¯çš„enforceInterfacå¯¹åº”_data.writeInt(x);_data.writeInt(y);å†™å…¥éœ€è¦ä¼ é€’çš„å‚æ•°mRemote.transact(Stub.TRANSACTION_add, _data, _reply, 0); ç»ˆäºŽçœ‹åˆ°äº†æˆ‘ä»¬çš„transactæ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªå¯¹åº”æœåŠ¡ç«¯çš„code,_data,_repayåˆ†åˆ«å¯¹åº”æœåŠ¡ç«¯çš„dataï¼Œreplyï¼Œ0è¡¨ç¤ºæ˜¯åŒå‘çš„ 12_reply.readException();_result = _reply.readInt(); æœ€åŽè¯»å‡ºæˆ‘ä»¬æœåŠ¡ç«¯è¿”å›žçš„æ•°æ®ï¼Œç„¶åŽreturnã€‚å¯ä»¥çœ‹åˆ°å’ŒæœåŠ¡ç«¯çš„onTransactåŸºæœ¬æ˜¯ä¸€è¡Œä¸€è¡Œå¯¹åº”çš„ã€‚ æˆ‘ä»¬å·²ç»é€šè¿‡AIDLç”Ÿæˆçš„ä»£ç è§£é‡Šäº†Android Binderæ¡†æž¶çš„å·¥ä½œåŽŸç†ã€‚Serviceçš„ä½œç”¨å…¶å®žå°±æ˜¯ä¸ºæˆ‘ä»¬åˆ›å»ºBinderé©±åŠ¨ï¼Œå³æœåŠ¡ç«¯ä¸Žå®¢æˆ·ç«¯è¿žæŽ¥çš„æ¡¥æ¢ã€‚]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Activityå¯åŠ¨è¿‡ç¨‹]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FAndroid%2FActivity%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B%E5%85%A8%E8%A7%A3%E6%9E%90%2F</url>
    <content type="text"><![CDATA[Activityå¯åŠ¨è¿‡ç¨‹ ä¸€äº›åŸºæœ¬çš„æ¦‚å¿µ ActivityManagerServicesï¼Œç®€ç§°AMSï¼ŒæœåŠ¡ç«¯å¯¹è±¡ï¼Œè´Ÿè´£ç³»ç»Ÿä¸­æ‰€æœ‰Activityçš„ç”Ÿå‘½å‘¨æœŸ ActivityThreadï¼ŒAppçš„çœŸæ­£å…¥å£ã€‚å½“å¼€å¯Appä¹‹åŽï¼Œä¼šè°ƒç”¨main()å¼€å§‹è¿è¡Œï¼Œå¼€å¯æ¶ˆæ¯å¾ªçŽ¯é˜Ÿåˆ—ï¼Œè¿™å°±æ˜¯ä¼ è¯´ä¸­çš„UIçº¿ç¨‹æˆ–è€…å«ä¸»çº¿ç¨‹ã€‚ä¸ŽActivityManagerServicesé…åˆï¼Œä¸€èµ·å®ŒæˆActivityçš„ç®¡ç†å·¥ä½œ ApplicationThreadï¼Œç”¨æ¥å®žçŽ°ActivityManagerServiceä¸ŽActivityThreadä¹‹é—´çš„äº¤äº’ã€‚åœ¨ActivityManagerServiceéœ€è¦ç®¡ç†ç›¸å…³Applicationä¸­çš„Activityçš„ç”Ÿå‘½å‘¨æœŸæ—¶ï¼Œé€šè¿‡ApplicationThreadçš„ä»£ç†å¯¹è±¡ä¸ŽActivityThreadé€šè®¯ã€‚ ApplicationThreadProxyï¼Œæ˜¯ApplicationThreadåœ¨æœåŠ¡å™¨ç«¯çš„ä»£ç†ï¼Œè´Ÿè´£å’Œå®¢æˆ·ç«¯çš„ApplicationThreadé€šè®¯ã€‚AMSå°±æ˜¯é€šè¿‡è¯¥ä»£ç†ä¸ŽActivityThreadè¿›è¡Œé€šä¿¡çš„ã€‚ Instrumentationï¼Œæ¯ä¸€ä¸ªåº”ç”¨ç¨‹åºåªæœ‰ä¸€ä¸ªInstrumentationå¯¹è±¡ï¼Œæ¯ä¸ªActivityå†…éƒ½æœ‰ä¸€ä¸ªå¯¹è¯¥å¯¹è±¡çš„å¼•ç”¨ã€‚Instrumentationå¯ä»¥ç†è§£ä¸ºåº”ç”¨è¿›ç¨‹çš„ç®¡å®¶ï¼ŒActivityThreadè¦åˆ›å»ºæˆ–æš‚åœæŸä¸ªActivityæ—¶ï¼Œéƒ½éœ€è¦é€šè¿‡Instrumentationæ¥è¿›è¡Œå…·ä½“çš„æ“ä½œã€‚ ActivityStackï¼ŒActivityåœ¨AMSçš„æ ˆç®¡ç†ï¼Œç”¨æ¥è®°å½•å·²ç»å¯åŠ¨çš„Activityçš„å…ˆåŽå…³ç³»ï¼ŒçŠ¶æ€ä¿¡æ¯ç­‰ã€‚é€šè¿‡ActivityStackå†³å®šæ˜¯å¦éœ€è¦å¯åŠ¨æ–°çš„è¿›ç¨‹ã€‚ ActivityRecordï¼ŒActivityStackçš„ç®¡ç†å¯¹è±¡ï¼Œæ¯ä¸ªActivityåœ¨AMSå¯¹åº”ä¸€ä¸ª* ActivityRecordï¼Œæ¥è®°å½•Activityçš„çŠ¶æ€ä»¥åŠå…¶ä»–çš„ç®¡ç†ä¿¡æ¯ã€‚å…¶å®žå°±æ˜¯æœåŠ¡å™¨ç«¯çš„Activityå¯¹è±¡çš„æ˜ åƒã€‚ TaskRecordï¼ŒAMSæŠ½è±¡å‡ºæ¥çš„ä¸€ä¸ªâ€œä»»åŠ¡â€çš„æ¦‚å¿µï¼Œæ˜¯è®°å½•ActivityRecordçš„æ ˆï¼Œä¸€ä¸ªâ€œTaskâ€åŒ…å«è‹¥å¹²ä¸ªActivityRecordã€‚AMSç”¨TaskRecordç¡®ä¿Activityå¯åŠ¨å’Œé€€å‡ºçš„é¡ºåºã€‚å¦‚æžœä½ æ¸…æ¥šActivityçš„4ç§launchModeï¼Œé‚£ä¹ˆå¯¹è¿™ä¸ªæ¦‚å¿µåº”è¯¥ä¸é™Œç”Ÿã€‚ å›žç­”ä¸€äº›é—®é¢˜zygoteæ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ zygoteæ„ä¸ºâ€œå—ç²¾åµâ€œã€‚Androidæ˜¯åŸºäºŽLinuxç³»ç»Ÿçš„ï¼Œè€Œåœ¨Linuxä¸­ï¼Œæ‰€æœ‰çš„è¿›ç¨‹éƒ½æ˜¯ç”±initè¿›ç¨‹ç›´æŽ¥æˆ–è€…æ˜¯é—´æŽ¥forkå‡ºæ¥çš„ï¼Œzygoteè¿›ç¨‹ä¹Ÿä¸ä¾‹å¤–ã€‚ åœ¨Androidç³»ç»Ÿé‡Œé¢ï¼Œzygoteæ˜¯ä¸€ä¸ªè¿›ç¨‹çš„åå­—ã€‚Androidæ˜¯åŸºäºŽLinux Systemçš„ï¼Œå½“ä½ çš„æ‰‹æœºå¼€æœºçš„æ—¶å€™ï¼ŒLinuxçš„å†…æ ¸åŠ è½½å®Œæˆä¹‹åŽå°±ä¼šå¯åŠ¨ä¸€ä¸ªå«â€œinitâ€œçš„è¿›ç¨‹ã€‚åœ¨Linux Systemé‡Œé¢ï¼Œæ‰€æœ‰çš„è¿›ç¨‹éƒ½æ˜¯ç”±initè¿›ç¨‹forkå‡ºæ¥çš„ï¼Œæˆ‘ä»¬çš„zygoteè¿›ç¨‹ä¹Ÿä¸ä¾‹å¤–ã€‚ æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œæ¯ä¸€ä¸ªAppå…¶å®žéƒ½æ˜¯ ä¸€ä¸ªå•ç‹¬çš„dalvikè™šæ‹Ÿæœº ä¸€ä¸ªå•ç‹¬çš„è¿›ç¨‹ æ‰€ä»¥å½“ç³»ç»Ÿé‡Œé¢çš„ç¬¬ä¸€ä¸ªzygoteè¿›ç¨‹è¿è¡Œä¹‹åŽï¼Œåœ¨è¿™ä¹‹åŽå†å¼€å¯Appï¼Œå°±ç›¸å½“äºŽå¼€å¯ä¸€ä¸ªæ–°çš„è¿›ç¨‹ã€‚è€Œä¸ºäº†å®žçŽ°èµ„æºå…±ç”¨å’Œæ›´å¿«çš„å¯åŠ¨é€Ÿåº¦ï¼ŒAndroidç³»ç»Ÿå¼€å¯æ–°è¿›ç¨‹çš„æ–¹å¼ï¼Œæ˜¯é€šè¿‡forkç¬¬ä¸€ä¸ªzygoteè¿›ç¨‹å®žçŽ°çš„ã€‚æ‰€ä»¥è¯´ï¼Œé™¤äº†ç¬¬ä¸€ä¸ªzygoteè¿›ç¨‹ï¼Œå…¶ä»–åº”ç”¨æ‰€åœ¨çš„è¿›ç¨‹éƒ½æ˜¯zygoteçš„å­è¿›ç¨‹ï¼Œè¿™ä¸‹ä½ æ˜Žç™½ä¸ºä»€ä¹ˆè¿™ä¸ªè¿›ç¨‹å«â€œå—ç²¾åµâ€äº†å§ï¼Ÿå› ä¸ºå°±åƒæ˜¯ä¸€ä¸ªå—ç²¾åµä¸€æ ·ï¼Œå®ƒèƒ½å¿«é€Ÿçš„åˆ†è£‚ï¼Œå¹¶ä¸”äº§ç”Ÿé—ä¼ ç‰©è´¨ä¸€æ ·çš„ç»†èƒžï¼ SystemServeræ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿå®ƒä¸Žzygoteçš„å…³ç³»æ˜¯ä»€ä¹ˆï¼Ÿ é¦–å…ˆæˆ‘è¦å‘Šè¯‰ä½ çš„æ˜¯ï¼ŒSystemServerä¹Ÿæ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼Œè€Œä¸”æ˜¯ç”±zygoteè¿›ç¨‹forkå‡ºæ¥çš„ã€‚ çŸ¥é“äº†SystemServerçš„æœ¬è´¨ï¼Œæˆ‘ä»¬å¯¹å®ƒå°±ä¸ç®—å¤ªé™Œç”Ÿäº†ï¼Œè¿™ä¸ªè¿›ç¨‹æ˜¯Android Frameworké‡Œé¢ä¸¤å¤§éžå¸¸é‡è¦çš„è¿›ç¨‹ä¹‹ä¸€â€”â€”å¦å¤–ä¸€ä¸ªè¿›ç¨‹å°±æ˜¯ä¸Šé¢çš„zygoteè¿›ç¨‹ã€‚ ä¸ºä»€ä¹ˆè¯´SystemServeréžå¸¸é‡è¦å‘¢ï¼Ÿå› ä¸ºç³»ç»Ÿé‡Œé¢é‡è¦çš„æœåŠ¡éƒ½æ˜¯åœ¨è¿™ä¸ªè¿›ç¨‹é‡Œé¢å¼€å¯çš„ï¼Œæ¯”å¦‚ActivityManagerServiceã€PackageManagerServiceã€WindowManagerServiceç­‰ç­‰ï¼Œçœ‹ç€æ˜¯ä¸æ˜¯éƒ½æŒºçœ¼ç†Ÿçš„ï¼Ÿ é‚£ä¹ˆè¿™äº›ç³»ç»ŸæœåŠ¡æ˜¯æ€Žä¹ˆå¼€å¯èµ·æ¥çš„å‘¢ï¼Ÿ åœ¨zygoteå¼€å¯çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨ZygoteInit.main()è¿›è¡Œåˆå§‹åŒ– 12345678910111213141516171819202122232425262728public static void main(String argv[]) &#123; ...ignore some code... //åœ¨åŠ è½½é¦–ä¸ªzygoteçš„æ—¶å€™ï¼Œä¼šä¼ å…¥åˆå§‹åŒ–å‚æ•°ï¼Œä½¿å¾—startSystemServer = true boolean startSystemServer = false; for (int i = 1; i &lt; argv.length; i++) &#123; if ("start-system-server".equals(argv[i])) &#123; startSystemServer = true; &#125; else if (argv[i].startsWith(ABI_LIST_ARG)) &#123; abiList = argv[i].substring(ABI_LIST_ARG.length()); &#125; else if (argv[i].startsWith(SOCKET_NAME_ARG)) &#123; socketName = argv[i].substring(SOCKET_NAME_ARG.length()); &#125; else &#123; throw new RuntimeException("Unknown command line argument: " + argv[i]); &#125; &#125; ...ignore some code... //å¼€å§‹forkæˆ‘ä»¬çš„SystemServerè¿›ç¨‹ if (startSystemServer) &#123; startSystemServer(abiList, socketName); &#125; ...ignore some code...&#125; æˆ‘ä»¬çœ‹ä¸‹startSystemServer()åšäº†äº›ä»€ä¹ˆ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950/**ç•™ç€è¿™ä¸ªæ³¨é‡Šï¼Œå°±æ˜¯ä¸ºäº†è¯´æ˜ŽSystemServerç¡®å®žæ˜¯è¢«forkå‡ºæ¥çš„ * Prepare the arguments and fork for the system server process. */private static boolean startSystemServer(String abiList, String socketName) throws MethodAndArgsCaller, RuntimeException &#123; ...ignore some code... //ç•™ç€è¿™æ®µæ³¨é‡Šï¼Œå°±æ˜¯ä¸ºäº†è¯´æ˜Žä¸Šé¢ZygoteInit.main(String argv[])é‡Œé¢çš„argvå°±æ˜¯é€šè¿‡è¿™ç§æ–¹å¼ä¼ é€’è¿›æ¥çš„ /* Hardcoded command line to start the system server */ String args[] = &#123; "--setuid=1000", "--setgid=1000", "--setgroups=1001,1002,1003,1004,1005,1006,1007,1008,1009,1010,1018,1032,3001,3002,3003,3006,3007", "--capabilities=" + capabilities + "," + capabilities, "--runtime-init", "--nice-name=system_server", "com.android.server.SystemServer", &#125;; int pid; try &#123; parsedArgs = new ZygoteConnection.Arguments(args); ZygoteConnection.applyDebuggerSystemProperty(parsedArgs); ZygoteConnection.applyInvokeWithSystemProperty(parsedArgs); //ç¡®å®žæ˜¯fuckå‡ºæ¥çš„å§ï¼Œæˆ‘æ²¡éª—ä½ å§~ä¸å¯¹ï¼Œæ˜¯forkå‡ºæ¥çš„ -_-||| /* Request to fork the system server process */ pid = Zygote.forkSystemServer( parsedArgs.uid, parsedArgs.gid, parsedArgs.gids, parsedArgs.debugFlags, null, parsedArgs.permittedCapabilities, parsedArgs.effectiveCapabilities); &#125; catch (IllegalArgumentException ex) &#123; throw new RuntimeException(ex); &#125; /* For child process */ if (pid == 0) &#123; if (hasSecondZygote(abiList)) &#123; waitForSecondaryZygote(socketName); &#125; handleSystemServerProcess(parsedArgs); &#125; return true;&#125; ActivityManagerServiceæ˜¯ä»€ä¹ˆï¼Ÿä»€ä¹ˆæ—¶å€™åˆå§‹åŒ–çš„ï¼Ÿæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ ActivityManagerServiceï¼Œç®€ç§°AMSï¼ŒæœåŠ¡ç«¯å¯¹è±¡ï¼Œè´Ÿè´£ç³»ç»Ÿä¸­æ‰€æœ‰Activityçš„ç”Ÿå‘½å‘¨æœŸã€‚ ActivityManagerServiceè¿›è¡Œåˆå§‹åŒ–çš„æ—¶æœºå¾ˆæ˜Žç¡®ï¼Œå°±æ˜¯åœ¨SystemServerè¿›ç¨‹å¼€å¯çš„æ—¶å€™ï¼Œå°±ä¼šåˆå§‹åŒ–ActivityManagerServiceã€‚ä»Žä¸‹é¢çš„ä»£ç ä¸­å¯ä»¥çœ‹åˆ° 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576public final class SystemServer &#123; //zygoteçš„ä¸»å…¥å£ public static void main(String[] args) &#123; new SystemServer().run(); &#125; public SystemServer() &#123; // Check for factory test mode. mFactoryTestMode = FactoryTest.getMode(); &#125; private void run() &#123; ...ignore some code... //åŠ è½½æœ¬åœ°ç³»ç»ŸæœåŠ¡åº“ï¼Œå¹¶è¿›è¡Œåˆå§‹åŒ– System.loadLibrary("android_servers"); nativeInit(); // åˆ›å»ºç³»ç»Ÿä¸Šä¸‹æ–‡ createSystemContext(); //åˆå§‹åŒ–SystemServiceManagerå¯¹è±¡ï¼Œä¸‹é¢çš„ç³»ç»ŸæœåŠ¡å¼€å¯éƒ½éœ€è¦è°ƒç”¨SystemServiceManager.startService(Class&lt;T&gt;)ï¼Œè¿™ä¸ªæ–¹æ³•é€šè¿‡åå°„æ¥å¯åŠ¨å¯¹åº”çš„æœåŠ¡ mSystemServiceManager = new SystemServiceManager(mSystemContext); //å¼€å¯æœåŠ¡ try &#123; startBootstrapServices(); startCoreServices(); startOtherServices(); &#125; catch (Throwable ex) &#123; Slog.e("System", "******************************************"); Slog.e("System", "************ Failure starting system services", ex); throw ex; &#125; ...ignore some code... &#125; //åˆå§‹åŒ–ç³»ç»Ÿä¸Šä¸‹æ–‡å¯¹è±¡mSystemContextï¼Œå¹¶è®¾ç½®é»˜è®¤çš„ä¸»é¢˜,mSystemContextå®žé™…ä¸Šæ˜¯ä¸€ä¸ªContextImplå¯¹è±¡ã€‚è°ƒç”¨ActivityThread.systemMain()çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨ActivityThread.attach(true)ï¼Œè€Œåœ¨attach()é‡Œé¢ï¼Œåˆ™åˆ›å»ºäº†Applicationå¯¹è±¡ï¼Œå¹¶è°ƒç”¨äº†Application.onCreate()ã€‚ private void createSystemContext() &#123; ActivityThread activityThread = ActivityThread.systemMain(); mSystemContext = activityThread.getSystemContext(); mSystemContext.setTheme(android.R.style.Theme_DeviceDefault_Light_DarkActionBar); &#125; //åœ¨è¿™é‡Œå¼€å¯äº†å‡ ä¸ªæ ¸å¿ƒçš„æœåŠ¡ï¼Œå› ä¸ºè¿™äº›æœåŠ¡ä¹‹é—´ç›¸äº’ä¾èµ–ï¼Œæ‰€ä»¥éƒ½æ”¾åœ¨äº†è¿™ä¸ªæ–¹æ³•é‡Œé¢ã€‚ private void startBootstrapServices() &#123; ...ignore some code... //åˆå§‹åŒ–ActivityManagerService mActivityManagerService = mSystemServiceManager.startService( ActivityManagerService.Lifecycle.class).getService(); mActivityManagerService.setSystemServiceManager(mSystemServiceManager); //åˆå§‹åŒ–PowerManagerServiceï¼Œå› ä¸ºå…¶ä»–æœåŠ¡éœ€è¦ä¾èµ–è¿™ä¸ªServiceï¼Œå› æ­¤éœ€è¦å°½å¿«çš„åˆå§‹åŒ– mPowerManagerService = mSystemServiceManager.startService(PowerManagerService.class); // çŽ°åœ¨ç”µæºç®¡ç†å·²ç»å¼€å¯ï¼ŒActivityManagerServiceè´Ÿè´£ç”µæºç®¡ç†åŠŸèƒ½ mActivityManagerService.initPowerManagement(); // åˆå§‹åŒ–DisplayManagerService mDisplayManagerService = mSystemServiceManager.startService(DisplayManagerService.class); //åˆå§‹åŒ–PackageManagerService mPackageManagerService = PackageManagerService.main(mSystemContext, mInstaller, mFactoryTestMode != FactoryTest.FACTORY_TEST_OFF, mOnlyCore); ...ignore some code... &#125;&#125; ç»è¿‡ä¸Šé¢è¿™äº›æ­¥éª¤ï¼Œæˆ‘ä»¬çš„ActivityManagerServiceå¯¹è±¡å·²ç»åˆ›å»ºå¥½äº†ï¼Œå¹¶ä¸”å®Œæˆäº†æˆå‘˜å˜é‡åˆå§‹åŒ–ã€‚è€Œä¸”åœ¨è¿™ä¹‹å‰ï¼Œè°ƒç”¨createSystemContext()åˆ›å»ºç³»ç»Ÿä¸Šä¸‹æ–‡çš„æ—¶å€™ï¼Œä¹Ÿå·²ç»å®Œæˆäº†mSystemContextå’ŒActivityThreadçš„åˆ›å»ºã€‚æ³¨æ„ï¼Œè¿™æ˜¯ç³»ç»Ÿè¿›ç¨‹å¼€å¯æ—¶çš„æµç¨‹ï¼Œåœ¨è¿™ä¹‹åŽï¼Œä¼šå¼€å¯ç³»ç»Ÿçš„Launcherç¨‹åºï¼Œå®Œæˆç³»ç»Ÿç•Œé¢çš„åŠ è½½ä¸Žæ˜¾ç¤ºã€‚ ä½ æ˜¯å¦ä¼šå¥½å¥‡ï¼Œæˆ‘ä¸ºä»€ä¹ˆè¯´AMSæ˜¯æœåŠ¡ç«¯å¯¹è±¡ï¼Ÿä¸‹é¢æˆ‘ç»™ä½ ä»‹ç»ä¸‹Androidç³»ç»Ÿé‡Œé¢çš„æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯çš„æ¦‚å¿µã€‚ å…¶å®žæœåŠ¡å™¨å®¢æˆ·ç«¯çš„æ¦‚å¿µä¸ä»…ä»…å­˜åœ¨äºŽWebå¼€å‘ä¸­ï¼Œåœ¨Androidçš„æ¡†æž¶è®¾è®¡ä¸­ï¼Œä½¿ç”¨çš„ä¹Ÿæ˜¯è¿™ä¸€ç§æ¨¡å¼ã€‚æœåŠ¡å™¨ç«¯æŒ‡çš„å°±æ˜¯æ‰€æœ‰Appå…±ç”¨çš„ç³»ç»ŸæœåŠ¡ï¼Œæ¯”å¦‚æˆ‘ä»¬è¿™é‡Œæåˆ°çš„ActivityManagerServiceï¼Œå’Œå‰é¢æåˆ°çš„PackageManagerServiceã€WindowManagerServiceç­‰ç­‰ï¼Œè¿™äº›åŸºç¡€çš„ç³»ç»ŸæœåŠ¡æ˜¯è¢«æ‰€æœ‰çš„Appå…¬ç”¨çš„ï¼Œå½“æŸä¸ªAppæƒ³å®žçŽ°æŸä¸ªæ“ä½œçš„æ—¶å€™ï¼Œè¦å‘Šè¯‰è¿™äº›ç³»ç»ŸæœåŠ¡ï¼Œæ¯”å¦‚ä½ æƒ³æ‰“å¼€ä¸€ä¸ªAppï¼Œé‚£ä¹ˆæˆ‘ä»¬çŸ¥é“äº†åŒ…åå’ŒMainActivityç±»åä¹‹åŽå°±å¯ä»¥æ‰“å¼€ 12345Intent intent = new Intent(Intent.ACTION_MAIN); intent.addCategory(Intent.CATEGORY_LAUNCHER); ComponentName cn = new ComponentName(packageName, className); intent.setComponent(cn); startActivity(intent); ä½†æ˜¯ï¼Œæˆ‘ä»¬çš„Appé€šè¿‡è°ƒç”¨startActivity()å¹¶ä¸èƒ½ç›´æŽ¥æ‰“å¼€å¦å¤–ä¸€ä¸ªAppï¼Œè¿™ä¸ªæ–¹æ³•ä¼šé€šè¿‡ä¸€ç³»åˆ—çš„è°ƒç”¨ï¼Œæœ€åŽè¿˜æ˜¯å‘Šè¯‰AMSè¯´ï¼šâ€œæˆ‘è¦æ‰“å¼€è¿™ä¸ªAppï¼Œæˆ‘çŸ¥é“ä»–çš„ä½å€å’Œåå­—ï¼Œä½ å¸®æˆ‘æ‰“å¼€å§ï¼â€æ‰€ä»¥æ˜¯AMSæ¥é€šçŸ¥zygoteè¿›ç¨‹æ¥forkä¸€ä¸ªæ–°è¿›ç¨‹ï¼Œæ¥å¼€å¯æˆ‘ä»¬çš„ç›®æ ‡Appçš„ã€‚è¿™å°±åƒæ˜¯æµè§ˆå™¨æƒ³è¦æ‰“å¼€ä¸€ä¸ªè¶…é“¾æŽ¥ä¸€æ ·ï¼Œæµè§ˆå™¨æŠŠç½‘é¡µåœ°å€å‘é€ç»™æœåŠ¡å™¨ï¼Œç„¶åŽè¿˜æ˜¯æœåŠ¡å™¨æŠŠéœ€è¦çš„èµ„æºæ–‡ä»¶å‘é€ç»™å®¢æˆ·ç«¯çš„ã€‚ çŸ¥é“äº†Android Frameworkçš„å®¢æˆ·ç«¯æœåŠ¡å™¨æž¶æž„ä¹‹åŽï¼Œæˆ‘ä»¬è¿˜éœ€è¦äº†è§£ä¸€ä»¶äº‹æƒ…ï¼Œé‚£å°±æ˜¯æˆ‘ä»¬çš„Appå’ŒAMS(SystemServerè¿›ç¨‹)è¿˜æœ‰zygoteè¿›ç¨‹åˆ†å±žäºŽä¸‰ä¸ªç‹¬ç«‹çš„è¿›ç¨‹ï¼Œä»–ä»¬ä¹‹é—´å¦‚ä½•é€šä¿¡å‘¢ï¼Ÿ çŸ¥é“äº†Android Frameworkçš„å®¢æˆ·ç«¯æœåŠ¡å™¨æž¶æž„ä¹‹åŽï¼Œæˆ‘ä»¬è¿˜éœ€è¦äº†è§£ä¸€ä»¶äº‹æƒ…ï¼Œé‚£å°±æ˜¯æˆ‘ä»¬çš„Appå’ŒAMS(SystemServerè¿›ç¨‹)è¿˜æœ‰zygoteè¿›ç¨‹åˆ†å±žäºŽä¸‰ä¸ªç‹¬ç«‹çš„è¿›ç¨‹ï¼Œä»–ä»¬ä¹‹é—´å¦‚ä½•é€šä¿¡å‘¢ï¼Ÿ Appä¸ŽAMSé€šè¿‡Binderè¿›è¡ŒIPCé€šä¿¡ï¼ŒAMS(SystemServerè¿›ç¨‹)ä¸Žzygoteé€šè¿‡Socketè¿›è¡ŒIPCé€šä¿¡ã€‚ é‚£ä¹ˆAMSæœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿåœ¨å‰é¢æˆ‘ä»¬çŸ¥é“äº†ï¼Œå¦‚æžœæƒ³æ‰“å¼€ä¸€ä¸ªAppçš„è¯ï¼Œéœ€è¦AMSåŽ»é€šçŸ¥zygoteè¿›ç¨‹ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œå…¶å®žæ‰€æœ‰çš„Activityçš„å¼€å¯ã€æš‚åœã€å…³é—­éƒ½éœ€è¦AMSæ¥æŽ§åˆ¶ï¼Œæ‰€ä»¥æˆ‘ä»¬è¯´ï¼ŒAMSè´Ÿè´£ç³»ç»Ÿä¸­æ‰€æœ‰Activityçš„ç”Ÿå‘½å‘¨æœŸã€‚ åœ¨Androidç³»ç»Ÿä¸­ï¼Œä»»ä½•ä¸€ä¸ªActivityçš„å¯åŠ¨éƒ½æ˜¯ç”±AMSå’Œåº”ç”¨ç¨‹åºè¿›ç¨‹ï¼ˆä¸»è¦æ˜¯ActivityThreadï¼‰ç›¸äº’é…åˆæ¥å®Œæˆçš„ã€‚AMSæœåŠ¡ç»Ÿä¸€è°ƒåº¦ç³»ç»Ÿä¸­æ‰€æœ‰è¿›ç¨‹çš„Activityå¯åŠ¨ï¼Œè€Œæ¯ä¸ªActivityçš„å¯åŠ¨è¿‡ç¨‹åˆ™ç”±å…¶æ‰€å±žçš„è¿›ç¨‹å…·ä½“æ¥å®Œæˆã€‚ è¿™æ ·è¯´ä½ å¯èƒ½è¿˜æ˜¯è§‰å¾—æ¯”è¾ƒæŠ½è±¡ï¼Œæ²¡å…³ç³»ï¼Œä¸‹é¢æœ‰ä¸€éƒ¨åˆ†æ˜¯ä¸“é—¨æ¥ä»‹ç»AMSä¸ŽActivityThreadå¦‚ä½•ä¸€èµ·åˆä½œæŽ§åˆ¶Activityçš„ç”Ÿå‘½å‘¨æœŸçš„ã€‚ Launcheræ˜¯ä»€ä¹ˆï¼Ÿä»€ä¹ˆæ—¶å€™å¯åŠ¨çš„ï¼Ÿ å½“æˆ‘ä»¬ç‚¹å‡»æ‰‹æœºæ¡Œé¢ä¸Šçš„å›¾æ ‡çš„æ—¶å€™ï¼ŒAppå°±ç”±Launcherå¼€å§‹å¯åŠ¨äº†ã€‚ä½†æ˜¯ï¼Œä½ æœ‰æ²¡æœ‰æ€è€ƒè¿‡Launcheråˆ°åº•æ˜¯ä¸€ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Ÿ Launcheræœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œå’Œæˆ‘ä»¬çš„Appä¸€æ ·ï¼Œä¹Ÿæ˜¯ç»§æ‰¿è‡ªActivity packages/apps/Launcher2/src/com/android/launcher2/Launcher.java 1234public final class Launcher extends Activity implements View.OnClickListener, OnLongClickListener, LauncherModel.Callbacks, View.OnTouchListener &#123; &#125; Launcherå®žçŽ°äº†ç‚¹å‡»ã€é•¿æŒ‰ç­‰å›žè°ƒæŽ¥å£ï¼Œæ¥æŽ¥æ”¶ç”¨æˆ·çš„è¾“å…¥ã€‚æ—¢ç„¶æ˜¯æ™®é€šçš„Appï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„å¼€å‘ç»éªŒåœ¨è¿™é‡Œå°±ä»ç„¶é€‚ç”¨ï¼Œæ¯”å¦‚ï¼Œæˆ‘ä»¬ç‚¹å‡»å›¾æ ‡çš„æ—¶å€™ï¼Œæ˜¯æ€Žä¹ˆå¼€å¯çš„åº”ç”¨å‘¢ï¼Ÿå¦‚æžœè®©ä½ ï¼Œä½ æ€Žä¹ˆåšè¿™ä¸ªåŠŸèƒ½å‘¢ï¼Ÿæ•æ‰å›¾æ ‡ç‚¹å‡»äº‹ä»¶ï¼Œç„¶åŽstartActivity()å‘é€å¯¹åº”çš„Intentè¯·æ±‚å‘—ï¼æ˜¯çš„ï¼ŒLauncherä¹Ÿæ˜¯è¿™ä¹ˆåšçš„ï¼Œå°±æ˜¯è¿™ä¹ˆeasyï¼ é‚£ä¹ˆåˆ°åº•æ˜¯å¤„ç†çš„å“ªä¸ªå¯¹è±¡çš„ç‚¹å‡»äº‹ä»¶å‘¢ï¼Ÿæ—¢ç„¶Launcheræ˜¯Appï¼Œå¹¶ä¸”æœ‰ç•Œé¢ï¼Œé‚£ä¹ˆè‚¯å®šæœ‰å¸ƒå±€æ–‡ä»¶å‘€ï¼Œæ˜¯çš„ï¼Œæˆ‘æ‰¾åˆ°äº†å¸ƒå±€æ–‡ä»¶launcher.xml 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152&lt;FrameLayout xmlns:android="http://schemas.android.com/apk/res/android" xmlns:launcher="http://schemas.android.com/apk/res/com.android.launcher" android:id="@+id/launcher"&gt; &lt;com.android.launcher2.DragLayer android:id="@+id/drag_layer" android:layout_width="match_parent" android:layout_height="match_parent" android:fitsSystemWindows="true"&gt; &lt;!-- Keep these behind the workspace so that they are not visible when we go into AllApps --&gt; &lt;include android:id="@+id/dock_divider" layout="@layout/workspace_divider" android:layout_marginBottom="@dimen/button_bar_height" android:layout_gravity="bottom" /&gt; &lt;include android:id="@+id/paged_view_indicator" layout="@layout/scroll_indicator" android:layout_gravity="bottom" android:layout_marginBottom="@dimen/button_bar_height" /&gt; &lt;!-- The workspace contains 5 screens of cells --&gt; &lt;com.android.launcher2.Workspace android:id="@+id/workspace" android:layout_width="match_parent" android:layout_height="match_parent" android:paddingStart="@dimen/workspace_left_padding" android:paddingEnd="@dimen/workspace_right_padding" android:paddingTop="@dimen/workspace_top_padding" android:paddingBottom="@dimen/workspace_bottom_padding" launcher:defaultScreen="2" launcher:cellCountX="@integer/cell_count_x" launcher:cellCountY="@integer/cell_count_y" launcher:pageSpacing="@dimen/workspace_page_spacing" launcher:scrollIndicatorPaddingLeft="@dimen/workspace_divider_padding_left" launcher:scrollIndicatorPaddingRight="@dimen/workspace_divider_padding_right"&gt; &lt;include android:id="@+id/cell1" layout="@layout/workspace_screen" /&gt; &lt;include android:id="@+id/cell2" layout="@layout/workspace_screen" /&gt; &lt;include android:id="@+id/cell3" layout="@layout/workspace_screen" /&gt; &lt;include android:id="@+id/cell4" layout="@layout/workspace_screen" /&gt; &lt;include android:id="@+id/cell5" layout="@layout/workspace_screen" /&gt; &lt;/com.android.launcher2.Workspace&gt; ...ignore some code... &lt;/com.android.launcher2.DragLayer&gt;&lt;/FrameLayout&gt; ä¸ºäº†æ–¹ä¾¿æŸ¥çœ‹ï¼Œæˆ‘åˆ é™¤äº†å¾ˆå¤šä»£ç ï¼Œä»Žä¸Šé¢è¿™äº›æˆ‘ä»¬åº”è¯¥å¯ä»¥çœ‹å‡ºä¸€äº›ä¸œè¥¿æ¥ï¼šLauncherå¤§é‡ä½¿ç”¨æ ‡ç­¾æ¥å®žçŽ°ç•Œé¢çš„å¤ç”¨ï¼Œè€Œä¸”å®šä¹‰äº†å¾ˆå¤šçš„è‡ªå®šä¹‰æŽ§ä»¶å®žçŽ°ç•Œé¢æ•ˆæžœï¼Œdock_dividerä»Žå¸ƒå±€çš„å‚æ•°å£°æ˜Žä¸Šå¯ä»¥çŒœå‡ºï¼Œæ˜¯åº•éƒ¨æ“ä½œæ å’Œä¸Šé¢å›¾æ ‡å¸ƒå±€çš„åˆ†å‰²çº¿ï¼Œè€Œpaged_view_indicatoråˆ™æ˜¯é¡µé¢æŒ‡ç¤ºå™¨ï¼Œå’ŒAppé¦–æ¬¡è¿›å…¥çš„å¼•å¯¼é¡µä¸‹é¢çš„ç•Œé¢å¼•å¯¼æ˜¯ä¸€æ ·çš„é“ç†ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬æœ€å…³å¿ƒçš„æ˜¯Workspaceè¿™ä¸ªå¸ƒå±€ï¼Œå› ä¸ºæ³¨é‡Šé‡Œé¢è¯´åœ¨è¿™é‡Œé¢åŒ…å«äº†5ä¸ªå±å¹•çš„å•å…ƒæ ¼ï¼Œæƒ³å¿…ä½ ä¹ŸçŒœåˆ°äº†ï¼Œè¿™ä¸ªå°±æ˜¯åœ¨é¦–é¡µå­˜æ”¾æˆ‘ä»¬å›¾æ ‡çš„é‚£äº”ä¸ªç•Œé¢(ä¸åŒçš„ROMä¼šåšä¸åŒçš„DIYï¼Œæ•°é‡ä¸å›ºå®š)ã€‚ æŽ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åº”è¯¥æ‰“å¼€workspace_screenå¸ƒå±€ï¼Œçœ‹çœ‹é‡Œé¢æœ‰ä»€ä¹ˆä¸œä¸œã€‚ workspace_screen.xml 123456789101112131415&lt;com.android.launcher2.CellLayout xmlns:android="http://schemas.android.com/apk/res/android" xmlns:launcher="http://schemas.android.com/apk/res/com.android.launcher" android:layout_width="wrap_content" android:layout_height="wrap_content" android:paddingStart="@dimen/cell_layout_left_padding" android:paddingEnd="@dimen/cell_layout_right_padding" android:paddingTop="@dimen/cell_layout_top_padding" android:paddingBottom="@dimen/cell_layout_bottom_padding" android:hapticFeedbackEnabled="false" launcher:cellWidth="@dimen/workspace_cell_width" launcher:cellHeight="@dimen/workspace_cell_height" launcher:widthGap="@dimen/workspace_width_gap" launcher:heightGap="@dimen/workspace_height_gap" launcher:maxGap="@dimen/workspace_max_gap" /&gt; é‡Œé¢å°±ä¸€ä¸ªCellLayoutï¼Œä¹Ÿæ˜¯ä¸€ä¸ªè‡ªå®šä¹‰å¸ƒå±€ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥çŒœåˆ°äº†ï¼Œæ—¢ç„¶å¯ä»¥å­˜æ”¾å›¾æ ‡ï¼Œé‚£ä¹ˆè¿™ä¸ªè‡ªå®šä¹‰çš„å¸ƒå±€å¾ˆæœ‰å¯èƒ½æ˜¯ç»§æ‰¿è‡ªViewGroupæˆ–è€…æ˜¯å…¶å­ç±»ï¼Œå®žé™…ä¸Šï¼ŒCellLayoutç¡®å®žæ˜¯ç»§æ‰¿è‡ªViewGroupã€‚åœ¨CellLayouté‡Œé¢ï¼Œåªæ”¾äº†ä¸€ä¸ªå­Viewï¼Œé‚£å°±æ˜¯ShortcutAndWidgetContainerã€‚ä»Žåå­—ä¹Ÿå¯ä»¥çœ‹å‡ºæ¥ï¼ŒShortcutAndWidgetContainerè¿™ä¸ªç±»å°±æ˜¯ç”¨æ¥å­˜æ”¾å¿«æ·å›¾æ ‡å’ŒWidgetå°éƒ¨ä»¶çš„ï¼Œé‚£ä¹ˆé‡Œé¢æ”¾çš„æ˜¯ä»€ä¹ˆå¯¹è±¡å‘¢ï¼Ÿ åœ¨æ¡Œé¢ä¸Šçš„å›¾æ ‡ï¼Œä½¿ç”¨çš„æ˜¯BubbleTextViewå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åœ¨TextViewçš„åŸºç¡€ä¹‹ä¸Šï¼Œæ·»åŠ äº†ä¸€äº›ç‰¹æ•ˆï¼Œæ¯”å¦‚ä½ é•¿æŒ‰ç§»åŠ¨å›¾æ ‡çš„æ—¶å€™ï¼Œå›¾æ ‡ä½ç½®ä¼šå‡ºçŽ°ä¸€ä¸ªèƒŒæ™¯(ä¸åŒç‰ˆæœ¬çš„æ•ˆæžœä¸åŒ)ï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰¾åˆ°BubbleTextViewå¯¹è±¡çš„ç‚¹å‡»äº‹ä»¶ï¼Œå°±å¯ä»¥æ‰¾åˆ°Launcherå¦‚ä½•å¼€å¯ä¸€ä¸ªAppäº†ã€‚ é™¤äº†åœ¨æ¡Œé¢ä¸Šæœ‰å›¾æ ‡ä¹‹å¤–ï¼Œåœ¨ç¨‹åºåˆ—è¡¨ä¸­ç‚¹å‡»å›¾æ ‡ï¼Œä¹Ÿå¯ä»¥å¼€å¯å¯¹åº”çš„ç¨‹åºã€‚è¿™é‡Œçš„å›¾æ ‡ä½¿ç”¨çš„ä¸æ˜¯BubbleTextViewå¯¹è±¡ï¼Œè€Œæ˜¯PagedViewIconå¯¹è±¡ï¼Œæˆ‘ä»¬å¦‚æžœæ‰¾åˆ°å®ƒçš„ç‚¹å‡»äº‹ä»¶ï¼Œå°±ä¹Ÿå¯ä»¥æ‰¾åˆ°Launcherå¦‚ä½•å¼€å¯ä¸€ä¸ªAppã€‚ å…¶å®žè¯´è¿™ä¹ˆå¤šï¼Œå’Œä»Šå¤©çš„ä¸»é¢˜éš”ç€åä¸‡å…«åƒé‡Œï¼Œä¸Šé¢è¿™äº›ä¸œè¥¿ï¼Œä½ æœ‰å…´è¶£å°±çœ‹ï¼Œæ²¡å…´è¶£å°±ç›´æŽ¥è·³è¿‡ï¼Œä¸çŸ¥é“ä¸å½±å“è¿™ç¯‡æ–‡ç« é˜…è¯»ã€‚ BubbleTextViewçš„ç‚¹å‡»äº‹ä»¶åœ¨å“ªé‡Œå‘¢ï¼Ÿæˆ‘æ¥å‘Šè¯‰ä½ ï¼šåœ¨Launcher.onClick(View v)é‡Œé¢ã€‚ 1234567891011121314151617181920212223242526272829303132/** * Launches the intent referred by the clicked shortcut */ public void onClick(View v) &#123; ...ignore some code... Object tag = v.getTag(); if (tag instanceof ShortcutInfo) &#123; // Open shortcut final Intent intent = ((ShortcutInfo) tag).intent; int[] pos = new int[2]; v.getLocationOnScreen(pos); intent.setSourceBounds(new Rect(pos[0], pos[1], pos[0] + v.getWidth(), pos[1] + v.getHeight())); //å¼€å§‹å¼€å¯Activityå’¯~ boolean success = startActivitySafely(v, intent, tag); if (success &amp;&amp; v instanceof BubbleTextView) &#123; mWaitingForResume = (BubbleTextView) v; mWaitingForResume.setStayPressed(true); &#125; &#125; else if (tag instanceof FolderInfo) &#123; //å¦‚æžœç‚¹å‡»çš„æ˜¯å›¾æ ‡æ–‡ä»¶å¤¹ï¼Œå°±æ‰“å¼€æ–‡ä»¶å¤¹ if (v instanceof FolderIcon) &#123; FolderIcon fi = (FolderIcon) v; handleFolderClick(fi); &#125; &#125; else if (v == mAllAppsButton) &#123; ...ignore some code... &#125; &#125; ä»Žä¸Šé¢çš„ä»£ç æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨æ¡Œé¢ä¸Šç‚¹å‡»å¿«æ·å›¾æ ‡çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨ 1startActivitySafely(v, intent, tag); é‚£ä¹ˆä»Žç¨‹åºåˆ—è¡¨ç•Œé¢ï¼Œç‚¹å‡»å›¾æ ‡çš„æ—¶å€™ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿå®žé™…ä¸Šï¼Œç¨‹åºåˆ—è¡¨ç•Œé¢ä½¿ç”¨çš„æ˜¯AppsCustomizePagedViewå¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘åœ¨è¿™ä¸ªç±»é‡Œé¢æ‰¾åˆ°äº†onClick(View v)ã€‚ com.android.launcher2.AppsCustomizePagedView.java 123456789101112131415161718192021/** * The Apps/Customize page that displays all the applications, widgets, and shortcuts. */public class AppsCustomizePagedView extends PagedViewWithDraggableItems implements View.OnClickListener, View.OnKeyListener, DragSource, PagedViewIcon.PressedCallback, PagedViewWidget.ShortPressListener, LauncherTransitionable &#123; @Override public void onClick(View v) &#123; ...ignore some code... if (v instanceof PagedViewIcon) &#123; mLauncher.updateWallpaperVisibility(true); mLauncher.startActivitySafely(v, appInfo.intent, appInfo); &#125; else if (v instanceof PagedViewWidget) &#123; ...ignore some code.. &#125; &#125; &#125; å¯ä»¥çœ‹åˆ°ï¼Œè°ƒç”¨çš„æ˜¯ 1mLauncher.startActivitySafely(v, appInfo.intent, appInfo); æ®Šé€”åŒå½’ ä¸ç®¡ä»Žå“ªé‡Œç‚¹å‡»å›¾æ ‡ï¼Œè°ƒç”¨çš„éƒ½æ˜¯Launcher.startActivitySafely()ã€‚ ä¸‹é¢æˆ‘ä»¬å°±å¯ä»¥ä¸€æ­¥æ­¥çš„æ¥çœ‹ä¸€ä¸‹Launcher.startActivitySafely()åˆ°åº•åšäº†ä»€ä¹ˆäº‹æƒ…ã€‚ 12345678910boolean startActivitySafely(View v, Intent intent, Object tag) &#123; boolean success = false; try &#123; success = startActivity(v, intent, tag); &#125; catch (ActivityNotFoundException e) &#123; Toast.makeText(this, R.string.activity_not_found, Toast.LENGTH_SHORT).show(); Log.e(TAG, "Unable to launch. tag=" + tag + " intent=" + intent, e); &#125; return success; &#125; è°ƒç”¨äº†startActivity(v, intent, tag) 1234567891011121314151617181920212223242526272829boolean startActivity(View v, Intent intent, Object tag) &#123; intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK); try &#123; boolean useLaunchAnimation = (v != null) &amp;&amp; !intent.hasExtra(INTENT_EXTRA_IGNORE_LAUNCH_ANIMATION); if (useLaunchAnimation) &#123; if (user == null || user.equals(android.os.Process.myUserHandle())) &#123; startActivity(intent, opts.toBundle()); &#125; else &#123; launcherApps.startMainActivity(intent.getComponent(), user, intent.getSourceBounds(), opts.toBundle()); &#125; &#125; else &#123; if (user == null || user.equals(android.os.Process.myUserHandle())) &#123; startActivity(intent); &#125; else &#123; launcherApps.startMainActivity(intent.getComponent(), user, intent.getSourceBounds(), null); &#125; &#125; return true; &#125; catch (SecurityException e) &#123; ... &#125; return false; &#125; è¿™é‡Œä¼šè°ƒç”¨Activity.startActivity(intent, opts.toBundle())ï¼Œè¿™ä¸ªæ–¹æ³•ç†Ÿæ‚‰å—ï¼Ÿè¿™å°±æ˜¯æˆ‘ä»¬ç»å¸¸ç”¨åˆ°çš„Activity.startActivity(Intent)çš„é‡è½½å‡½æ•°ã€‚è€Œä¸”ç”±äºŽè®¾ç½®äº† 1intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK); æ‰€ä»¥è¿™ä¸ªActivityä¼šæ·»åŠ åˆ°ä¸€ä¸ªæ–°çš„Taskæ ˆä¸­ï¼Œè€Œä¸”ï¼ŒstartActivity()è°ƒç”¨çš„å…¶å®žæ˜¯startActivityForResult()è¿™ä¸ªæ–¹æ³•ã€‚ 12345678910@Override public void startActivity(Intent intent, @Nullable Bundle options) &#123; if (options != null) &#123; startActivityForResult(intent, -1, options); &#125; else &#123; // Note we want to go through this call for compatibility with // applications that may have overridden the method. startActivityForResult(intent, -1); &#125; &#125; æ‰€ä»¥æˆ‘ä»¬çŽ°åœ¨æ˜Žç¡®äº†ï¼ŒLauncherä¸­å¼€å¯ä¸€ä¸ªAppï¼Œå…¶å®žå’Œæˆ‘ä»¬åœ¨Activityä¸­ç›´æŽ¥startActivity()åŸºæœ¬ä¸€æ ·ï¼Œéƒ½æ˜¯è°ƒç”¨äº†Activity.startActivityForResult()ã€‚ Instrumentationæ˜¯ä»€ä¹ˆï¼Ÿå’ŒActivityThreadæ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿ è¿˜è®°å¾—å‰é¢è¯´è¿‡çš„Instrumentationå¯¹è±¡å—ï¼Ÿæ¯ä¸ªActivityéƒ½æŒæœ‰Instrumentationå¯¹è±¡çš„ä¸€ä¸ªå¼•ç”¨ï¼Œä½†æ˜¯æ•´ä¸ªè¿›ç¨‹åªä¼šå­˜åœ¨ä¸€ä¸ªInstrumentationå¯¹è±¡ã€‚å½“startActivityForResult()è°ƒç”¨ä¹‹åŽï¼Œå®žé™…ä¸Šè¿˜æ˜¯è°ƒç”¨äº†mInstrumentation.execStartActivity() 12345678910111213141516171819202122public void startActivityForResult(Intent intent, int requestCode, @Nullable Bundle options) &#123; if (mParent == null) &#123; Instrumentation.ActivityResult ar = mInstrumentation.execStartActivity( this, mMainThread.getApplicationThread(), mToken, this, intent, requestCode, options); if (ar != null) &#123; mMainThread.sendActivityResult( mToken, mEmbeddedID, requestCode, ar.getResultCode(), ar.getResultData()); &#125; ...ignore some code... &#125; else &#123; if (options != null) &#123; //å½“çŽ°åœ¨çš„Activityæœ‰çˆ¶Activityçš„æ—¶å€™ä¼šè°ƒç”¨ï¼Œä½†æ˜¯åœ¨startActivityFromChild()å†…éƒ¨å®žé™…è¿˜æ˜¯è°ƒç”¨çš„mInstrumentation.execStartActivity() mParent.startActivityFromChild(this, intent, requestCode, options); &#125; else &#123; mParent.startActivityFromChild(this, intent, requestCode); &#125; &#125; ...ignore some code... &#125; ä¸‹é¢æ˜¯mInstrumentation.execStartActivity()çš„å®žçŽ° 123456789101112131415161718public ActivityResult execStartActivity( Context who, IBinder contextThread, IBinder token, Activity target, Intent intent, int requestCode, Bundle options) &#123; IApplicationThread whoThread = (IApplicationThread) contextThread; ...ignore some code... try &#123; intent.migrateExtraStreamToClipData(); intent.prepareToLeaveProcess(); int result = ActivityManagerNative.getDefault() .startActivity(whoThread, who.getBasePackageName(), intent, intent.resolveTypeIfNeeded(who.getContentResolver()), token, target != null ? target.mEmbeddedID : null, requestCode, 0, null, options); checkStartActivityResult(result, intent); &#125; catch (RemoteException e) &#123; &#125; return null; &#125; æ‰€ä»¥å½“æˆ‘ä»¬åœ¨ç¨‹åºä¸­è°ƒç”¨startActivity()çš„ æ—¶å€™ï¼Œå®žé™…ä¸Šè°ƒç”¨çš„æ˜¯Instrumentationçš„ç›¸å…³çš„æ–¹æ³•ã€‚ Instrumentationæ„ä¸ºâ€œä»ªå™¨â€ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹è¿™ä¸ªç±»é‡Œé¢åŒ…å«å“ªäº›æ–¹æ³•å§ æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªç±»é‡Œé¢çš„æ–¹æ³•å¤§å¤šæ•°å’ŒApplicationå’ŒActivityæœ‰å…³ï¼Œæ˜¯çš„ï¼Œè¿™ä¸ªç±»å°±æ˜¯å®Œæˆå¯¹Applicationå’ŒActivityåˆå§‹åŒ–å’Œç”Ÿå‘½å‘¨æœŸçš„å·¥å…·ç±»ã€‚æ¯”å¦‚è¯´ï¼Œæˆ‘å•ç‹¬æŒ‘ä¸€ä¸ªcallActivityOnCreate()è®©ä½ çœ‹çœ‹ 12345public void callActivityOnCreate(Activity activity, Bundle icicle) &#123; prePerformCreate(activity); activity.performCreate(icicle); postPerformCreate(activity); &#125; å¯¹activity.performCreate(icicle);è¿™ä¸€è¡Œä»£ç ç†Ÿæ‚‰å—ï¼Ÿè¿™ä¸€è¡Œé‡Œé¢å°±è°ƒç”¨äº†ä¼ è¯´ä¸­çš„Activityçš„å…¥å£å‡½æ•°onCreate()ï¼Œä¸ä¿¡ï¼ŸæŽ¥ç€å¾€ä¸‹çœ‹ Activity.performCreate() 12345final void performCreate(Bundle icicle) &#123; onCreate(icicle); mActivityTransitionState.readState(icicle); performCreateCommon(); &#125; æ²¡éª—ä½ å§ï¼ŒonCreateåœ¨è¿™é‡Œè°ƒç”¨äº†å§ã€‚ä½†æ˜¯æœ‰ä¸€ä»¶äº‹æƒ…å¿…é¡»è¯´æ¸…æ¥šï¼Œé‚£å°±æ˜¯è¿™ä¸ªInstrumentationç±»è¿™ä¹ˆé‡è¦ï¼Œä¸ºå•¥æˆ‘åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œæ²¡æœ‰å‘çŽ°ä»–çš„è¸ªè¿¹å‘¢ï¼Ÿ æ˜¯çš„ï¼ŒInstrumentationè¿™ä¸ªç±»å¾ˆé‡è¦ï¼Œå¯¹Activityç”Ÿå‘½å‘¨æœŸæ–¹æ³•çš„è°ƒç”¨æ ¹æœ¬å°±ç¦»ä¸å¼€ä»–ï¼Œä»–å¯ä»¥è¯´æ˜¯ä¸€ä¸ªå¤§ç®¡å®¶ï¼Œä½†æ˜¯ï¼Œè¿™ä¸ªå¤§ç®¡å®¶æ¯”è¾ƒå®³ç¾žï¼Œæ˜¯ä¸€ä¸ªå¥³çš„ï¼Œç®¡å†…ä¸ç®¡å¤–ï¼Œæ˜¯è€æ¿å¨˜~ é‚£ä¹ˆä½ å¯èƒ½è¦é—®äº†ï¼Œè€æ¿æ˜¯è°å‘€ï¼Ÿè€æ¿å½“ç„¶æ˜¯å¤§åé¼Žé¼Žçš„ActivityThreadäº†ï¼ ActivityThreadä½ éƒ½æ²¡å¬è¯´è¿‡ï¼Ÿé‚£ä½ è‚¯å®šå¬è¯´è¿‡ä¼ è¯´ä¸­çš„UIçº¿ç¨‹å§ï¼Ÿæ˜¯çš„ï¼Œè¿™å°±æ˜¯UIçº¿ç¨‹ã€‚æˆ‘ä»¬å‰é¢è¯´è¿‡ï¼ŒAppå’ŒAMSæ˜¯é€šè¿‡Binderä¼ é€’ä¿¡æ¯çš„ï¼Œé‚£ä¹ˆActivityThreadå°±æ˜¯ä¸“é—¨ä¸ŽAMSçš„å¤–äº¤å·¥ä½œçš„ã€‚ AMSè¯´ï¼šâ€œActivityThreadï¼Œä½ ç»™æˆ‘æš‚åœä¸€ä¸ªActivityï¼â€ActivityThreadå°±è¯´ï¼šâ€œæ²¡é—®é¢˜ï¼â€ç„¶åŽè½¬èº«å’ŒInstrumentationè¯´ï¼šâ€œè€å©†ï¼ŒAMSè®©æš‚åœä¸€ä¸ªActivityï¼Œæˆ‘è¿™é‡Œå¿™ç€å‘¢ï¼Œä½ å¿«åŽ»å¸®æˆ‘æŠŠè¿™äº‹åŠžäº†æŠŠ~â€äºŽæ˜¯ï¼ŒInstrumentationå°±åŽ»æŠŠäº‹å„¿æžå®šäº†ã€‚ æ‰€ä»¥è¯´ï¼ŒAMSæ˜¯è‘£äº‹ä¼šï¼Œè´Ÿè´£æŒ‡æŒ¥å’Œè°ƒåº¦çš„ï¼ŒActivityThreadæ˜¯è€æ¿ï¼Œè™½ç„¶è¯´å®¶é‡Œçš„äº‹è‡ªå·±è¯´äº†ç®—ï¼Œä½†æ˜¯éœ€è¦å¬ä»ŽAMSçš„æŒ‡æŒ¥ï¼Œè€ŒInstrumentationåˆ™æ˜¯è€æ¿å¨˜ï¼Œè´Ÿè´£å®¶é‡Œçš„å¤§äº‹å°äº‹ï¼Œä½†æ˜¯ä¸€èˆ¬ä¸æŠ›å¤´éœ²é¢ï¼Œå¬ä¸€å®¶ä¹‹ä¸»ActivityThreadçš„å®‰æŽ’ã€‚ å¦‚ä½•ç†è§£AMSå’ŒActivityThreadä¹‹é—´çš„Binderé€šä¿¡ï¼Ÿ å‰é¢æˆ‘ä»¬è¯´åˆ°ï¼Œåœ¨è°ƒç”¨startActivity()çš„æ—¶å€™ï¼Œå®žé™…ä¸Šè°ƒç”¨çš„æ˜¯ 1mInstrumentation.execStartActivity() ä½†æ˜¯åˆ°è¿™é‡Œè¿˜æ²¡å®Œå‘¢ï¼é‡Œé¢åˆè°ƒç”¨äº†ä¸‹é¢çš„æ–¹æ³• 12ActivityManagerNative.getDefault() .startActivity]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Androidå…³äºŽOOMçš„è§£å†³æ–¹æ¡ˆ]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FAndroid%2FAndroid%E5%85%B3%E4%BA%8Eoom%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%2F</url>
    <content type="text"><![CDATA[Androidå…³äºŽOOMçš„è§£å†³æ–¹æ¡ˆOOM å†…å­˜æº¢å‡ºï¼ˆOut Of Memoryï¼‰ ä¹Ÿå°±æ˜¯è¯´å†…å­˜å æœ‰é‡è¶…è¿‡äº†VMæ‰€åˆ†é…çš„æœ€å¤§ å‡ºçŽ°OOMçš„åŽŸå›  åŠ è½½å¯¹è±¡è¿‡å¤§ ç›¸åº”èµ„æºè¿‡å¤šï¼Œæ¥ä¸åŠé‡Šæ”¾ å¦‚ä½•è§£å†³ åœ¨å†…å­˜å¼•ç”¨ä¸Šåšäº›å¤„ç†ï¼Œå¸¸ç”¨çš„æœ‰è½¯å¼•ç”¨ã€å¼ºåŒ–å¼•ç”¨ã€å¼±å¼•ç”¨ åœ¨å†…å­˜ä¸­åŠ è½½å›¾ç‰‡æ—¶ç›´æŽ¥åœ¨å†…å­˜ä¸­ä½œå¤„ç†ï¼Œå¦‚è¾¹ç•ŒåŽ‹ç¼© åŠ¨æ€å›žæ”¶å†…å­˜ ä¼˜åŒ–Dalvikè™šæ‹Ÿæœºçš„å †å†…å­˜åˆ†é… è‡ªå®šä¹‰å †å†…å­˜å¤§å°]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Androidå›¾ç‰‡ä¸­çš„ä¸‰çº§ç¼“å­˜]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FAndroid%2FAndroid%E5%9B%BE%E7%89%87%E4%B8%AD%E7%9A%84%E4%B8%89%E7%BA%A7%E7%BC%93%E5%AD%98%2F</url>
    <content type="text"><![CDATA[Androidå›¾ç‰‡ä¸­çš„ä¸‰çº§ç¼“å­˜ ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ä¸‰çº§ç¼“å­˜ å¦‚ä»Šçš„ Android App ç»å¸¸ä¼šéœ€è¦ç½‘ç»œäº¤äº’ï¼Œé€šè¿‡ç½‘ç»œèŽ·å–å›¾ç‰‡æ˜¯å†æ­£å¸¸ä¸è¿‡çš„äº‹äº† å‡å¦‚æ¯æ¬¡å¯åŠ¨çš„æ—¶å€™éƒ½ä»Žç½‘ç»œæ‹‰å–å›¾ç‰‡çš„è¯ï¼ŒåŠ¿å¿…ä¼šæ¶ˆè€—å¾ˆå¤šæµé‡ã€‚åœ¨å½“å‰çš„çŠ¶å†µä¸‹ï¼Œå¯¹äºŽéžwifiç”¨æˆ·æ¥è¯´ï¼Œæµé‡è¿˜æ˜¯å¾ˆè´µçš„ï¼Œä¸€ä¸ªå¾ˆè€—æµé‡çš„åº”ç”¨ï¼Œå…¶ç”¨æˆ·æ•°é‡çº§è‚¯å®šè¦å—åˆ°å½±å“ ç‰¹åˆ«æ˜¯ï¼Œå½“æˆ‘ä»¬æƒ³è¦é‡å¤æµè§ˆä¸€äº›å›¾ç‰‡æ—¶ï¼Œå¦‚æžœæ¯ä¸€æ¬¡æµè§ˆéƒ½éœ€è¦é€šè¿‡ç½‘ç»œèŽ·å–ï¼Œæµé‡çš„æµªè´¹å¯æƒ³è€ŒçŸ¥ æ‰€ä»¥æå‡ºä¸‰çº§ç¼“å­˜ç­–ç•¥ï¼Œé€šè¿‡ç½‘ç»œã€æœ¬åœ°ã€å†…å­˜ä¸‰çº§ç¼“å­˜å›¾ç‰‡ï¼Œæ¥å‡å°‘ä¸å¿…è¦çš„ç½‘ç»œäº¤äº’ï¼Œé¿å…æµªè´¹æµé‡ ä»€ä¹ˆæ˜¯ä¸‰çº§ç¼“å­˜ ç½‘ç»œåŠ è½½ï¼Œä¸ä¼˜å…ˆåŠ è½½ï¼Œé€Ÿåº¦æ…¢ï¼Œæµªè´¹æµé‡ æœ¬åœ°ç¼“å­˜ï¼Œæ¬¡ä¼˜å…ˆåŠ è½½ï¼Œé€Ÿåº¦å¿« å†…å­˜ç¼“å­˜ï¼Œä¼˜å…ˆåŠ è½½ï¼Œé€Ÿåº¦æœ€å¿« ä¸‰çº§ç¼“å­˜åŽŸç† é¦–æ¬¡åŠ è½½ Android App æ—¶ï¼Œè‚¯å®šè¦é€šè¿‡ç½‘ç»œäº¤äº’æ¥èŽ·å–å›¾ç‰‡ï¼Œä¹‹åŽæˆ‘ä»¬å¯ä»¥å°†å›¾ç‰‡ä¿å­˜è‡³æœ¬åœ°SDå¡å’Œå†…å­˜ä¸­ ä¹‹åŽè¿è¡Œ App æ—¶ï¼Œä¼˜å…ˆè®¿é—®å†…å­˜ä¸­çš„å›¾ç‰‡ç¼“å­˜ï¼Œè‹¥å†…å­˜ä¸­æ²¡æœ‰ï¼Œåˆ™åŠ è½½æœ¬åœ°SDå¡ä¸­çš„å›¾ç‰‡ æ€»ä¹‹ï¼Œåªåœ¨åˆæ¬¡è®¿é—®æ–°å†…å®¹æ—¶ï¼Œæ‰é€šè¿‡ç½‘ç»œèŽ·å–å›¾ç‰‡èµ„æº å‚è€ƒé“¾æŽ¥ http://www.jianshu.com/p/2cd59a79ed4a]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Androidå¼€æœºè¿‡ç¨‹]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FAndroid%2FAndroid%E5%BC%80%E6%9C%BA%E8%BF%87%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[Androidå¼€æœºè¿‡ç¨‹ BootLoderå¼•å¯¼,ç„¶åŽåŠ è½½Linuxå†…æ ¸. 0å·è¿›ç¨‹initå¯åŠ¨.åŠ è½½init.rcé…ç½®æ–‡ä»¶,é…ç½®æ–‡ä»¶æœ‰ä¸ªå‘½ä»¤å¯åŠ¨äº†zygoteè¿›ç¨‹ zygoteå¼€å§‹forkå‡ºSystemServerè¿›ç¨‹ SystemServeråŠ è½½å„ç§JNIåº“,ç„¶åŽinit1,init2æ–¹æ³•,init2æ–¹æ³•ä¸­å¼€å¯äº†æ–°çº¿ç¨‹ServerThread. åœ¨SystemServerä¸­ä¼šåˆ›å»ºä¸€ä¸ªsocketå®¢æˆ·ç«¯ï¼ŒåŽç»­AMSï¼ˆActivityManagerServiceï¼‰ä¼šé€šè¿‡æ­¤å®¢æˆ·ç«¯å’Œzygoteé€šä¿¡ ServerThreadçš„runæ–¹æ³•ä¸­å¼€å¯äº†AMS,è¿˜å­µåŒ–æ–°è¿›ç¨‹ServiceManager,åŠ è½½æ³¨å†Œäº†ä¸€æºœçš„æœåŠ¡,æœ€åŽä¸€å¥è¯è¿›å…¥loop æ­»å¾ªçŽ¯ runæ–¹æ³•çš„SystemReadyè°ƒç”¨resumeTopActivityLockedæ‰“å¼€é”å±ç•Œé¢]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Androidæ€§èƒ½ä¼˜åŒ–]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FAndroid%2FAndroid%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%2F</url>
    <content type="text"><![CDATA[Androidæ€§èƒ½ä¼˜åŒ– åˆç†ç®¡ç†å†…å­˜ èŠ‚åˆ¶çš„ä½¿ç”¨Serviceå¦‚æžœåº”ç”¨ç¨‹åºéœ€è¦ä½¿ç”¨Serviceæ¥æ‰§è¡ŒåŽå°ä»»åŠ¡çš„è¯ï¼Œåªæœ‰å½“ä»»åŠ¡æ­£åœ¨æ‰§è¡Œçš„æ—¶å€™æ‰åº”è¯¥è®©Serviceè¿è¡Œèµ·æ¥ã€‚å½“å¯åŠ¨ä¸€ä¸ªServiceæ—¶ï¼Œç³»ç»Ÿä¼šå€¾å‘äºŽå°†è¿™ä¸ªServiceæ‰€ä¾èµ–çš„è¿›ç¨‹è¿›è¡Œä¿ç•™ï¼Œç³»ç»Ÿå¯ä»¥åœ¨LRUcacheå½“ä¸­ç¼“å­˜çš„è¿›ç¨‹æ•°é‡ä¹Ÿä¼šå‡å°‘ï¼Œå¯¼è‡´åˆ‡æ¢ç¨‹åºçš„æ—¶å€™è€—è´¹æ›´å¤šæ€§èƒ½ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨IntentServiceï¼Œå½“åŽå°ä»»åŠ¡æ‰§è¡Œç»“æŸåŽä¼šè‡ªåŠ¨åœæ­¢ï¼Œé¿å…äº†Serviceçš„å†…å­˜æ³„æ¼ã€‚ å½“ç•Œé¢ä¸å¯è§æ—¶é‡Šæ”¾å†…å­˜å½“ç”¨æˆ·æ‰“å¼€äº†å¦å¤–ä¸€ä¸ªç¨‹åºï¼Œæˆ‘ä»¬çš„ç¨‹åºç•Œé¢å·²ç»ä¸å¯è§çš„æ—¶å€™ï¼Œæˆ‘ä»¬åº”å½“å°†æ‰€æœ‰å’Œç•Œé¢ç›¸å…³çš„èµ„æºè¿›è¡Œé‡Šæ”¾ã€‚é‡å†™Activityçš„onTrimMemory()æ–¹æ³•ï¼Œç„¶åŽåœ¨è¿™ä¸ªæ–¹æ³•ä¸­ç›‘å¬TRIM_MEMORY_UI_HIDDENè¿™ä¸ªçº§åˆ«ï¼Œä¸€æ—¦è§¦å‘è¯´æ˜Žç”¨æˆ·ç¦»å¼€äº†ç¨‹åºï¼Œæ­¤æ—¶å°±å¯ä»¥è¿›è¡Œèµ„æºé‡Šæ”¾æ“ä½œäº†ã€‚ å½“å†…å­˜ç´§å¼ æ—¶é‡Šæ”¾å†…å­˜onTrimMemory()æ–¹æ³•è¿˜æœ‰å¾ˆå¤šç§å…¶ä»–ç±»åž‹çš„å›žè°ƒï¼Œå¯ä»¥åœ¨æ‰‹æœºå†…å­˜é™ä½Žçš„æ—¶å€™åŠæ—¶é€šçŸ¥æˆ‘ä»¬ï¼Œæˆ‘ä»¬åº”è¯¥æ ¹æ®å›žè°ƒä¸­ä¼ å…¥çš„çº§åˆ«æ¥åŽ»å†³å®šå¦‚ä½•é‡Šæ”¾åº”ç”¨ç¨‹åºçš„èµ„æºã€‚ é¿å…åœ¨Bitmapä¸Šæµªè´¹å†…å­˜è¯»å–ä¸€ä¸ªBitmapå›¾ç‰‡çš„æ—¶å€™ï¼Œåƒä¸‡ä¸è¦åŽ»åŠ è½½ä¸éœ€è¦çš„åˆ†è¾¨çŽ‡ã€‚å¯ä»¥åŽ‹ç¼©å›¾ç‰‡ç­‰æ“ä½œã€‚ æ˜¯æœ‰ä¼˜åŒ–è¿‡çš„æ•°æ®é›†åˆAndroidæä¾›äº†ä¸€ç³»åˆ—ä¼˜åŒ–è¿‡åŽçš„æ•°æ®é›†åˆå·¥å…·ç±»ï¼Œå¦‚SparseArrayã€SparseBooleanArrayã€LongSparseArrayï¼Œä½¿ç”¨è¿™äº›APIå¯ä»¥è®©æˆ‘ä»¬çš„ç¨‹åºæ›´åŠ é«˜æ•ˆã€‚HashMapå·¥å…·ç±»ä¼šç›¸å¯¹æ¯”è¾ƒä½Žæ•ˆï¼Œå› ä¸ºå®ƒéœ€è¦ä¸ºæ¯ä¸€ä¸ªé”®å€¼å¯¹éƒ½æä¾›ä¸€ä¸ªå¯¹è±¡å…¥å£ï¼Œè€ŒSparseArrayå°±é¿å…æŽ‰äº†åŸºæœ¬æ•°æ®ç±»åž‹è½¬æ¢æˆå¯¹è±¡æ•°æ®ç±»åž‹çš„æ—¶é—´ã€‚ çŸ¥æ™“å†…å­˜çš„å¼€æ”¯æƒ…å†µ ä½¿ç”¨æžšä¸¾é€šå¸¸ä¼šæ¯”ä½¿ç”¨é™æ€å¸¸é‡æ¶ˆè€—ä¸¤å€ä»¥ä¸Šçš„å†…å­˜ï¼Œå°½å¯èƒ½ä¸ä½¿ç”¨æžšä¸¾ ä»»ä½•ä¸€ä¸ªJavaç±»ï¼ŒåŒ…æ‹¬åŒ¿åç±»ã€å†…éƒ¨ç±»ï¼Œéƒ½è¦å ç”¨å¤§æ¦‚500å­—èŠ‚çš„å†…å­˜ç©ºé—´ ä»»ä½•ä¸€ä¸ªç±»çš„å®žä¾‹è¦æ¶ˆè€—12-16å­—èŠ‚çš„å†…å­˜å¼€æ”¯ï¼Œå› æ­¤é¢‘ç¹åˆ›å»ºå®žä¾‹ä¹Ÿæ˜¯ä¼šåœ¨ä¸€å®šç¨‹åºä¸Šå½±å“å†…å­˜çš„ ä½¿ç”¨HashMapæ—¶ï¼Œå³ä½¿ä½ åªè®¾ç½®äº†ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»åž‹çš„é”®ï¼Œæ¯”å¦‚è¯´intï¼Œä½†æ˜¯ä¹Ÿä¼šæŒ‰ç…§å¯¹è±¡çš„å¤§å°æ¥åˆ†é…å†…å­˜ï¼Œå¤§æ¦‚æ˜¯32å­—èŠ‚ï¼Œè€Œä¸æ˜¯4å­—èŠ‚ï¼Œå› æ­¤æœ€å¥½ä½¿ç”¨ä¼˜åŒ–åŽçš„æ•°æ®é›†åˆ è°¨æ…Žä½¿ç”¨æŠ½è±¡ç¼–ç¨‹åœ¨Androidä½¿ç”¨æŠ½è±¡ç¼–ç¨‹ä¼šå¸¦æ¥é¢å¤–çš„å†…å­˜å¼€æ”¯ï¼Œå› ä¸ºæŠ½è±¡çš„ç¼–ç¨‹æ–¹æ³•éœ€è¦ç¼–å†™é¢å¤–çš„ä»£ç ï¼Œè™½ç„¶è¿™äº›ä»£ç æ ¹æœ¬æ‰§è¡Œä¸åˆ°ï¼Œä½†æ˜¯ä¹Ÿè¦æ˜ å°„åˆ°å†…å­˜ä¸­ï¼Œä¸ä»…å ç”¨äº†æ›´å¤šçš„å†…å­˜ï¼Œåœ¨æ‰§è¡Œæ•ˆçŽ‡ä¸Šä¹Ÿä¼šæœ‰æ‰€é™ä½Žã€‚æ‰€ä»¥éœ€è¦åˆç†çš„ä½¿ç”¨æŠ½è±¡ç¼–ç¨‹ã€‚ å°½é‡é¿å…ä½¿ç”¨ä¾èµ–æ³¨å…¥æ¡†æž¶ä½¿ç”¨ä¾èµ–æ³¨å…¥æ¡†æž¶è²Œä¼¼çœ‹ä¸ŠåŽ»æŠŠfindViewById()è¿™ä¸€ç±»çš„ç¹çæ“ä½œåŽ»æŽ‰äº†ï¼Œä½†æ˜¯è¿™äº›æ¡†æž¶ä¸ºäº†è¦æœå¯»ä»£ç ä¸­çš„æ³¨è§£ï¼Œé€šå¸¸éƒ½éœ€è¦ç»åŽ†è¾ƒé•¿çš„åˆå§‹åŒ–è¿‡ç¨‹ï¼Œå¹¶ä¸”å°†ä¸€äº›ä½ ç”¨ä¸åˆ°çš„å¯¹è±¡ä¹Ÿä¸€å¹¶åŠ è½½åˆ°å†…å­˜ä¸­ã€‚è¿™äº›ç”¨ä¸åˆ°çš„å¯¹è±¡ä¼šä¸€ç›´ç«™ç”¨ç€å†…å­˜ç©ºé—´ï¼Œå¯èƒ½å¾ˆä¹…ä¹‹åŽæ‰ä¼šå¾—åˆ°é‡Šæ”¾ï¼Œæ‰€ä»¥å¯èƒ½å¤šæ•²å‡ è¡Œä»£ç æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚ ä½¿ç”¨å¤šä¸ªè¿›ç¨‹è°¨æ…Žä½¿ç”¨ï¼Œå¤šæ•°åº”ç”¨ç¨‹åºä¸è¯¥åœ¨å¤šä¸ªè¿›ç¨‹ä¸­è¿è¡Œçš„ï¼Œä¸€æ—¦ä½¿ç”¨ä¸å½“ï¼Œå®ƒç”šè‡³ä¼šå¢žåŠ é¢å¤–çš„å†…å­˜è€Œä¸æ˜¯å¸®æˆ‘ä»¬èŠ‚çœå†…å­˜ã€‚è¿™ä¸ªæŠ€å·§æ¯”è¾ƒé€‚ç”¨äºŽå“ªäº›éœ€è¦åœ¨åŽå°åŽ»å®Œæˆä¸€é¡¹ç‹¬ç«‹çš„ä»»åŠ¡ï¼Œå’Œå‰å°æ˜¯å®Œå…¨å¯ä»¥åŒºåˆ†å¼€çš„åœºæ™¯ã€‚æ¯”å¦‚éŸ³ä¹æ’­æ”¾ï¼Œå…³é—­è½¯ä»¶ï¼Œå·²ç»å®Œå…¨ç”±Serviceæ¥æŽ§åˆ¶éŸ³ä¹æ’­æ”¾äº†ï¼Œç³»ç»Ÿä»ç„¶ä¼šå°†è®¸å¤šUIæ–¹é¢çš„å†…å­˜è¿›è¡Œä¿ç•™ã€‚åœ¨è¿™ç§åœºæ™¯ä¸‹å°±éžå¸¸é€‚åˆä½¿ç”¨ä¸¤ä¸ªè¿›ç¨‹ï¼Œä¸€ä¸ªç”¨äºŽUIå±•ç¤ºï¼Œå¦ä¸€ä¸ªç”¨äºŽåœ¨åŽå°æŒç»­çš„æ’­æ”¾éŸ³ä¹ã€‚å…³äºŽå®žçŽ°å¤šè¿›ç¨‹ï¼Œåªéœ€è¦åœ¨Manifastæ–‡ä»¶çš„åº”ç”¨ç¨‹åºç»„ä»¶å£°æ˜Žä¸€ä¸ªandroid:processå±žæ€§å°±å¯ä»¥äº†ã€‚è¿›ç¨‹åå¯ä»¥è‡ªå®šä¹‰ï¼Œä½†æ˜¯ä¹‹å‰è¦åŠ ä¸ªå†’å·ï¼Œè¡¨ç¤ºè¯¥è¿›ç¨‹æ˜¯ä¸€ä¸ªå½“å‰åº”ç”¨ç¨‹åºçš„ç§æœ‰è¿›ç¨‹ã€‚ åˆ†æžå†…å­˜çš„ä½¿ç”¨æƒ…å†µ ç³»ç»Ÿä¸å¯èƒ½å°†æ‰€æœ‰çš„å†…å­˜éƒ½åˆ†é…ç»™æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºï¼Œæ¯ä¸ªç¨‹åºéƒ½ä¼šæœ‰å¯ä½¿ç”¨çš„å†…å­˜ä¸Šé™ï¼Œè¢«ç§°ä¸ºå †å¤§å°ã€‚ä¸åŒçš„æ‰‹æœºå †å¤§å°ä¸åŒï¼Œå¦‚ä¸‹ä»£ç å¯ä»¥èŽ·å¾—å †å¤§å°ï¼š 12ActivityManager manager = (ActivityManager)getSystemService(Context.ACTIVITY_SERVICE);int heapSize = manager.getMemoryClass(); ç»“æžœä»¥MBä¸ºå•ä½è¿›è¡Œè¿”å›žï¼Œæˆ‘ä»¬å¼€å‘æ—¶åº”ç”¨ç¨‹åºçš„å†…å­˜ä¸èƒ½è¶…è¿‡è¿™ä¸ªé™åˆ¶ï¼Œå¦åˆ™ä¼šå‡ºçŽ°OOMã€‚ Androidçš„GCæ“ä½œAndroidç³»ç»Ÿä¼šåœ¨é€‚å½“çš„æ—¶æœºè§¦å‘GCæ“ä½œï¼Œä¸€æ—¦è¿›è¡ŒGCæ“ä½œï¼Œå°±ä¼šå°†ä¸€äº›ä¸å†ä½¿ç”¨çš„å¯¹è±¡è¿›è¡Œå›žæ”¶ã€‚GCæ“ä½œä¼šä»Žä¸€ä¸ªå«åšRootsçš„å¯¹è±¡å¼€å§‹æ£€æŸ¥ï¼Œæ‰€æœ‰å®ƒå¯ä»¥è®¿é—®åˆ°çš„å¯¹è±¡å°±è¯´æ˜Žè¿˜åœ¨ä½¿ç”¨å½“ä¸­ï¼Œåº”è¯¥è¿›è¡Œä¿ç•™ï¼Œè€Œå…¶ä»–çš„å¯¹ç³»é‚£ä¸ªå°±è¡¨ç¤ºå·²ç»ä¸å†è¢«ä½¿ç”¨äº†ã€‚ Androidä¸­å†…å­˜æ³„æ¼Androidä¸­çš„åžƒåœ¾å›žæ”¶æœºåˆ¶å¹¶ä¸èƒ½é˜²æ­¢å†…å­˜æ³„æ¼çš„å‡ºçŽ°å¯¼è‡´å†…å­˜æ³„æ¼æœ€ä¸»è¦çš„åŽŸå› å°±æ˜¯æŸäº›é•¿å­˜å¯¹è±¡æŒæœ‰äº†ä¸€äº›å…¶å®ƒåº”è¯¥è¢«å›žæ”¶çš„å¯¹è±¡çš„å¼•ç”¨ï¼Œå¯¼è‡´åžƒåœ¾å›žæ”¶å™¨æ— æ³•åŽ»å›žæ”¶æŽ‰è¿™äº›å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯å‡ºçŽ°å†…å­˜æ³„æ¼äº†ã€‚æ¯”å¦‚è¯´åƒActivityè¿™æ ·çš„ç³»ç»Ÿç»„ä»¶ï¼Œå®ƒåˆä¼šåŒ…å«å¾ˆå¤šçš„æŽ§ä»¶ç”šè‡³æ˜¯å›¾ç‰‡ï¼Œå¦‚æžœå®ƒæ— æ³•è¢«åžƒåœ¾å›žæ”¶å™¨å›žæ”¶æŽ‰çš„è¯ï¼Œé‚£å°±ç®—æ˜¯æ¯”è¾ƒä¸¥é‡çš„å†…å­˜æ³„æ¼æƒ…å†µäº†ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨MainActivityä¸­å®šä¹‰ä¸€ä¸ªå†…éƒ¨ç±»ï¼Œå®žä¾‹åŒ–å†…éƒ¨ç±»å¯¹è±¡ï¼Œåœ¨å†…éƒ¨ç±»æ–°å»ºä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œæ­»å¾ªçŽ¯ï¼Œä¼šå¯¼è‡´å†…éƒ¨ç±»èµ„æºæ— æ³•é‡Šæ”¾ï¼ŒMainActivityçš„æŽ§ä»¶å’Œèµ„æºæ— æ³•é‡Šæ”¾ï¼Œå¯¼è‡´OOM,å¯å€ŸåŠ©ä¸€ç³»åˆ—å·¥å…·ï¼Œæ¯”å¦‚LeakCanaryã€‚ é«˜æ€§èƒ½ç¼–ç ä¼˜åŒ– éƒ½æ˜¯ä¸€äº›å¾®ä¼˜åŒ–ï¼Œåœ¨æ€§èƒ½æ–¹é¢çœ‹ä¸å‡ºæœ‰ä»€ä¹ˆæ˜¾è‘—çš„æå‡çš„ã€‚ä½¿ç”¨åˆé€‚çš„ç®—æ³•å’Œæ•°æ®ç»“æž„æ˜¯ä¼˜åŒ–ç¨‹åºæ€§èƒ½çš„æœ€ä¸»è¦æ‰‹æ®µã€‚ é¿å…åˆ›å»ºä¸å¿…è¦çš„å¯¹è±¡ä¸å¿…è¦çš„å¯¹è±¡æˆ‘ä»¬åº”è¯¥é¿å…åˆ›å»ºï¼š å¦‚æžœæœ‰éœ€è¦æ‹¼æŽ¥çš„å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå¯ä»¥ä¼˜å…ˆè€ƒè™‘ä½¿ç”¨StringBufferæˆ–è€…StringBuilderæ¥è¿›è¡Œæ‹¼æŽ¥ï¼Œè€Œä¸æ˜¯åŠ å·è¿žæŽ¥ç¬¦ï¼Œå› ä¸ºä½¿ç”¨åŠ å·è¿žæŽ¥ç¬¦ä¼šåˆ›å»ºå¤šä½™çš„å¯¹è±¡ï¼Œæ‹¼æŽ¥çš„å­—ç¬¦ä¸²è¶Šé•¿ï¼ŒåŠ å·è¿žæŽ¥ç¬¦çš„æ€§èƒ½è¶Šä½Žã€‚ åœ¨æ²¡æœ‰ç‰¹æ®ŠåŽŸå› çš„æƒ…å†µä¸‹ï¼Œå°½é‡ä½¿ç”¨åŸºæœ¬æ•°æ®ç±»åž‹æ¥ä»£æ›¿å°è£…æ•°æ®ç±»åž‹ï¼Œintæ¯”Integerè¦æ›´åŠ æœ‰æ•ˆï¼Œå…¶å®ƒæ•°æ®ç±»åž‹ä¹Ÿæ˜¯ä¸€æ ·ã€‚ å½“ä¸€ä¸ªæ–¹æ³•çš„è¿”å›žå€¼æ˜¯Stringçš„æ—¶å€™ï¼Œé€šå¸¸éœ€è¦åŽ»åˆ¤æ–­ä¸€ä¸‹è¿™ä¸ªStringçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Œå¦‚æžœæ˜Žç¡®çŸ¥é“è°ƒç”¨æ–¹ä¼šå°†è¿”å›žçš„Stringå†è¿›è¡Œæ‹¼æŽ¥æ“ä½œçš„è¯ï¼Œå¯ä»¥è€ƒè™‘è¿”å›žä¸€ä¸ªStringBufferå¯¹è±¡æ¥ä»£æ›¿ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥å°†ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨è¿›è¡Œè¿”å›žï¼Œè€Œè¿”å›žStringçš„è¯å°±æ˜¯åˆ›å»ºäº†ä¸€ä¸ªçŸ­ç”Ÿå‘½å‘¨æœŸçš„ä¸´æ—¶å¯¹è±¡ã€‚ åŸºæœ¬æ•°æ®ç±»åž‹çš„æ•°ç»„ä¹Ÿè¦ä¼˜äºŽå¯¹è±¡æ•°æ®ç±»åž‹çš„æ•°ç»„ã€‚å¦å¤–ä¸¤ä¸ªå¹³è¡Œçš„æ•°ç»„è¦æ¯”ä¸€ä¸ªå°è£…å¥½çš„å¯¹è±¡æ•°ç»„æ›´åŠ é«˜æ•ˆï¼Œä¸¾ä¸ªä¾‹å­ï¼ŒFoo[]å’ŒBar[]è¿™æ ·çš„æ•°ç»„ï¼Œä½¿ç”¨èµ·æ¥è¦æ¯”Custom(Foo,Bar)[]è¿™æ ·çš„ä¸€ä¸ªæ•°ç»„é«˜æ•ˆçš„å¤šã€‚ å°½å¯èƒ½åœ°å°‘åˆ›å»ºä¸´æ—¶å¯¹è±¡ï¼Œè¶Šå°‘çš„å¯¹è±¡æ„å‘³ç€è¶Šå°‘çš„GCæ“ä½œã€‚ é™æ€ä¼˜äºŽæŠ½è±¡å¦‚æžœä½ å¹¶ä¸éœ€è¦è®¿é—®ä¸€ä¸ªå¯¹ç³»é‚£ä¸ªä¸­çš„æŸäº›å­—æ®µï¼Œåªæ˜¯æƒ³è°ƒç”¨å®ƒçš„æŸäº›æ–¹æ³•æ¥åŽ»å®Œæˆä¸€é¡¹é€šç”¨çš„åŠŸèƒ½ï¼Œé‚£ä¹ˆå¯ä»¥å°†è¿™ä¸ªæ–¹æ³•è®¾ç½®æˆé™æ€æ–¹æ³•ï¼Œè°ƒç”¨é€Ÿåº¦æå‡15%-20%ï¼ŒåŒæ—¶ä¹Ÿä¸ç”¨ä¸ºäº†è°ƒç”¨è¿™ä¸ªæ–¹æ³•åŽ»ä¸“é—¨åˆ›å»ºå¯¹è±¡äº†ï¼Œä¹Ÿä¸ç”¨æ‹…å¿ƒè°ƒç”¨è¿™ä¸ªæ–¹æ³•åŽæ˜¯å¦ä¼šæ”¹å˜å¯¹è±¡çš„çŠ¶æ€(é™æ€æ–¹æ³•æ— æ³•è®¿é—®éžé™æ€å­—æ®µ)ã€‚ å¯¹å¸¸é‡ä½¿ç”¨static finalä¿®é¥°ç¬¦12static int intVal = 42; static String strVal = "Hello, world!"; ç¼–è¯‘å™¨ä¼šä¸ºä¸Šé¢çš„ä»£ç ç”Ÿæˆä¸€ä¸ªåˆå§‹æ–¹æ³•ï¼Œç§°ä¸ºæ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šåœ¨å®šä¹‰ç±»ç¬¬ä¸€æ¬¡è¢«ä½¿ç”¨çš„æ—¶å€™è°ƒç”¨ã€‚è¿™ä¸ªæ–¹æ³•ä¼šå°†42çš„å€¼èµ‹å€¼åˆ°intValå½“ä¸­ï¼Œä»Žå­—ç¬¦ä¸²å¸¸é‡è¡¨ä¸­æå–ä¸€ä¸ªå¼•ç”¨èµ‹å€¼åˆ°strValä¸Šã€‚å½“èµ‹å€¼å®ŒæˆåŽï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡å­—æ®µæœå¯»çš„æ–¹å¼åŽ»è®¿é—®å…·ä½“çš„å€¼äº†ã€‚ finalè¿›è¡Œä¼˜åŒ–: 12static final int intVal = 42; static final String strVal = "Hello, world!"; è¿™æ ·ï¼Œå®šä¹‰ç±»å°±ä¸éœ€è¦æ–¹æ³•äº†ï¼Œå› ä¸ºæ‰€æœ‰çš„å¸¸é‡éƒ½ä¼šåœ¨dexæ–‡ä»¶çš„åˆå§‹åŒ–å™¨å½“ä¸­è¿›è¡Œåˆå§‹åŒ–ã€‚å½“æˆ‘ä»¬è°ƒç”¨intValæ—¶å¯ä»¥ç›´æŽ¥æŒ‡å‘42çš„å€¼ï¼Œè€Œè°ƒç”¨strValä¼šç”¨ä¸€ç§ç›¸å¯¹è½»é‡çº§çš„å­—ç¬¦ä¸²å¸¸é‡æ–¹å¼ï¼Œè€Œä¸æ˜¯å­—æ®µæœå¯»çš„æ–¹å¼ã€‚ è¿™ç§ä¼˜åŒ–æ–¹å¼åªå¯¹åŸºæœ¬æ•°æ®ç±»åž‹ä»¥åŠStringç±»åž‹çš„å¸¸é‡æœ‰æ•ˆï¼Œå¯¹äºŽå…¶ä»–æ•°æ®ç±»åž‹çš„å¸¸é‡æ˜¯æ— æ•ˆçš„ã€‚ ä½¿ç”¨å¢žå¼ºåž‹forå¾ªçŽ¯è¯­æ³•12345678910111213141516171819202122232425262728static class Counter &#123; int mCount; &#125; Counter[] mArray = ... public void zero() &#123; int sum = 0; for (int i = 0; i &lt; mArray.length; ++i) &#123; sum += mArray[i].mCount; &#125; &#125; public void one() &#123; int sum = 0; Counter[] localArray = mArray; int len = localArray.length; for (int i = 0; i &lt; len; ++i) &#123; sum += localArray[i].mCount; &#125; &#125; public void two() &#123; int sum = 0; for (Counter a : mArray) &#123; sum += a.mCount; &#125; &#125; zero()æœ€æ…¢ï¼Œæ¯æ¬¡éƒ½è¦è®¡ç®—mArrayçš„é•¿åº¦ï¼Œone()ç›¸å¯¹å¿«å¾—å¤šï¼Œtwo()fangfaåœ¨æ²¡æœ‰JIT(Just In Time Compiler)çš„è®¾å¤‡ä¸Šæ˜¯è¿è¡Œæœ€å¿«çš„ï¼Œè€Œåœ¨æœ‰JITçš„è®¾å¤‡ä¸Šè¿è¡Œæ•ˆçŽ‡å’Œone()æ–¹æ³•ä¸ç›¸ä¸Šä¸‹ï¼Œéœ€è¦æ³¨æ„è¿™ç§å†™æ³•éœ€è¦JDK1.5ä¹‹åŽæ‰æ”¯æŒã€‚ Tips:ArrayListæ‰‹å†™çš„å¾ªçŽ¯æ¯”å¢žå¼ºåž‹forå¾ªçŽ¯æ›´å¿«ï¼Œå…¶ä»–çš„é›†åˆæ²¡æœ‰è¿™ç§æƒ…å†µã€‚å› æ­¤é»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨å¢žå¼ºåž‹forå¾ªçŽ¯ï¼Œè€ŒéåŽ†ArrayListä½¿ç”¨ä¼ ç»Ÿçš„å¾ªçŽ¯æ–¹å¼ã€‚ å¤šä½¿ç”¨ç³»ç»Ÿå°è£…å¥½çš„APIç³»ç»Ÿæä¾›ä¸äº†çš„Apiå®Œæˆä¸äº†æˆ‘ä»¬éœ€è¦çš„åŠŸèƒ½æ‰åº”è¯¥è‡ªå·±åŽ»å†™ï¼Œå› ä¸ºä½¿ç”¨ç³»ç»Ÿçš„Apiå¾ˆå¤šæ—¶å€™æ¯”æˆ‘ä»¬è‡ªå·±å†™çš„ä»£ç è¦å¿«å¾—å¤šï¼Œå®ƒä»¬çš„å¾ˆå¤šåŠŸèƒ½éƒ½æ˜¯é€šè¿‡åº•å±‚çš„æ±‡ç¼–æ¨¡å¼æ‰§è¡Œçš„ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå®žçŽ°æ•°ç»„æ‹·è´çš„åŠŸèƒ½ï¼Œä½¿ç”¨å¾ªçŽ¯çš„æ–¹å¼æ¥å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ä¸€ä¸€è¿›è¡Œèµ‹å€¼å½“ç„¶å¯è¡Œï¼Œä½†æ˜¯ç›´æŽ¥ä½¿ç”¨ç³»ç»Ÿä¸­æä¾›çš„System.arraycopy()æ–¹æ³•ä¼šè®©æ‰§è¡Œæ•ˆçŽ‡å¿«9å€ä»¥ä¸Šã€‚ é¿å…åœ¨å†…éƒ¨è°ƒç”¨Getters/Settersæ–¹æ³•é¢å‘å¯¹è±¡ä¸­å°è£…çš„æ€æƒ³æ˜¯ä¸è¦æŠŠç±»å†…éƒ¨çš„å­—æ®µæš´éœ²ç»™å¤–éƒ¨ï¼Œè€Œæ˜¯æä¾›ç‰¹å®šçš„æ–¹æ³•æ¥å…è®¸å¤–éƒ¨æ“ä½œç›¸åº”ç±»çš„å†…éƒ¨å­—æ®µã€‚ä½†åœ¨Androidä¸­ï¼Œå­—æ®µæœå¯»æ¯”æ–¹æ³•è°ƒç”¨æ•ˆçŽ‡é«˜å¾—å¤šï¼Œæˆ‘ä»¬ç›´æŽ¥è®¿é—®æŸä¸ªå­—æ®µå¯èƒ½è¦æ¯”é€šè¿‡gettersæ–¹æ³•æ¥åŽ»è®¿é—®è¿™ä¸ªå­—æ®µå¿«3åˆ°7å€ã€‚ä½†æ˜¯ç¼–å†™ä»£ç è¿˜æ˜¯è¦æŒ‰ç…§é¢å‘å¯¹è±¡æ€ç»´çš„ï¼Œæˆ‘ä»¬åº”è¯¥åœ¨èƒ½ä¼˜åŒ–çš„åœ°æ–¹è¿›è¡Œä¼˜åŒ–ï¼Œæ¯”å¦‚é¿å…åœ¨å†…éƒ¨è°ƒç”¨getters/settersæ–¹æ³•ã€‚ å¸ƒå±€ä¼˜åŒ–æŠ€å·§ é‡ç”¨å¸ƒå±€æ–‡ä»¶ æ ‡ç­¾å¯ä»¥å…è®¸åœ¨ä¸€ä¸ªå¸ƒå±€å½“ä¸­å¼•å…¥å¦ä¸€ä¸ªå¸ƒå±€ï¼Œé‚£ä¹ˆæ¯”å¦‚è¯´æˆ‘ä»¬ç¨‹åºçš„æ‰€æœ‰ç•Œé¢éƒ½æœ‰ä¸€ä¸ªå…¬å…±çš„éƒ¨åˆ†ï¼Œè¿™ä¸ªæ—¶å€™æœ€å¥½çš„åšæ³•å°±æ˜¯å°†è¿™ä¸ªå…¬å…±çš„éƒ¨åˆ†æå–åˆ°ä¸€ä¸ªç‹¬ç«‹çš„å¸ƒå±€ä¸­ï¼Œç„¶åŽæ¯ä¸ªç•Œé¢çš„å¸ƒå±€æ–‡ä»¶å½“ä¸­æ¥å¼•ç”¨è¿™ä¸ªå…¬å…±çš„å¸ƒå±€ã€‚ Tips:å¦‚æžœæˆ‘ä»¬è¦åœ¨æ ‡ç­¾ä¸­è¦†å†™layoutå±žæ€§ï¼Œå¿…é¡»è¦å°†layout_widthå’Œlayout_heightè¿™ä¸¤ä¸ªå±žæ€§ä¹Ÿè¿›è¡Œè¦†å†™ï¼Œå¦åˆ™è¦†å†™xiaoguoå°†ä¸ä¼šç”Ÿæ•ˆã€‚ æ ‡ç­¾æ˜¯ä½œä¸ºæ ‡ç­¾çš„ä¸€ç§è¾…åŠ©æ‰©å±•æ¥ä½¿ç”¨çš„ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯ä¸ºäº†é˜²æ­¢åœ¨å¼•ç”¨å¸ƒå±€æ–‡ä»¶æ—¶å¼•ç”¨æ–‡ä»¶æ—¶äº§ç”Ÿå¤šä½™çš„å¸ƒå±€åµŒå¥—ã€‚å¸ƒå±€åµŒå¥—è¶Šå¤šï¼Œè§£æžèµ·æ¥å°±è¶Šè€—æ—¶ï¼Œæ€§èƒ½å°±è¶Šå·®ã€‚å› æ­¤ç¼–å†™å¸ƒå±€æ–‡ä»¶æ—¶åº”è¯¥è®©åµŒå¥—çš„å±‚æ•°è¶Šå°‘è¶Šå¥½ã€‚ ä¸¾ä¾‹ï¼šæ¯”å¦‚åœ¨LinearLayouté‡Œè¾¹ä½¿ç”¨ä¸€ä¸ªå¸ƒå±€ã€‚é‡Œè¾¹åˆæœ‰ä¸€ä¸ªLinearLayoutï¼Œé‚£ä¹ˆå…¶å®žå°±å­˜åœ¨äº†å¤šä½™çš„å¸ƒå±€åµŒå¥—ï¼Œä½¿ç”¨mergeå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ ä»…åœ¨éœ€è¦æ—¶æ‰åŠ è½½å¸ƒå±€æŸä¸ªå¸ƒå±€å½“ä¸­çš„å…ƒç´ ä¸æ˜¯ä¸€èµ·æ˜¾ç¤ºå‡ºæ¥çš„ï¼Œæ™®é€šæƒ…å†µä¸‹åªæ˜¾ç¤ºéƒ¨åˆ†å¸¸ç”¨çš„å…ƒç´ ï¼Œè€Œé‚£äº›ä¸å¸¸ç”¨çš„å…ƒç´ åªæœ‰åœ¨ç”¨æˆ·è¿›è¡Œç‰¹å®šæ“ä½œæ—¶æ‰ä¼šæ˜¾ç¤ºå‡ºæ¥ã€‚ ä¸¾ä¾‹ï¼šå¡«ä¿¡æ¯æ—¶ä¸æ˜¯éœ€è¦å…¨éƒ¨å¡«çš„ï¼Œæœ‰ä¸€ä¸ªæ·»åŠ æ›´å¤šå­—æ®µçš„é€‰é¡¹ï¼Œå½“ç”¨æˆ·éœ€è¦æ·»åŠ å…¶ä»–ä¿¡æ¯çš„æ—¶å€™ï¼Œæ‰å°†å¦å¤–çš„å…ƒç´ æ˜¾ç¤ºåˆ°ç•Œé¢ä¸Šã€‚ç”¨VISIBLEæ€§èƒ½è¡¨çŽ°ä¸€èˆ¬ï¼Œå¯ä»¥ç”¨ViewStubã€‚ViewStubä¹Ÿæ˜¯Viewçš„ä¸€ç§ï¼Œä½†æ˜¯æ²¡æœ‰å¤§å°ï¼Œæ²¡æœ‰ç»˜åˆ¶åŠŸèƒ½ï¼Œä¹Ÿä¸å‚ä¸Žå¸ƒå±€ï¼Œèµ„æºæ¶ˆè€—éžå¸¸ä½Žï¼Œå¯ä»¥è®¤ä¸ºå®Œå…¨ä¸å½±å“æ€§èƒ½ã€‚ 123456&lt;ViewStub android:id="@+id/view_stub" android:layout="@layout/profile_extra" android:layout_width="match_parent" android:layout_height="wrap_content" /&gt; 123456789public void onMoreClick() &#123; ViewStub viewStub = (ViewStub) findViewById(R.id.view_stub); if (viewStub != null) &#123; View inflatedView = viewStub.inflate(); editExtra1 = (EditText) inflatedView.findViewById(R.id.edit_extra1); editExtra2 = (EditText) inflatedView.findViewById(R.id.edit_extra2); editExtra3 = (EditText) inflatedView.findViewById(R.id.edit_extra3); &#125; &#125; tipsï¼šViewStubæ‰€åŠ è½½çš„å¸ƒå±€æ˜¯ä¸å¯ä»¥ä½¿ç”¨æ ‡ç­¾çš„ï¼Œå› æ­¤è¿™æœ‰å¯èƒ½å¯¼è‡´åŠ è½½å‡ºæ¥å‡ºæ¥çš„å¸ƒå±€å­˜åœ¨ç€å¤šä½™çš„åµŒå¥—ç»“æž„ã€‚]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Androidç³»ç»Ÿæœºåˆ¶]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FAndroid%2FAndroid%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%2F</url>
    <content type="text"><![CDATA[Androidç³»ç»Ÿæœºåˆ¶ APPå¯åŠ¨è¿‡ç¨‹ Launcherçº¿ç¨‹æ•èŽ·onclickçš„ç‚¹å‡»äº‹ä»¶ï¼Œè°ƒç”¨Launcher.startActivitySafelyï¼Œè¿›ä¸€æ­¥è°ƒç”¨Launcher.startActivityï¼Œæœ€åŽè°ƒç”¨çˆ¶ç±»Activityçš„startActivityã€‚ Activityå’ŒActivityManagerServiceäº¤äº’ï¼Œå¼•å…¥Instrumentationï¼Œå°†å¯åŠ¨è¯·æ±‚äº¤ç»™Instrumentationï¼Œè°ƒç”¨Instrumentation.execStartActivity Androidå†…æ ¸è§£è¯»-åº”ç”¨çš„å®‰è£…è¿‡ç¨‹http://blog.csdn.net/singwhatiwanna/article/details/19578947apkçš„å®‰è£…è¿‡ç¨‹åˆ†ä¸ºä¸¤æ­¥ï¼š å°†apkæ–‡ä»¶å¤åˆ¶åˆ°ç¨‹åºç›®å½•ä¸‹(/data/app/) ä¸ºåº”ç”¨åˆ›å»ºæ•°æ®ç›®å½•(/data/data/package name/)ã€æå–dexæ–‡ä»¶åˆ°æŒ‡å®šç›®å½•(/data/delvik-cache/)ã€ä¿®æ”¹ç³»ç»ŸåŒ…ç®¡ç†ä¿¡æ¯ã€‚ Viewçš„äº‹ä»¶ä½“ç³»Handleræ¶ˆæ¯æœºåˆ¶AsyncTaskAyncTaskæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ã€‚ éœ€è¦é‡å†™çš„æ–¹æ³•æœ‰å››ä¸ªï¼š onPreExecute() è¿™ä¸ªæ–¹æ³•ä¼šåœ¨åŽå°ä»»åŠ¡å¼€å§‹ä¹‹å‰è°ƒç”¨ï¼Œç”¨äºŽè¿›è¡Œä¸€äº›ç•Œé¢ä¸Šçš„åˆå§‹åŒ–æ“ä½œï¼Œæ¯”å¦‚æ˜¾ç¤ºä¸€ä¸ªè¿›åº¦æ¡å¯¹è¯æ¡†ç­‰ doInBackGround(Paramsâ€¦) åœ¨å­çº¿ç¨‹ä¸­è¿è¡Œï¼Œä¸å¯æ›´æ–°UIï¼Œè¿”å›žçš„æ˜¯æ‰§è¡Œç»“æžœï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºVoidä¸è¿”å›ž onProgressUpdate(Progressâ€¦) åˆ©ç”¨å‚æ•°å¯ä»¥è¿›è¡ŒUIæ“ä½œã€‚ onPostExecute(Result) è¿”å›žçš„æ•°æ®ä¼šä½œä¸ºå‚æ•°ä¼ é€’åˆ°æ­¤æ–¹æ³•ä¸­ï¼Œå¯ä»¥åˆ©ç”¨è¿”å›žçš„ä¸€äº›æ•°æ®æ¥è¿›è¡Œä¸€äº›UIæ“ä½œã€‚ 1234567891011121314151617181920212223242526272829303132333435363738class DownloadTask extends AsyncTask&lt;Void, Integer, Boolean&gt; &#123; @Override protected void onPreExecute() &#123; progressDialog.show(); &#125; @Override protected Boolean doInBackground(Void... params) &#123; try &#123; while (true) &#123; int downloadPercent = doDownload(); publishProgress(downloadPercent); if (downloadPercent &gt;= 100) &#123; break; &#125; &#125; &#125; catch (Exception e) &#123; return false; &#125; return true; &#125; @Override protected void onProgressUpdate(Integer... values) &#123; progressDialog.setMessage("å½“å‰ä¸‹è½½è¿›åº¦ï¼š" + values[0] + "%"); &#125; @Override protected void onPostExecute(Boolean result) &#123; progressDialog.dismiss(); if (result) &#123; Toast.makeText(context, "ä¸‹è½½æˆåŠŸ", Toast.LENGTH_SHORT).show(); &#125; else &#123; Toast.makeText(context, "ä¸‹è½½å¤±è´¥", Toast.LENGTH_SHORT).show(); &#125; &#125; &#125; å¯åŠ¨è¿™ä¸ªä»»åŠ¡ï¼š 1new DownloadTask().execute(); å›¾ç‰‡ç¼“å­˜æœºåˆ¶]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[AsyncTask]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FAndroid%2FAsynctask%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%2F</url>
    <content type="text"><![CDATA[AsyncTask é¦–å…ˆä»ŽAndroid3.0å¼€å§‹ï¼Œç³»ç»Ÿè¦æ±‚ç½‘ç»œè®¿é—®å¿…é¡»åœ¨å­çº¿ç¨‹ä¸­è¿›è¡Œï¼Œå¦åˆ™ç½‘ç»œè®¿é—®å°†ä¼šå¤±è´¥å¹¶æŠ›å‡ºNetworkOnMainThreadExceptionè¿™ä¸ªå¼‚å¸¸ï¼Œè¿™æ ·åšæ˜¯ä¸ºäº†é¿å…ä¸»çº¿ç¨‹ç”±äºŽè€—æ—¶æ“ä½œæ‰€é˜»å¡žä»Žè€Œå‡ºçŽ°ANRçŽ°è±¡ã€‚AsyncTaskå°è£…äº†çº¿ç¨‹æ± å’ŒHandlerã€‚AsyncTaskæœ‰ä¸¤ä¸ªçº¿ç¨‹æ± ï¼šSerialExecutorå’ŒTHREAD_POOL_EXECUTORã€‚å‰è€…æ˜¯ç”¨äºŽä»»åŠ¡çš„æŽ’é˜Ÿï¼Œé»˜è®¤æ˜¯ä¸²è¡Œçš„çº¿ç¨‹æ± ï¼šåŽè€…ç”¨äºŽçœŸæ­£çš„æ‰§è¡Œä»»åŠ¡ã€‚AsyncTaskè¿˜æœ‰ä¸€ä¸ªHandlerï¼Œå«InternalHandlerï¼Œç”¨äºŽå°†æ‰§è¡ŒçŽ¯å¢ƒä»Žçº¿ç¨‹æ± åˆ‡æ¢åˆ°ä¸»çº¿ç¨‹ã€‚AsyncTaskå†…éƒ¨å°±æ˜¯é€šè¿‡InternalHandleræ¥å‘é€ä»»åŠ¡æ‰§è¡Œçš„è¿›åº¦ä»¥åŠæ‰§è¡Œç»“æŸç­‰æ¶ˆæ¯ã€‚ AsyncTaskæŽ’é˜Ÿæ‰§è¡Œè¿‡ç¨‹ï¼šç³»ç»Ÿå…ˆæŠŠå‚æ•°Paramså°è£…ä¸ºFutureTaskå¯¹è±¡ï¼Œå®ƒç›¸å½“äºŽRunnableï¼ŒæŽ¥ç€FutureTaskäº¤ç»™SerialExcutorçš„executeæ–¹æ³•ï¼Œå®ƒå…ˆæŠŠFutureTaskæ’å…¥åˆ°ä»»åŠ¡é˜Ÿåˆ—tasksä¸­ï¼Œå¦‚æžœè¿™ä¸ªæ—¶å€™æ²¡æœ‰æ­£åœ¨æ´»åŠ¨çš„AsyncTaskä»»åŠ¡ï¼Œé‚£ä¹ˆå°±ä¼šæ‰§è¡Œä¸‹ä¸€ä¸ªAsyncTaskä»»åŠ¡ï¼ŒåŒæ—¶å½“ä¸€ä¸ªAsyncTaskä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¹‹åŽï¼ŒAsyncTaskä¼šç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡ç›´åˆ°æ‰€æœ‰ä»»åŠ¡éƒ½è¢«æ‰§è¡Œä¸ºæ­¢ã€‚ å…³äºŽçº¿ç¨‹æ± ï¼ŒAsyncTaskå¯¹åº”çš„çº¿ç¨‹æ± ThreadPoolExecutoréƒ½æ˜¯è¿›ç¨‹èŒƒå›´å†…å…±äº«çš„ï¼Œéƒ½æ˜¯staticçš„ï¼Œæ‰€ä»¥æ˜¯AsyncTaskæŽ§åˆ¶ç€è¿›ç¨‹èŒƒå›´å†…æ‰€æœ‰çš„å­ç±»å®žä¾‹ã€‚ç”±äºŽè¿™ä¸ªé™åˆ¶çš„å­˜åœ¨ï¼Œå½“ä½¿ç”¨é»˜è®¤çº¿ç¨‹æ± æ—¶ï¼Œå¦‚æžœçº¿ç¨‹æ•°è¶…è¿‡çº¿ç¨‹æ± çš„æœ€å¤§å®¹é‡ï¼Œçº¿ç¨‹æ± å°±ä¼šçˆ†æŽ‰(3.0é»˜è®¤ä¸²è¡Œæ‰§è¡Œï¼Œä¸ä¼šå‡ºçŽ°è¿™ä¸ªé—®é¢˜)ã€‚é’ˆå¯¹è¿™ç§æƒ…å†µã€‚å¯ä»¥å°è¯•è‡ªå®šä¹‰çº¿ç¨‹æ± ï¼Œé…åˆAsyncTaskä½¿ç”¨ã€‚]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ARTå’ŒDalvikåŒºåˆ«]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FAndroid%2FArt%E5%92%8CDalvik%E5%8C%BA%E5%88%AB%2F</url>
    <content type="text"><![CDATA[ARTå’ŒDalvikåŒºåˆ« Artä¸Šåº”ç”¨å¯åŠ¨å¿«ï¼Œè¿è¡Œå¿«ï¼Œä½†æ˜¯è€—è´¹æ›´å¤šå­˜å‚¨ç©ºé—´ï¼Œå®‰è£…æ—¶é—´é•¿ï¼Œæ€»çš„æ¥è¯´ARTçš„åŠŸæ•ˆå°±æ˜¯â€ç©ºé—´æ¢æ—¶é—´â€ã€‚ ART: Ahead of Time Dalvik: Just in Time ä»€ä¹ˆæ˜¯Dalvikï¼šDalvikæ˜¯Googleå…¬å¸è‡ªå·±è®¾è®¡ç”¨äºŽAndroidå¹³å°çš„Javaè™šæ‹Ÿæœºã€‚Dalvikè™šæ‹Ÿæœºæ˜¯Googleç­‰åŽ‚å•†åˆä½œå¼€å‘çš„Androidç§»åŠ¨è®¾å¤‡å¹³å°çš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†ä¹‹ä¸€ï¼Œå®ƒå¯ä»¥æ”¯æŒå·²è½¬æ¢ä¸º.dex(å³Dalvik Executable)æ ¼å¼çš„Javaåº”ç”¨ç¨‹åºçš„è¿è¡Œï¼Œ.dexæ ¼å¼æ˜¯ä¸“ä¸ºDalvikåº”ç”¨è®¾è®¡çš„ä¸€ç§åŽ‹ç¼©æ ¼å¼ï¼Œé€‚åˆå†…å­˜å’Œå¤„ç†å™¨é€Ÿåº¦æœ‰é™çš„ç³»ç»Ÿã€‚Dalvikç»è¿‡ä¼˜åŒ–ï¼Œå…è®¸åœ¨æœ‰é™çš„å†…å­˜ä¸­åŒæ—¶è¿è¡Œå¤šä¸ªè™šæ‹Ÿæœºçš„å®žä¾‹ï¼Œå¹¶ä¸”æ¯ä¸€ä¸ªDalvikåº”ç”¨ä½œä¸ºç‹¬ç«‹çš„Linuxè¿›ç¨‹æ‰§è¡Œã€‚ç‹¬ç«‹çš„è¿›ç¨‹å¯ä»¥é˜²æ­¢åœ¨è™šæ‹Ÿæœºå´©æºƒçš„æ—¶å€™æ‰€æœ‰ç¨‹åºéƒ½è¢«å…³é—­ã€‚ ä»€ä¹ˆæ˜¯ART:Androidæ“ä½œç³»ç»Ÿå·²ç»æˆç†Ÿï¼ŒGoogleçš„Androidå›¢é˜Ÿå¼€å§‹å°†æ³¨æ„åŠ›è½¬å‘ä¸€äº›åº•å±‚ç»„ä»¶ï¼Œå…¶ä¸­ä¹‹ä¸€æ˜¯è´Ÿè´£åº”ç”¨ç¨‹åºè¿è¡Œçš„Dalvikè¿è¡Œæ—¶ã€‚Googleå¼€å‘è€…å·²ç»èŠ±äº†ä¸¤å¹´æ—¶é—´å¼€å‘æ›´å¿«æ‰§è¡Œæ•ˆçŽ‡æ›´é«˜æ›´çœç”µçš„æ›¿ä»£ARTè¿è¡Œæ—¶ã€‚ARTä»£è¡¨Android Runtime,å…¶å¤„ç†åº”ç”¨ç¨‹åºæ‰§è¡Œçš„æ–¹å¼å®Œå…¨ä¸åŒäºŽDalvikï¼ŒDalvikæ˜¯ä¾é ä¸€ä¸ªJust-In-Time(JIT)ç¼–è¯‘å™¨åŽ»è§£é‡Šå­—èŠ‚ç ã€‚å¼€å‘è€…ç¼–è¯‘åŽçš„åº”ç”¨ä»£ç éœ€è¦é€šè¿‡ä¸€ä¸ªè§£é‡Šå™¨åœ¨ç”¨æˆ·çš„è®¾å¤‡ä¸Šè¿è¡Œï¼Œè¿™ä¸€æœºåˆ¶å¹¶ä¸é«˜æ•ˆï¼Œä½†è®©åº”ç”¨èƒ½æ›´å®¹æ˜“åœ¨ä¸åŒç¡¬ä»¶å’Œæž¶æž„ä¸Šè¿è¡Œã€‚ARTåˆ™å®Œå…¨æ”¹å˜äº†è¿™å¥—åšæ³•ï¼Œåœ¨åº”ç”¨å®‰è£…çš„æ—¶å€™å°±é¢„ç¼–è¯‘å­—èŠ‚ç åˆ°æœºå™¨è¯­è¨€ï¼Œè¿™ä¸€æœºåˆ¶å«Ahead-Of-Time(AOT)ç¼–è¯‘ã€‚åœ¨ç§»é™¤è§£é‡Šä»£ç è¿™ä¸€è¿‡ç¨‹åŽï¼Œåº”ç”¨ç¨‹åºæ‰§è¡Œå°†æ›´æœ‰æ•ˆçŽ‡ï¼Œå¯åŠ¨æ›´å¿«ã€‚ ARTä¼˜ç‚¹ï¼š ç³»ç»Ÿæ€§èƒ½çš„æ˜¾è‘—æå‡ åº”ç”¨å¯åŠ¨æ›´å¿«ã€è¿è¡Œæ›´å¿«ã€ä½“éªŒæ›´æµç•…ã€è§¦æ„Ÿåé¦ˆæ›´åŠæ—¶ æ›´é•¿çš„ç”µæ± ç»­èˆªèƒ½åŠ› æ”¯æŒæ›´ä½Žçš„ç¡¬ä»¶ ARTç¼ºç‚¹ï¼š æ›´å¤§çš„å­˜å‚¨ç©ºé—´å ç”¨ï¼Œå¯èƒ½ä¼šå¢žåŠ 10%-20% æ›´é•¿çš„åº”ç”¨å®‰è£…æ—¶é—´]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Binderæœºåˆ¶]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FAndroid%2FBinder%E6%9C%BA%E5%88%B6%2F</url>
    <content type="text"><![CDATA[Binderæœºåˆ¶ é¦–å…ˆBinderæ˜¯Androidç³»ç»Ÿè¿›ç¨‹é—´é€šä¿¡(IPC)æ–¹å¼ä¹‹ä¸€ã€‚ Binderä½¿ç”¨Clientï¼Serveré€šä¿¡æ–¹å¼ã€‚Binderæ¡†æž¶å®šä¹‰äº†å››ä¸ªè§’è‰²ï¼šServer,Client,ServiceManagerä»¥åŠBinderé©±åŠ¨ã€‚å…¶ä¸­Server,Client,ServiceManagerè¿è¡ŒäºŽç”¨æˆ·ç©ºé—´ï¼Œé©±åŠ¨è¿è¡ŒäºŽå†…æ ¸ç©ºé—´ã€‚Binderé©±åŠ¨ç¨‹åºæä¾›è®¾å¤‡æ–‡ä»¶/dev/binderä¸Žç”¨æˆ·ç©ºé—´äº¤äº’ï¼ŒClientã€Serverå’ŒService Manageré€šè¿‡openå’Œioctlæ–‡ä»¶æ“ä½œå‡½æ•°ä¸ŽBinderé©±åŠ¨ç¨‹åºè¿›è¡Œé€šä¿¡ã€‚ Serveråˆ›å»ºäº†Binderå®žä½“ï¼Œä¸ºå…¶å–ä¸€ä¸ªå­—ç¬¦å½¢å¼ï¼Œå¯è¯»æ˜“è®°çš„åå­—ï¼Œå°†è¿™ä¸ªBinderè¿žåŒåå­—ä»¥æ•°æ®åŒ…çš„å½¢å¼é€šè¿‡Binderé©±åŠ¨å‘é€ç»™ServiceManagerï¼Œé€šçŸ¥ServiceManageræ³¨å†Œä¸€ä¸ªåå­—ä¸ºXXçš„Binderï¼Œå®ƒä½äºŽServerä¸­ã€‚é©±åŠ¨ä¸ºè¿™ä¸ªç©¿è¿‡è¿›ç¨‹è¾¹ç•Œçš„Binderåˆ›å»ºä½äºŽå†…æ ¸ä¸­çš„å®žä½“ç»“ç‚¹ä»¥åŠServiceManagerå¯¹å®žä½“çš„å¼•ç”¨ï¼Œå°†åå­—ä»¥åŠæ–°å»ºçš„å¼•ç”¨æ‰“åŒ…ç»™ServiceManagerã€‚ServiceManageræ”¶æ•°æ®åŒ…åŽï¼Œä»Žä¸­å–å‡ºåå­—å’Œå¼•ç”¨å¡«å…¥ä¸€å¼ æŸ¥æ‰¾è¡¨ä¸­ã€‚ä½†æ˜¯ä¸€ä¸ªServerè‹¥å‘ServiceManageræ³¨å†Œè‡ªå·±Binderå°±å¿…é¡»é€šè¿‡0è¿™ä¸ªå¼•ç”¨å’ŒServiceManagerçš„Binderé€šä¿¡ã€‚Serverå‘ServiceManageræ³¨å†Œäº†Binderå®žä½“åŠå…¶åå­—åŽï¼ŒClientå°±å¯ä»¥é€šè¿‡åå­—èŽ·å¾—è¯¥Binderçš„å¼•ç”¨äº†ã€‚Clentä¹Ÿåˆ©ç”¨ä¿ç•™çš„0å·å¼•ç”¨å‘ServiceManagerè¯·æ±‚è®¿é—®æŸä¸ªBinderï¼šæˆ‘ç”³è¯·åå­—å«XXçš„Binderçš„å¼•ç”¨ã€‚ServiceManageræ”¶åˆ°è¿™ä¸ªè¿žæŽ¥è¯·æ±‚ï¼Œä»Žè¯·æ±‚æ•°æ®åŒ…é‡ŒèŽ·å¾—Binderçš„åå­—ï¼Œåœ¨æŸ¥æ‰¾è¡¨é‡Œæ‰¾åˆ°è¯¥åå­—å¯¹åº”çš„æ¡ç›®ï¼Œä»Žæ¡ç›®ä¸­å–å‡ºBinderå¼•ç”¨ï¼Œå°†è¯¥å¼•ç”¨ä½œä¸ºå›žå¤å‘é€ç»™å‘èµ·è¯·æ±‚çš„Clientã€‚ å½“ç„¶ï¼Œä¸æ˜¯æ‰€æœ‰çš„Binderéƒ½éœ€è¦æ³¨å†Œç»™ServiceManagerå¹¿è€Œå‘Šä¹‹çš„ã€‚Serverç«¯å¯ä»¥é€šè¿‡å·²ç»å»ºç«‹çš„Binderè¿žæŽ¥å°†åˆ›å»ºçš„Binderå®žä½“ä¼ ç»™Clientï¼Œå½“ç„¶è¿™æ¡å·²ç»å»ºç«‹çš„Binderè¿žæŽ¥å¿…é¡»æ˜¯é€šè¿‡å®žåBinderå®žçŽ°ã€‚ç”±äºŽè¿™ä¸ªBinderæ²¡æœ‰å‘ServiceManageræ³¨å†Œåå­—ï¼Œæ‰€ä»¥æ˜¯åŒ¿åBinderã€‚Clientå°†ä¼šæ”¶åˆ°è¿™ä¸ªåŒ¿åBinderçš„å¼•ç”¨ï¼Œé€šè¿‡è¿™ä¸ªå¼•ç”¨å‘ä½äºŽServerä¸­çš„å®žä½“å‘é€è¯·æ±‚ã€‚åŒ¿åBinderä¸ºé€šä¿¡åŒæ–¹å»ºç«‹ä¸€æ¡ç§å¯†é€šé“ï¼Œåªè¦Serveræ²¡æœ‰æŠŠåŒ¿åBinderå‘ç»™åˆ«çš„è¿›ç¨‹ï¼Œåˆ«çš„è¿›ç¨‹å°±æ— æ³•é€šè¿‡ç©·ä¸¾æˆ–çŒœæµ‹ç­‰ä»»ä½•æ–¹å¼èŽ·å¾—è¯¥Binderçš„å¼•ç”¨ï¼Œå‘è¯¥Binderå‘é€è¯·æ±‚ã€‚ ä¸ºä»€ä¹ˆBinderåªè¿›è¡Œäº†ä¸€æ¬¡æ•°æ®æ‹·è´ï¼ŸLinuxå†…æ ¸å®žé™…ä¸Šæ²¡æœ‰ä»Žä¸€ä¸ªç”¨æˆ·ç©ºé—´åˆ°å¦ä¸€ä¸ªç”¨æˆ·ç©ºé—´ç›´æŽ¥æ‹·è´çš„å‡½æ•°ï¼Œéœ€è¦å…ˆç”¨copy_from_user()æ‹·è´åˆ°å†…æ ¸ç©ºé—´ï¼Œå†ç”¨copy_to_user()æ‹·è´åˆ°å¦ä¸€ä¸ªç”¨æˆ·ç©ºé—´ã€‚ä¸ºäº†å®žçŽ°ç”¨æˆ·ç©ºé—´åˆ°ç”¨æˆ·ç©ºé—´çš„æ‹·è´ï¼Œmmap()åˆ†é…çš„å†…å­˜é™¤äº†æ˜ å°„è¿›äº†æŽ¥æ”¶æ–¹è¿›ç¨‹é‡Œï¼Œè¿˜æ˜ å°„è¿›äº†å†…æ ¸ç©ºé—´ã€‚æ‰€ä»¥è°ƒç”¨copy_from_user()å°†æ•°æ®æ‹·è´è¿›å†…æ ¸ç©ºé—´ä¹Ÿç›¸å½“äºŽæ‹·è´è¿›äº†æŽ¥æ”¶æ–¹çš„ç”¨æˆ·ç©ºé—´ï¼Œè¿™å°±æ˜¯Binderåªéœ€ä¸€æ¬¡æ‹·è´çš„â€˜ç§˜å¯†â€™ã€‚ æœ€åº•å±‚çš„æ˜¯Androidçš„ashmen(Anonymous shared memory)æœºåˆ¶ï¼Œå®ƒè´Ÿè´£è¾…åŠ©å®žçŽ°å†…å­˜çš„åˆ†é…ï¼Œä»¥åŠè·¨è¿›ç¨‹æ‰€éœ€è¦çš„å†…å­˜å…±äº«ã€‚AIDL(android interface definition language)å¯¹Binderçš„ä½¿ç”¨è¿›è¡Œäº†å°è£…ï¼Œå¯ä»¥è®©å¼€å‘è€…æ–¹ä¾¿çš„è¿›è¡Œæ–¹æ³•çš„è¿œç¨‹è°ƒç”¨ï¼ŒåŽé¢ä¼šè¯¦ç»†ä»‹ç»ã€‚Intentæ˜¯æœ€é«˜ä¸€å±‚çš„æŠ½è±¡ï¼Œæ–¹ä¾¿å¼€å‘è€…è¿›è¡Œå¸¸ç”¨çš„è·¨è¿›ç¨‹è°ƒç”¨ã€‚ ä»Žè‹±æ–‡å­—é¢ä¸Šæ„æ€çœ‹ï¼ŒBinderå…·æœ‰ç²˜ç»“å‰‚çš„æ„æ€é‚£ä¹ˆå®ƒæ˜¯æŠŠä»€ä¹ˆä¸œè¥¿ç²˜æŽ¥åœ¨ä¸€èµ·å‘¢ï¼Ÿåœ¨Androidç³»ç»Ÿçš„Binderæœºåˆ¶ä¸­ï¼Œç”±ä¸€ç³»ç»Ÿç»„ä»¶ç»„æˆï¼Œåˆ†åˆ«æ˜¯Clientã€Serverã€Service Managerå’ŒBinderé©±åŠ¨ï¼Œå…¶ä¸­Clientã€Serverã€Service Managerè¿è¡Œåœ¨ç”¨æˆ·ç©ºé—´ï¼ŒBinderé©±åŠ¨ç¨‹åºè¿è¡Œå†…æ ¸ç©ºé—´ã€‚Binderå°±æ˜¯ä¸€ç§æŠŠè¿™å››ä¸ªç»„ä»¶ç²˜åˆåœ¨ä¸€èµ·çš„ç²˜è¿žå‰‚äº†ï¼Œå…¶ä¸­ï¼Œæ ¸å¿ƒç»„ä»¶ä¾¿æ˜¯Binderé©±åŠ¨ç¨‹åºäº†ï¼ŒServiceManageræä¾›äº†è¾…åŠ©ç®¡ç†çš„åŠŸèƒ½ï¼ŒClientå’ŒServeræ­£æ˜¯Binderé©±åŠ¨å’ŒServiceManageræä¾›çš„åŸºç¡€è®¾æ–½ä¸Šï¼Œè¿›è¡ŒClient-Serverä¹‹é—´çš„é€šä¿¡ã€‚ Clientã€Serverå’ŒServiceManagerå®žçŽ°åœ¨ç”¨æˆ·ç©ºé—´ä¸­ï¼ŒBinderé©±åŠ¨å®žçŽ°åœ¨å†…æ ¸ç©ºé—´ä¸­ Binderé©±åŠ¨ç¨‹åºå’ŒServiceManageråœ¨Androidå¹³å°ä¸­å·²ç»å®žçŽ°ï¼Œå¼€å‘è€…åªéœ€è¦åœ¨ç”¨æˆ·ç©ºé—´å®žçŽ°è‡ªå·±çš„Clientå’ŒServer Binderé©±åŠ¨ç¨‹åºæä¾›è®¾å¤‡æ–‡ä»¶/dev/binderä¸Žç”¨æˆ·ç©ºé—´äº¤äº’ï¼ŒClientã€Serverå’ŒServiceManageré€šè¿‡openå’Œioctlæ–‡ä»¶æ“ä½œå‡½æ•°ä¸ŽBinderé©±åŠ¨ç¨‹åºè¿›è¡Œé€šä¿¡ Clientå’ŒServerä¹‹é—´çš„è¿›ç¨‹é—´é€šä¿¡é€šè¿‡Binderé©±åŠ¨ç¨‹åºé—´æŽ¥å®žçŽ° ServiceManageræ˜¯ä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹ï¼Œç”¨æ¥ç®¡ç†Serverï¼Œå¹¶å‘Clientæä¾›æŸ¥è¯¢ServeræŽ¥å£çš„èƒ½åŠ› æœåŠ¡å™¨ç«¯ï¼šä¸€ä¸ªBinderæœåŠ¡å™¨å°±æ˜¯ä¸€ä¸ªBinderç±»çš„å¯¹è±¡ã€‚å½“åˆ›å»ºä¸€ä¸ªBinderå¯¹è±¡åŽï¼Œå†…éƒ¨å°±ä¼šå¼€å¯ä¸€ä¸ªçº¿ç¨‹ï¼Œè¿™ä¸ªçº¿ç¨‹ç”¨æˆ·æŽ¥æ”¶binderé©±åŠ¨å‘é€çš„æ¶ˆæ¯ï¼Œæ”¶åˆ°æ¶ˆæ¯åŽï¼Œä¼šæ‰§è¡Œç›¸å…³çš„æœåŠ¡ä»£ç ã€‚ Binderé©±åŠ¨ï¼šå½“æœåŠ¡ç«¯æˆåŠŸåˆ›å»ºä¸€ä¸ªBinderå¯¹è±¡åŽï¼ŒBinderé©±åŠ¨ä¹Ÿä¼šç›¸åº”åˆ›å»ºä¸€ä¸ªmRemoteå¯¹è±¡ï¼Œè¯¥å¯¹è±¡çš„ç±»åž‹ä¹Ÿæ˜¯Binderç±»ï¼Œå®¢æˆ·å°±å¯ä»¥å€ŸåŠ©è¿™ä¸ªmRemoteå¯¹è±¡æ¥è®¿é—®è¿œç¨‹æœåŠ¡ã€‚ å®¢æˆ·ç«¯ï¼šå®¢æˆ·ç«¯è¦æƒ³è®¿é—®Binderçš„è¿œç¨‹æœåŠ¡ï¼Œå°±å¿…é¡»èŽ·å–è¿œç¨‹æœåŠ¡çš„Binderå¯¹è±¡åœ¨binderé©±åŠ¨å±‚å¯¹åº”çš„binderé©±åŠ¨å±‚å¯¹åº”çš„mRemoteå¼•ç”¨ã€‚å½“èŽ·å–åˆ°mRemoteå¯¹è±¡çš„å¼•ç”¨åŽï¼Œå°±å¯ä»¥è°ƒç”¨ç›¸åº”Bindeå¯¹è±¡çš„æœåŠ¡äº†ã€‚ åœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå®¢æˆ·æ˜¯é€šè¿‡Binderé©±åŠ¨æ¥è°ƒç”¨æœåŠ¡ç«¯çš„ç›¸å…³æœåŠ¡ã€‚é¦–å…ˆï¼Œåœ¨æœåŠ¡ç«¯åˆ›å»ºä¸€ä¸ªBinderå¯¹è±¡ï¼ŒæŽ¥ç€å®¢æˆ·ç«¯é€šè¿‡èŽ·å–Binderé©±åŠ¨ä¸­Binderå¯¹è±¡çš„å¼•ç”¨æ¥è°ƒç”¨æœåŠ¡ç«¯çš„æœåŠ¡ã€‚åœ¨Binderæœºåˆ¶ä¸­æ­£æ˜¯å€Ÿç€Binderé©±åŠ¨å°†ä¸åŒè¿›ç¨‹é—´çš„ç»„ä»¶bind(ç²˜è¿ž)åœ¨ä¸€èµ·ï¼Œå®žçŽ°é€šä¿¡ã€‚ mmapå°†ä¸€ä¸ªæ–‡ä»¶æˆ–è€…å…¶ä»–å¯¹è±¡æ˜ å°„è¿›å†…å­˜ã€‚æ–‡ä»¶è¢«æ˜ å°„è¿›å†…å­˜ã€‚æ–‡ä»¶è¢«æ˜ å°„åˆ°å¤šä¸ªé¡µä¸Šï¼Œå¦‚æžœæ–‡ä»¶çš„å¤§å°ä¸æ˜¯æ‰€æœ‰é¡µçš„å¤§å°ä¹‹å’Œï¼Œæœ€åŽä¸€ä¸ªé¡µä¸è¢«ä½¿ç”¨çš„ç©ºé—´å°†ä¼šå‡‹é›¶ã€‚munmapæ‰§è¡Œç›¸åçš„æ“ä½œï¼Œåˆ é™¤ç‰¹å®šåœ°å€åŒºåŸŸçš„å¯¹è±¡æ˜ å°„ã€‚ å½“ä½¿ç”¨mmapæ˜ å°„æ–‡ä»¶åˆ°è¿›ç¨‹åŽï¼Œå°±å¯ä»¥ç›´æŽ¥æ“ä½œè¿™æ®µè™šæ‹Ÿåœ°å€è¿›è¡Œæ–‡ä»¶çš„è¯»å†™ç­‰æ“ä½œï¼Œä¸å¿…å†è°ƒç”¨read,writeç­‰ç³»ç»Ÿè°ƒç”¨ã€‚ä½†éœ€æ³¨æ„ï¼Œç›´æŽ¥å¯¹è¯¥æ®µå†…å­˜å†™æ—¶ä¸ä¼šå†™å…¥è¶…è¿‡å½“å‰æ–‡ä»¶å¤§å°çš„å†…å®¹ã€‚ ä½¿ç”¨å…±äº«å†…å­˜é€šä¿¡çš„ä¸€ä¸ªæ˜¾è€Œæ˜“è§çš„å¥½å¤„æ˜¯æ•ˆçŽ‡é«˜ï¼Œå› ä¸ºè¿›ç¨‹å¯ä»¥ç›´æŽ¥è¯»å†™å†…å­˜ï¼Œè€Œä¸éœ€è¦ä»»ä½•æ•°æ®çš„æ‹·è´ã€‚å¯¹äºŽåƒç®¡é“å’Œæ¶ˆæ¯é˜Ÿåˆ—ç­‰é€šä¿¡æ–¹å¼ï¼Œåˆ™éœ€è¦åœ¨å†…æ ¸å’Œç”¨æˆ·ç©ºé—´è¿›è¡Œå››æ¬¡çš„æ•°æ®æ‹·è´ï¼Œè€Œå…±äº«å†…å­˜åˆ™åªæ‹·è´ä¸¤æ¬¡å†…å­˜æ•°æ®ï¼šä¸€æ¬¡ä»Žè¾“å…¥æ–‡ä»¶åˆ°å…±äº«å†…å­˜åŒºï¼Œå¦ä¸€æ¬¡ä»Žå…±äº«å†…å­˜åˆ°è¾“å‡ºæ–‡ä»¶ã€‚å®žé™…ä¸Šï¼Œè¿›ç¨‹ä¹‹é—´åœ¨å…±äº«å†…å­˜æ—¶ï¼Œå¹¶ä¸æ€»æ˜¯è¯»å†™å°‘é‡æ•°æ®åŽå°±è§£é™¤æ˜ å°„ï¼Œæœ‰æ–°çš„é€šä¿¡æ—¶ï¼Œå†é‡æ–°å»ºç«‹å…±äº«å†…å­˜åŒºåŸŸï¼Œè€Œæ˜¯ä¿æŒå…±äº«åŒºåŸŸï¼Œç›´åˆ°é€šä¿¡å®Œæˆä¸ºæ­¢ï¼Œè¿™æ ·ï¼Œæ•°æ®å†…å®¹ä¸€ç›´ä¿å­˜åœ¨å…±äº«å†…å­˜ä¸­ï¼Œå¹¶æ²¡æœ‰å†™å›žæ–‡ä»¶ã€‚å…±äº«å†…å­˜ä¸­çš„å†…å®¹å¾€å¾€æ˜¯åœ¨è§£é™¤å†…å­˜æ˜ å°„æ—¶æ‰å†™å›žæ–‡ä»¶çš„ã€‚å› æ­¤ï¼Œé‡‡ç”¨å…±äº«å†…å­˜çš„é€šä¿¡æ–¹å¼æ•ˆçŽ‡æ˜¯éžå¸¸é«˜çš„ã€‚ aidlä¸»è¦å°±å¸®åŠ©äº†æˆ‘ä»¬å®Œæˆäº†åŒ…è£…æ•°æ®å’Œè§£åŒ…çš„è¿‡ç¨‹ï¼Œå¹¶è°ƒç”¨äº†transactè¿‡ç¨‹ï¼Œè€Œç”¨æ¥ä¼ é€’çš„æ•°æ®åŒ…æˆ‘ä»¬å°±ç§°ä¸ºparcel AIDL:xxx.aidl -&gt; xxx.java ,æ³¨å†Œservice ç”¨aidlå®šä¹‰éœ€è¦è¢«è°ƒç”¨æ–¹æ³•æŽ¥å£ å®žçŽ°è¿™äº›æ–¹æ³• è°ƒç”¨è¿™äº›æ–¹æ³•]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[EventBus]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FAndroid%2FEventBus%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[EventBus æ¦‚è¿°EventBusæ˜¯ä¸€æ¬¾é’ˆå¯¹Androidä¼˜åŒ–çš„å‘å¸ƒ/è®¢é˜…ï¼ˆpublish/subscribeï¼‰äº‹ä»¶æ€»çº¿ã€‚ä¸»è¦åŠŸèƒ½æ˜¯æ›¿ä»£Intent,Handler,BroadCaståœ¨Fragmentï¼ŒActivityï¼ŒServiceï¼Œçº¿ç¨‹ä¹‹é—´ä¼ é€’æ¶ˆæ¯ã€‚ç®€åŒ–äº†åº”ç”¨ç¨‹åºå†…å„ç»„ä»¶é—´ã€ç»„ä»¶ä¸ŽåŽå°çº¿ç¨‹é—´çš„é€šä¿¡ã€‚ä¼˜ç‚¹æ˜¯å¼€é”€å°ï¼Œä»£ç æ›´ä¼˜é›…ã€‚ä»¥åŠå°†å‘é€è€…å’ŒæŽ¥æ”¶è€…è§£è€¦ã€‚æ¯”å¦‚è¯·æ±‚ç½‘ç»œï¼Œç­‰ç½‘ç»œè¿”å›žæ—¶é€šè¿‡Handleræˆ–Broadcasté€šçŸ¥UIï¼Œä¸¤ä¸ªFragmentä¹‹é—´éœ€è¦é€šè¿‡Listeneré€šä¿¡ï¼Œè¿™äº›éœ€æ±‚éƒ½å¯ä»¥é€šè¿‡EventBuså®žçŽ°ã€‚ EventBusä½œä¸ºä¸€ä¸ªæ¶ˆæ¯æ€»çº¿ï¼Œæœ‰ä¸‰ä¸ªä¸»è¦çš„å…ƒç´ ï¼š Eventï¼šäº‹ä»¶ã€‚å¯ä»¥æ˜¯ä»»æ„ç±»åž‹çš„å¯¹è±¡ Subscriberï¼šäº‹ä»¶è®¢é˜…è€…ï¼ŒæŽ¥æ”¶ç‰¹å®šçš„äº‹ä»¶ã€‚åœ¨EventBusä¸­ï¼Œä½¿ç”¨çº¦å®šæ¥æŒ‡å®šäº‹ä»¶è®¢é˜…è€…ä»¥ç®€åŒ–ä½¿ç”¨ã€‚å³æ‰€æœ‰äº‹ä»¶è®¢é˜…éƒ½éƒ½æ˜¯ä»¥onEventå¼€å¤´çš„å‡½æ•°ï¼Œå…·ä½“æ¥è¯´ï¼Œå‡½æ•°çš„åå­—æ˜¯onEvent,onEventMainThreadï¼ŒonEventBackgroundThreadï¼ŒonEventAsyncè¿™å››ä¸ªï¼Œè¿™ä¸ªå’ŒThreadModeï¼ˆä¸‹é¢è®²ï¼‰æœ‰å…³ã€‚ Publisherï¼šäº‹ä»¶å‘å¸ƒè€…ï¼Œç”¨äºŽé€šçŸ¥ Subscriber æœ‰äº‹ä»¶å‘ç”Ÿã€‚å¯ä»¥åœ¨ä»»æ„çº¿ç¨‹ä»»æ„ä½ç½®å‘é€äº‹ä»¶ï¼Œç›´æŽ¥è°ƒç”¨eventBus.post(Object) æ–¹æ³•ï¼Œå¯ä»¥è‡ªå·±å®žä¾‹åŒ– EventBuså¯¹è±¡ï¼Œä½†ä¸€èˆ¬ä½¿ç”¨é»˜è®¤çš„å•ä¾‹å°±å¥½äº†ï¼šEventBus.getDefault()ï¼Œ æ ¹æ®postå‡½æ•°å‚æ•°çš„ç±»åž‹ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨è®¢é˜…ç›¸åº”ç±»åž‹äº‹ä»¶çš„å‡½æ•°ã€‚ å…³äºŽThreadModeå‰é¢è¯´äº†ï¼ŒSubscriberçš„å‡½æ•°åªèƒ½æ˜¯é‚£4ä¸ªï¼Œå› ä¸ºæ¯ä¸ªäº‹ä»¶è®¢é˜…å‡½æ•°éƒ½æ˜¯å’Œä¸€ä¸ªThreadModeç›¸å…³è”çš„ï¼ŒThreadModeæŒ‡å®šäº†ä¼šè°ƒç”¨çš„å‡½æ•°ã€‚æœ‰ä»¥ä¸‹å››ä¸ªThreadModeï¼š PostThreadï¼šäº‹ä»¶çš„å¤„ç†åœ¨å’Œäº‹ä»¶çš„å‘é€åœ¨ç›¸åŒçš„è¿›ç¨‹ï¼Œæ‰€ä»¥äº‹ä»¶å¤„ç†æ—¶é—´ä¸åº”å¤ªé•¿ï¼Œä¸ç„¶å½±å“äº‹ä»¶çš„å‘é€çº¿ç¨‹ï¼Œè€Œè¿™ä¸ªçº¿ç¨‹å¯èƒ½æ˜¯UIçº¿ç¨‹ã€‚å¯¹åº”çš„å‡½æ•°åæ˜¯onEventã€‚ MainThread: äº‹ä»¶çš„å¤„ç†ä¼šåœ¨UIçº¿ç¨‹ä¸­æ‰§è¡Œã€‚äº‹ä»¶å¤„ç†æ—¶é—´ä¸èƒ½å¤ªé•¿ï¼Œè¿™ä¸ªä¸ç”¨è¯´çš„ï¼Œé•¿äº†ä¼šANRçš„ï¼Œå¯¹åº”çš„å‡½æ•°åæ˜¯onEventMainThreadã€‚ BackgroundThreadï¼šäº‹ä»¶çš„å¤„ç†ä¼šåœ¨ä¸€ä¸ªåŽå°çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œå¯¹åº”çš„å‡½æ•°åæ˜¯onEventBackgroundThreadï¼Œè™½ç„¶åå­—æ˜¯BackgroundThreadï¼Œäº‹ä»¶å¤„ç†æ˜¯åœ¨åŽå°çº¿ç¨‹ï¼Œä½†äº‹ä»¶å¤„ç†æ—¶é—´è¿˜æ˜¯ä¸åº”è¯¥å¤ªé•¿ï¼Œå› ä¸ºå¦‚æžœå‘é€äº‹ä»¶çš„çº¿ç¨‹æ˜¯åŽå°çº¿ç¨‹ï¼Œä¼šç›´æŽ¥æ‰§è¡Œäº‹ä»¶ï¼Œå¦‚æžœå½“å‰çº¿ç¨‹æ˜¯UIçº¿ç¨‹ï¼Œäº‹ä»¶ä¼šè¢«åŠ åˆ°ä¸€ä¸ªé˜Ÿåˆ—ä¸­ï¼Œç”±ä¸€ä¸ªçº¿ç¨‹ä¾æ¬¡å¤„ç†è¿™äº›äº‹ä»¶ï¼Œå¦‚æžœæŸä¸ªäº‹ä»¶å¤„ç†æ—¶é—´å¤ªé•¿ï¼Œä¼šé˜»å¡žåŽé¢çš„äº‹ä»¶çš„æ´¾å‘æˆ–å¤„ç†ã€‚ Asyncï¼šäº‹ä»¶å¤„ç†ä¼šåœ¨å•ç‹¬çš„çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œä¸»è¦ç”¨äºŽåœ¨åŽå°çº¿ç¨‹ä¸­æ‰§è¡Œè€—æ—¶æ“ä½œï¼Œæ¯ä¸ªäº‹ä»¶ä¼šå¼€å¯ä¸€ä¸ªçº¿ç¨‹ï¼ˆæœ‰çº¿ç¨‹æ± ï¼‰ï¼Œä½†æœ€å¥½é™åˆ¶çº¿ç¨‹çš„æ•°ç›®ã€‚ æ ¹æ®äº‹ä»¶è®¢é˜…éƒ½å‡½æ•°åç§°çš„ä¸åŒï¼Œä¼šä½¿ç”¨ä¸åŒçš„ThreadModeï¼Œæ¯”å¦‚æžœåœ¨åŽå°çº¿ç¨‹åŠ è½½äº†æ•°æ®æƒ³åœ¨UIçº¿ç¨‹æ˜¾ç¤ºï¼Œè®¢é˜…è€…åªéœ€æŠŠå‡½æ•°å‘½åonEventMainThreadã€‚ å¯¹ç›¸åº”çš„å‡½æ•°åï¼Œè¿›ä¸€æ­¥è§£é‡Šä¸€ä¸‹ï¼š onEvent:å¦‚æžœä½¿ç”¨onEventä½œä¸ºè®¢é˜…å‡½æ•°ï¼Œé‚£ä¹ˆè¯¥äº‹ä»¶åœ¨å“ªä¸ªçº¿ç¨‹å‘å¸ƒå‡ºæ¥çš„ï¼ŒonEventå°±ä¼šåœ¨è¿™ä¸ªçº¿ç¨‹ä¸­è¿è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´å‘å¸ƒäº‹ä»¶å’ŒæŽ¥æ”¶äº‹ä»¶çº¿ç¨‹åœ¨åŒä¸€ä¸ªçº¿ç¨‹ã€‚ä½¿ç”¨è¿™ä¸ªæ–¹æ³•æ—¶ï¼Œåœ¨onEventæ–¹æ³•ä¸­ä¸èƒ½æ‰§è¡Œè€—æ—¶æ“ä½œï¼Œå¦‚æžœæ‰§è¡Œè€—æ—¶æ“ä½œå®¹æ˜“å¯¼è‡´äº‹ä»¶åˆ†å‘å»¶è¿Ÿã€‚ onEventMainThread:å¦‚æžœä½¿ç”¨onEventMainThreadä½œä¸ºè®¢é˜…å‡½æ•°ï¼Œé‚£ä¹ˆä¸è®ºäº‹ä»¶æ˜¯åœ¨å“ªä¸ªçº¿ç¨‹ä¸­å‘å¸ƒå‡ºæ¥çš„ï¼ŒonEventMainThreadéƒ½ä¼šåœ¨UIçº¿ç¨‹ä¸­æ‰§è¡Œï¼ŒæŽ¥æ”¶äº‹ä»¶å°±ä¼šåœ¨UIçº¿ç¨‹ä¸­è¿è¡Œï¼Œè¿™ä¸ªåœ¨Androidä¸­æ˜¯éžå¸¸æœ‰ç”¨çš„ï¼Œå› ä¸ºåœ¨Androidä¸­åªèƒ½åœ¨UIçº¿ç¨‹ä¸­è·Ÿæ–°UIï¼Œæ‰€ä»¥åœ¨onEvnetMainThreadæ–¹æ³•ä¸­æ˜¯ä¸èƒ½æ‰§è¡Œè€—æ—¶æ“ä½œçš„ã€‚ onEventBackground:å¦‚æžœä½¿ç”¨onEventBackgrondä½œä¸ºè®¢é˜…å‡½æ•°ï¼Œé‚£ä¹ˆå¦‚æžœäº‹ä»¶æ˜¯åœ¨UIçº¿ç¨‹ä¸­å‘å¸ƒå‡ºæ¥çš„ï¼Œé‚£ä¹ˆonEventBackgroundå°±ä¼šåœ¨å­çº¿ç¨‹ä¸­è¿è¡Œï¼Œå¦‚æžœäº‹ä»¶æœ¬æ¥å°±æ˜¯å­çº¿ç¨‹ä¸­å‘å¸ƒå‡ºæ¥çš„ï¼Œé‚£ä¹ˆonEventBackgroundå‡½æ•°ç›´æŽ¥åœ¨è¯¥å­çº¿ç¨‹ä¸­æ‰§è¡Œã€‚ onEventAsyncï¼šä½¿ç”¨è¿™ä¸ªå‡½æ•°ä½œä¸ºè®¢é˜…å‡½æ•°ï¼Œé‚£ä¹ˆæ— è®ºäº‹ä»¶åœ¨å“ªä¸ªçº¿ç¨‹å‘å¸ƒï¼Œéƒ½ä¼šåˆ›å»ºæ–°çš„å­çº¿ç¨‹åœ¨æ‰§è¡ŒonEventAsyncã€‚ åŸºæœ¬ç”¨æ³•å¼•å…¥EventBus:1compile 'org.greenrobot:eventbus:3.0.0' å®šä¹‰äº‹ä»¶: 1public class MessageEvent &#123; /* Additional fields if needed */ &#125; æ³¨å†Œäº‹ä»¶æŽ¥æ”¶è€…ï¼š 1eventBus.register(this); å‘é€äº‹ä»¶: 1eventBus.post(event) æŽ¥æ”¶æ¶ˆæ¯å¹¶å¤„ç†: 123// 3.0åŽä¸å†è¦æ±‚äº‹ä»¶ä»¥ onEvent å¼€å¤´ï¼Œè€Œæ˜¯é‡‡ç”¨æ³¨è§£çš„æ–¹å¼@Subscribe(threadMode = ThreadMode.MAIN)public void receive(MessageEvent event)&#123;&#125; æ³¨é”€äº‹ä»¶æŽ¥æ”¶ï¼š 1eventBus.unregister(this); ç´¢å¼•åŠ é€Ÿï¼š 123.0 åŽå¼•å…¥äº†ç´¢å¼•åŠ é€Ÿ(é»˜è®¤ä¸å¼€å¯)çš„åŠŸèƒ½ï¼Œå³é€šè¿‡ apt ç¼–è¯‘æ’ä»¶çš„æ–¹å¼ï¼Œåœ¨ä»£ç ç¼–è¯‘çš„æ—¶å€™å¯¹æ³¨è§£è¿›è¡Œç´¢å¼•ï¼Œé¿å…äº†ä»¥å¾€é€šè¿‡åå°„é€ æˆçš„æ€§èƒ½æŸè€—ã€‚å¦‚ä½•ä½¿ç”¨å¯ä»¥å‚è€ƒ[å®˜æ–¹æ–‡æ¡£](http://greenrobot.org/eventbus/documentation/subscriber-index/) æœ€åŽï¼Œproguard éœ€è¦åšä¸€äº›é¢å¤–å¤„ç†: 12345#EventBus -keepclassmembers class ** &#123; public void onEvent*(**); void onEvent*(**); &#125;]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Androidå‡ ç§è¿›ç¨‹]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FAndroid%2FAndroid%E5%87%A0%E7%A7%8D%E8%BF%9B%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[Androidå‡ ç§è¿›ç¨‹ å‰å°è¿›ç¨‹ï¼šå³ä¸Žç”¨æˆ·æ­£åœ¨äº¤äº’çš„Activityæˆ–è€…Activityç”¨åˆ°çš„Serviceç­‰ï¼Œå¦‚æžœç³»ç»Ÿå†…å­˜ä¸è¶³æ—¶å‰å°è¿›ç¨‹æ˜¯æœ€åŽè¢«æ€æ­»çš„ å¯è§è¿›ç¨‹ï¼šå¯ä»¥æ˜¯å¤„äºŽæš‚åœçŠ¶æ€(onPause)çš„Activityæˆ–è€…ç»‘å®šåœ¨å…¶ä¸Šçš„Serviceï¼Œå³è¢«ç”¨æˆ·å¯è§ï¼Œä½†ç”±äºŽå¤±åŽ»äº†ç„¦ç‚¹è€Œä¸èƒ½ä¸Žç”¨æˆ·äº¤äº’ æœåŠ¡è¿›ç¨‹ï¼šå…¶ä¸­è¿è¡Œç€ä½¿ç”¨startServiceæ–¹æ³•å¯åŠ¨çš„Serviceï¼Œè™½ç„¶ä¸è¢«ç”¨æˆ·å¯è§ï¼Œä½†æ˜¯å´æ˜¯ç”¨æˆ·å…³å¿ƒçš„ï¼Œä¾‹å¦‚ç”¨æˆ·æ­£åœ¨éžéŸ³ä¹ç•Œé¢å¬çš„éŸ³ä¹æˆ–è€…æ­£åœ¨éžä¸‹è½½é¡µé¢è‡ªå·±ä¸‹è½½çš„æ–‡ä»¶ç­‰ï¼›å½“ç³»ç»Ÿè¦ç©ºé—´è¿è¡Œå‰ä¸¤è€…è¿›ç¨‹æ—¶æ‰ä¼šè¢«ç»ˆæ­¢ åŽå°è¿›ç¨‹ï¼šå…¶ä¸­è¿è¡Œç€æ‰§è¡ŒonStopæ–¹æ³•è€Œåœæ­¢çš„ç¨‹åºï¼Œä½†æ˜¯å´ä¸æ˜¯ç”¨æˆ·å½“å‰å…³å¿ƒçš„ï¼Œä¾‹å¦‚åŽå°æŒ‚ç€çš„QQï¼Œè¿™æ ·çš„è¿›ç¨‹ç³»ç»Ÿä¸€æ—¦æ²¡äº†æœ‰å†…å­˜å°±é¦–å…ˆè¢«æ€æ­» ç©ºè¿›ç¨‹ï¼šä¸åŒ…å«ä»»ä½•åº”ç”¨ç¨‹åºçš„ç¨‹åºç»„ä»¶çš„è¿›ç¨‹ï¼Œè¿™æ ·çš„è¿›ç¨‹ç³»ç»Ÿæ˜¯ä¸€èˆ¬ä¸ä¼šè®©ä»–å­˜åœ¨çš„ å¦‚ä½•é¿å…åŽå°è¿›ç¨‹è¢«æ€æ­»ï¼š è°ƒç”¨startForegoundï¼Œè®©ä½ çš„Serviceæ‰€åœ¨çš„çº¿ç¨‹æˆä¸ºå‰å°è¿›ç¨‹ Serviceçš„onStartCommondè¿”å›žSTART_STICKYæˆ–START_REDELIVER_INTENT Serviceçš„onDestroyé‡Œé¢é‡æ–°å¯åŠ¨è‡ªå·±]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Git æ“ä½œ]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FAndroid%2FGit%E6%93%8D%E4%BD%9C%2F</url>
    <content type="text"><![CDATA[Git æ“ä½œgit å‘½ä»¤ åˆ›å»ºæœ¬åœ°ä»“åº“ 1git init èŽ·å–è¿œç¨‹ä»“åº“ 12git clone [url]ä¾‹ï¼šgit clone https://github.com/you/yourpro.git åˆ›å»ºè¿œç¨‹ä»“åº“ 12345678910111213141516// æ·»åŠ ä¸€ä¸ªæ–°çš„ remote è¿œç¨‹ä»“åº“git remote add [remote-name] [url]ä¾‹ï¼šgit remote add origin https://github.com/you/yourpro.gitoriginï¼šç›¸å½“äºŽè¯¥è¿œç¨‹ä»“åº“çš„åˆ«å// åˆ—å‡ºæ‰€æœ‰ remote çš„åˆ«ågit remote// åˆ—å‡ºæ‰€æœ‰ remote çš„ urlgit remote -v// åˆ é™¤ä¸€ä¸ª renotegit remote rm [name]// é‡å‘½å remotegit remote rename [old-name] [new-name] ä»Žæœ¬åœ°ä»“åº“ä¸­åˆ é™¤ 123git rm file.txt // ä»Žç‰ˆæœ¬åº“ä¸­ç§»é™¤ï¼Œåˆ é™¤æ–‡ä»¶git rm file.txt -cached // ä»Žç‰ˆæœ¬åº“ä¸­ç§»é™¤ï¼Œä¸åˆ é™¤åŽŸå§‹æ–‡ä»¶git rm -r xxx // ä»Žç‰ˆæœ¬åº“ä¸­åˆ é™¤æŒ‡å®šæ–‡ä»¶å¤¹ ä»Žæœ¬åœ°ä»“åº“ä¸­æ·»åŠ æ–°çš„æ–‡ä»¶ 12git add . // æ·»åŠ æ‰€æœ‰æ–‡ä»¶git add file.txt // æ·»åŠ æŒ‡å®šæ–‡ä»¶ æäº¤ï¼ŒæŠŠç¼“å­˜å†…å®¹æäº¤åˆ° HEAD é‡Œ 1git commit -m "æ³¨é‡Š" æ’¤é”€ 1234567891011// æ’¤é”€æœ€è¿‘çš„ä¸€ä¸ªæäº¤.git revert HEAD// å–æ¶ˆ commit + addgit reset --mixed// å–æ¶ˆ commitgit reset --soft// å–æ¶ˆ commit + add + local workinggit reset --hard æŠŠæœ¬åœ°æäº¤ push åˆ°è¿œç¨‹æœåŠ¡å™¨ 12git push [remote-name] [loca-branch]:[remote-branch]ä¾‹ï¼šgit push origin master:master æŸ¥çœ‹çŠ¶æ€ 1git status ä»Žè¿œç¨‹åº“ä¸­ä¸‹è½½æ–°çš„æ”¹åŠ¨ 1git fetch [remote-name]/[branch] åˆå¹¶ä¸‹è½½çš„æ”¹åŠ¨åˆ°åˆ†æ”¯ 1git merge [remote-name]/[branch] ä»Žè¿œç¨‹åº“ä¸­ä¸‹è½½æ–°çš„æ”¹åŠ¨ 1234pull = fetch + mergegit pull [remote-name] [branch]ä¾‹ï¼šgit pull origin master åˆ†æ”¯ 1234567891011// åˆ—å‡ºåˆ†æ”¯git branch// åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯git branch (branch-name)// åˆ é™¤ä¸€ä¸ªåˆ†æ”¯git branch -d (branch-nam)// åˆ é™¤ remote çš„åˆ†æ”¯git push (remote-name) :(remote-branch) åˆ‡æ¢åˆ†æ”¯ 12345// åˆ‡æ¢åˆ°ä¸€ä¸ªåˆ†æ”¯git checkout [branch-name]// åˆ›å»ºå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯git checkout -b [branch-name] ä¸Žgithubå»ºç«‹sshé€šä¿¡ï¼Œè®©Gitæ“ä½œå…åŽ»è¾“å…¥å¯†ç çš„ç¹çã€‚ é¦–å…ˆå‘¢ï¼Œæˆ‘ä»¬å…ˆå»ºç«‹sshå¯†åŒ™ã€‚ ssh key must begin with â€˜ssh-ed25519â€™, â€˜ssh-rsaâ€™, â€˜ssh-dssâ€™, â€˜ecdsa-sha2-nistp256â€™, â€˜ecdsa-sha2-nistp384â€™, or â€˜ecdsa-sha2-nistp521â€™. â€” from github æ ¹æ®ä»¥ä¸Šæ–‡æ®µæˆ‘ä»¬å¯ä»¥çŸ¥é“githubæ‰€æ”¯æŒçš„sshå¯†åŒ™ç±»åž‹ï¼Œè¿™é‡Œæˆ‘ä»¬åˆ›å»ºssh-rsaå¯†åŒ™ã€‚åœ¨command line ä¸­è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤:ssh-keygen -t rsaåŽ»åˆ›å»ºä¸€ä¸ªssh-rsaå¯†åŒ™ã€‚å¦‚æžœä½ å¹¶ä¸éœ€è¦ä¸ºä½ çš„å¯†åŒ™åˆ›å»ºå¯†ç å’Œä¿®æ”¹åå­—ï¼Œé‚£ä¹ˆå°±ä¸€è·¯å›žè½¦å°±OKï¼Œå¦‚æžœä½ éœ€è¦ï¼Œè¯·æ‚¨è‡ªè¡ŒGoogleç¿»è¯‘ï¼Œå› ä¸ºåªæ˜¯è‹±æ–‡é—®é¢˜ã€‚ $ ssh-keygen -t rsaGenerating public/private rsa key pair.//æ‚¨å¯ä»¥æ ¹æ®æ‹¬å·ä¸­çš„è·¯å¾„æ¥åˆ¤æ–­ä½ çš„.sshæ–‡ä»¶æ”¾åœ¨äº†ä»€ä¹ˆåœ°æ–¹Enter file in which to save the key (/c/Users/Liang Guan Quan/.ssh/id_rsa): åˆ° https://github.com/settings/keys è¿™ä¸ªåœ°å€ä¸­åŽ»æ·»åŠ ä¸€ä¸ªæ–°çš„SSH keyï¼Œç„¶åŽæŠŠä½ çš„xx.pubæ–‡ä»¶ä¸‹çš„å†…å®¹æ–‡æœ¬éƒ½å¤åˆ¶åˆ°Keyæ–‡æœ¬åŸŸä¸­ï¼Œç„¶åŽå°±å¯ä»¥æäº¤äº†ã€‚ æ·»åŠ å®Œæˆä¹‹åŽ æˆ‘ä»¬ç”¨ssh git@github.com å‘½ä»¤æ¥è¿žé€šä¸€ä¸‹githubï¼Œå¦‚æžœä½ åœ¨responseé‡Œé¢çœ‹åˆ°äº†ä½ githubè´¦å·åï¼Œé‚£ä¹ˆå°±è¯´æ˜Žé…ç½®æˆåŠŸäº†ã€‚ letâ€™s enjoy github ;) gitignore åœ¨æœ¬åœ°ä»“åº“æ ¹ç›®å½•åˆ›å»º .gitignore æ–‡ä»¶ã€‚Win7 ä¸‹ä¸èƒ½ç›´æŽ¥åˆ›å»ºï¼Œå¯ä»¥åˆ›å»º â€œ.gitignore.â€ æ–‡ä»¶ï¼ŒåŽé¢çš„æ ‡ç‚¹è‡ªåŠ¨è¢«å¿½ç•¥ï¼› 1234/.idea // è¿‡æ»¤æŒ‡å®šæ–‡ä»¶å¤¹/fd/* // å¿½ç•¥æ ¹ç›®å½•ä¸‹çš„ /fd/ ç›®å½•çš„å…¨éƒ¨å†…å®¹ï¼›*.iml // è¿‡æ»¤æŒ‡å®šçš„æ‰€æœ‰æ–‡ä»¶!.gitignore // ä¸å¿½ç•¥è¯¥æ–‡ä»¶]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Fragment]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FAndroid%2FFragment%2F</url>
    <content type="text"><![CDATA[Fragmentä¸ºä½•äº§ç”Ÿ åŒæ—¶é€‚é…æ‰‹æœºå’Œå¹³æ¿ã€UIå’Œé€»è¾‘çš„å…±äº«ã€‚ ä»‹ç» Fragmentä¹Ÿä¼šè¢«åŠ å…¥å›žé€€æ ˆä¸­ã€‚ Fragmentæ‹¥æœ‰è‡ªå·±çš„ç”Ÿå‘½å‘¨æœŸå’ŒæŽ¥å—ã€å¤„ç†ç”¨æˆ·çš„äº‹ä»¶ å¯ä»¥åŠ¨æ€çš„æ·»åŠ ã€æ›¿æ¢å’Œç§»é™¤æŸä¸ªFragment ç”Ÿå‘½å‘¨æœŸ å¿…é¡»ä¾å­˜äºŽActivity Fragmentä¾é™„äºŽActivityçš„ç”Ÿå‘½çŠ¶æ€ ç”Ÿå‘½å‘¨æœŸä¸­é‚£ä¹ˆå¤šæ–¹æ³•ï¼Œæ‡µé€¼äº†çš„è¯æˆ‘ä»¬å°±ä¸€èµ·æ¥çœ‹ä¸€ä¸‹æ¯ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸæ–¹æ³•çš„å«ä¹‰å§ã€‚ Fragmentç”Ÿå‘½å‘¨æœŸæ–¹æ³•å«ä¹‰ï¼š public void onAttach(Context context) onAttachæ–¹æ³•ä¼šåœ¨FragmentäºŽçª—å£å…³è”åŽç«‹åˆ»è°ƒç”¨ã€‚ä»Žè¯¥æ–¹æ³•å¼€å§‹ï¼Œå°±å¯ä»¥é€šè¿‡Fragment.getActivityæ–¹æ³•èŽ·å–ä¸ŽFragmentå…³è”çš„çª—å£å¯¹è±¡ï¼Œä½†å› ä¸ºFragmentçš„æŽ§ä»¶æœªåˆå§‹åŒ–ï¼Œæ‰€ä»¥ä¸èƒ½å¤Ÿæ“ä½œæŽ§ä»¶ã€‚ public void onCreate(Bundle savedInstanceState) åœ¨è°ƒç”¨å®ŒonAttachæ‰§è¡Œå®Œä¹‹åŽç«‹åˆ»è°ƒç”¨onCreateæ–¹æ³•ï¼Œå¯ä»¥åœ¨Bundleå¯¹è±¡ä¸­èŽ·å–ä¸€äº›åœ¨Activityä¸­ä¼ è¿‡æ¥çš„æ•°æ®ã€‚é€šå¸¸ä¼šåœ¨è¯¥æ–¹æ³•ä¸­è¯»å–ä¿å­˜çš„çŠ¶æ€ï¼ŒèŽ·å–æˆ–åˆå§‹åŒ–ä¸€äº›æ•°æ®ã€‚åœ¨è¯¥æ–¹æ³•ä¸­ä¸è¦è¿›è¡Œè€—æ—¶æ“ä½œï¼Œä¸ç„¶çª—å£ä¸ä¼šæ˜¾ç¤ºã€‚ public View onCreateView(LayoutInflater inflater, ViewGroup container,Bundle savedInstanceState) è¯¥æ–¹æ³•æ˜¯Fragmentå¾ˆé‡è¦çš„ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œå› ä¸ºä¼šåœ¨è¯¥æ–¹æ³•ä¸­åˆ›å»ºåœ¨Fragmentæ˜¾ç¤ºçš„Viewï¼Œå…¶ä¸­inflateræ˜¯ç”¨æ¥è£…è½½å¸ƒå±€æ–‡ä»¶çš„ï¼Œcontaineræ˜¯&lt;fragment&gt;æ ‡ç­¾çš„çˆ¶æ ‡ç­¾å¯¹åº”å¯¹è±¡ï¼ŒsavedInstanceStateå‚æ•°å¯ä»¥èŽ·å–Fragmentä¿å­˜çš„çŠ¶æ€ï¼Œå¦‚æžœæœªä¿å­˜é‚£ä¹ˆå°±ä¸ºnullã€‚ public void onViewCreated(View view,Bundle savedInstanceState) Androidåœ¨åˆ›å»ºå®ŒFragmentä¸­çš„Viewå¯¹è±¡ä¹‹åŽï¼Œä¼šç«‹åˆ»å›žè°ƒè¯¥æ–¹æ³•ã€‚å…¶ç§viewå‚æ•°å°±æ˜¯onCreateViewä¸­è¿”å›žçš„viewï¼Œè€Œbundleå¯¹è±¡ç”¨äºŽä¸€èˆ¬ç”¨é€”ã€‚ public void onActivityCreated(Bundle savedInstanceState) åœ¨Activityçš„onCreateæ–¹æ³•æ‰§è¡Œå®Œä¹‹åŽï¼ŒAndroidç³»ç»Ÿä¼šç«‹åˆ»è°ƒç”¨è¯¥æ–¹æ³•ï¼Œè¡¨ç¤ºçª—å£å·²ç»åˆå§‹åŒ–å®Œæˆï¼Œä»Žè¿™ä¸€ä¸ªæ—¶å€™å¼€å§‹ï¼Œå°±å¯ä»¥åœ¨Fragmentä¸­ä½¿ç”¨getActivity().findViewById(Id);æ¥æ“æŽ§Activityä¸­çš„viewäº†ã€‚ public void onStart() è¿™ä¸ªæ²¡å•¥å¯è®²çš„ï¼Œä½†æœ‰ä¸€ä¸ªç»†èŠ‚éœ€è¦çŸ¥é“ï¼Œå½“ç³»ç»Ÿè°ƒç”¨è¯¥æ–¹æ³•çš„æ—¶å€™ï¼Œfragmentå·²ç»æ˜¾ç¤ºåœ¨uiä¸Šï¼Œä½†è¿˜ä¸èƒ½è¿›è¡Œäº’åŠ¨ï¼Œå› ä¸ºonResumeæ–¹æ³•è¿˜æ²¡æ‰§è¡Œå®Œã€‚ public void onResume() è¯¥æ–¹æ³•ä¸ºfragmentä»Žåˆ›å»ºåˆ°æ˜¾ç¤ºAndroidç³»ç»Ÿè°ƒç”¨çš„æœ€åŽä¸€ä¸ªç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œè°ƒç”¨å®Œè¯¥æ–¹æ³•æ—¶å€™ï¼Œfragmentå°±å¯ä»¥ä¸Žç”¨æˆ·äº’åŠ¨äº†ã€‚ public void onPause() fragmentç”±æ´»è·ƒçŠ¶æ€å˜æˆéžæ´»è·ƒçŠ¶æ€æ‰§è¡Œçš„ç¬¬ä¸€ä¸ªå›žè°ƒæ–¹æ³•ï¼Œé€šå¸¸å¯ä»¥åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ä¿å­˜ä¸€äº›éœ€è¦ä¸´æ—¶æš‚åœçš„å·¥ä½œã€‚å¦‚ä¿å­˜éŸ³ä¹æ’­æ”¾è¿›åº¦ï¼Œç„¶åŽåœ¨onResumeä¸­æ¢å¤éŸ³ä¹æ’­æ”¾è¿›åº¦ã€‚ public void onStop() å½“onStopè¿”å›žçš„æ—¶å€™ï¼Œfragmentå°†ä»Žå±å¹•ä¸Šæ¶ˆå¤±ã€‚ public void onDestoryView() è¯¥æ–¹æ³•çš„è°ƒç”¨æ„å‘³ç€åœ¨ onCreateView ä¸­åˆ›å»ºçš„è§†å›¾éƒ½å°†è¢«ç§»é™¤ã€‚ public void onDestroy() Androidåœ¨Fragmentä¸å†ä½¿ç”¨æ—¶ä¼šè°ƒç”¨è¯¥æ–¹æ³•ï¼Œè¦æ³¨æ„çš„æ˜¯~è¿™æ—¶Fragmentè¿˜å’ŒActivityè—•æ–­ä¸è¿žï¼å¹¶ä¸”å¯ä»¥èŽ·å¾—Fragmentå¯¹è±¡ï¼Œä½†æ— æ³•å¯¹èŽ·å¾—çš„Fragmentè¿›è¡Œä»»ä½•æ“ä½œï¼ˆå‘µ~å‘µå‘µ~æˆ‘å·²ç»ä¸å¬ä½ çš„äº†ï¼‰ã€‚ public void onDetach() ä¸ºFragmentç”Ÿå‘½å‘¨æœŸä¸­çš„æœ€åŽä¸€ä¸ªæ–¹æ³•ï¼Œå½“è¯¥æ–¹æ³•æ‰§è¡Œå®ŒåŽï¼ŒFragmentä¸ŽActivityä¸å†æœ‰å…³è”(åˆ†æ‰‹ï¼æˆ‘ä»¬åˆ†æ‰‹ï¼ï¼(â•¯â€µâ–¡â€²)â•¯ï¸µâ”»â”â”»)ã€‚ Fragmentæ¯”Activityå¤šäº†å‡ ä¸ªé¢å¤–çš„ç”Ÿå‘½å‘¨æœŸå›žè°ƒæ–¹æ³•ï¼š onAttach(Activity):å½“Fragmentå’ŒActivityå‘ç”Ÿå…³è”æ—¶ä½¿ç”¨ onCreateView(LayoutInflater, ViewGroup, Bundle):åˆ›å»ºè¯¥Fragmentçš„è§†å›¾ onActivityCreate(Bundle):å½“Activityçš„onCreateæ–¹æ³•è¿”å›žæ—¶è°ƒç”¨ onDestoryView():ä¸ŽonCreateViewç›¸å¯¹åº”ï¼Œå½“è¯¥Fragmentçš„è§†å›¾è¢«ç§»é™¤æ—¶è°ƒç”¨ onDetach():ä¸ŽonAttachç›¸å¯¹åº”ï¼Œå½“Fragmentä¸ŽActivityå…³è”è¢«å–æ¶ˆæ—¶è°ƒç”¨ æ³¨æ„ï¼šé™¤äº†onCreateViewï¼Œå…¶ä»–çš„æ‰€æœ‰æ–¹æ³•å¦‚æžœä½ é‡å†™äº†ï¼Œå¿…é¡»è°ƒç”¨çˆ¶ç±»å¯¹äºŽè¯¥æ–¹æ³•çš„å®žçŽ°Fragmentä¸ŽActivityä¹‹é—´çš„äº¤äº’ Fragmentä¸ŽActivityä¹‹é—´çš„äº¤äº’å¯ä»¥é€šè¿‡Fragment.setArguments(Bundle args)ä»¥åŠFragment.getArguments()æ¥å®žçŽ°ã€‚ FragmentçŠ¶æ€çš„æŒä¹…åŒ–ã€‚ç”±äºŽActivityä¼šç»å¸¸æ€§çš„å‘ç”Ÿé…ç½®å˜åŒ–ï¼Œæ‰€ä»¥ä¾é™„å®ƒçš„Fragmentå°±æœ‰éœ€è¦å°†å…¶çŠ¶æ€ä¿å­˜èµ·æ¥é—®é¢˜ã€‚ä¸‹é¢æœ‰ä¸¤ä¸ªå¸¸ç”¨çš„æ–¹æ³•åŽ»å°†Fragmentçš„çŠ¶æ€æŒä¹…åŒ–ã€‚ æ–¹æ³•ä¸€ï¼š å¯ä»¥é€šè¿‡protected void onSaveInstanceState(Bundle outState),protected void onRestoreInstanceState(Bundle savedInstanceState) çŠ¶æ€ä¿å­˜å’Œæ¢å¤çš„æ–¹æ³•å°†çŠ¶æ€æŒä¹…åŒ–ã€‚ æ–¹æ³•äºŒ(æ›´æ–¹ä¾¿,è®©Androidè‡ªåŠ¨å¸®æˆ‘ä»¬ä¿å­˜FragmentçŠ¶æ€)ï¼š æˆ‘ä»¬åªéœ€è¦å°†Fragmentåœ¨Activityä¸­ä½œä¸ºä¸€ä¸ªå˜é‡æ•´ä¸ªä¿å­˜ï¼Œåªè¦ä¿å­˜äº†Fragmentï¼Œé‚£ä¹ˆFragmentçš„çŠ¶æ€å°±å¾—åˆ°ä¿å­˜äº†ï¼Œæ‰€ä»¥å‘¢â€¦.. FragmentManager.putFragment(Bundle bundle, String key, Fragment fragment) æ˜¯åœ¨Activityä¸­ä¿å­˜Fragmentçš„æ–¹æ³•ã€‚ FragmentManager.getFragment(Bundle bundle, String key) æ˜¯åœ¨Activityä¸­èŽ·å–æ‰€ä¿å­˜çš„Framentçš„æ–¹æ³•ã€‚ å¾ˆæ˜¾ç„¶ï¼Œkeyå°±ä¼ å…¥Fragmentçš„idï¼Œfragmentå°±æ˜¯ä½ è¦ä¿å­˜çŠ¶æ€çš„fragmentï¼Œä½†ï¼Œæˆ‘ä»¬æ³¨æ„åˆ°ä¸Šé¢çš„ä¸¤ä¸ªæ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯Bundleï¼Œè¿™å°±æ„å‘³ç€FragmentManageræ˜¯é€šè¿‡BundleåŽ»ä¿å­˜Fragmentçš„ã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªæ–¹æ³•ä»…ä»…èƒ½å¤Ÿä¿å­˜Fragmentä¸­çš„æŽ§ä»¶çŠ¶æ€ï¼Œæ¯”å¦‚è¯´EditTextä¸­ç”¨æˆ·å·²ç»è¾“å…¥çš„æ–‡å­—ï¼ˆæ³¨æ„ï¼åœ¨è¿™é‡Œï¼ŒæŽ§ä»¶éœ€è¦è®¾ç½®ä¸€ä¸ªidï¼Œå¦åˆ™Androidå°†ä¸ä¼šä¸ºæˆ‘ä»¬ä¿å­˜æŽ§ä»¶çš„çŠ¶æ€ï¼‰ï¼Œè€ŒFragmentä¸­éœ€è¦æŒä¹…åŒ–çš„å˜é‡ä¾ç„¶ä¼šä¸¢å¤±ï¼Œä½†ä¾ç„¶æœ‰è§£å†³åŠžæ³•ï¼Œå°±æ˜¯åˆ©ç”¨æ–¹æ³•ä¸€ï¼ ä¸‹é¢ç»™å‡ºçŠ¶æ€æŒä¹…åŒ–çš„äº‹ä¾‹ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041 /** Activityä¸­çš„ä»£ç  **/ FragmentB fragmentB; @Override protected void onCreate(@Nullable Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.fragment_activity); if( savedInstanceState != null )&#123; fragmentB = (FragmentB) getSupportFragmentManager().getFragment(savedInstanceState,"fragmentB"); &#125; init(); &#125; @Override protected void onSaveInstanceState(Bundle outState) &#123; if( fragmentB != null )&#123; getSupportFragmentManager().putFragment(outState,"fragmentB",fragmentB); &#125; super.onSaveInstanceState(outState); &#125; /** Fragmentä¸­ä¿å­˜å˜é‡çš„ä»£ç  **/ @Nullable @Override public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) &#123; AppLog.e("onCreateView"); if ( null != savedInstanceState )&#123; String savedString = savedInstanceState.getString("string"); //å¾—åˆ°ä¿å­˜ä¸‹æ¥çš„string &#125; View root = inflater.inflate(R.layout.fragment_a,null); return root; &#125;@Override public void onSaveInstanceState(Bundle outState) &#123; outState.putString("string","anAngryAnt"); super.onSaveInstanceState(outState); &#125; é™æ€çš„ä½¿ç”¨Fragment ç»§æ‰¿Fragmentï¼Œé‡å†™onCreateViewå†³å®šFragmentçš„å¸ƒå±€ åœ¨Activityä¸­å£°æ˜Žæ­¤Fragment,å°±å’Œæ™®é€šçš„Viewä¸€æ · Fragmentå¸¸ç”¨çš„API android.support.v4.app.Fragment ä¸»è¦ç”¨äºŽå®šä¹‰Fragment android.support.v4.app.FragmentManager ä¸»è¦ç”¨äºŽåœ¨Activityä¸­æ“ä½œFragmentï¼Œå¯ä»¥ä½¿ç”¨FragmentManager.findFragmenByIdï¼ŒFragmentManager.findFragmentByTagç­‰æ–¹æ³•åŽ»æ‰¾åˆ°ä¸€ä¸ªFragment android.support.v4.app.FragmentTransaction ä¿è¯ä¸€äº›åˆ—Fragmentæ“ä½œçš„åŽŸå­æ€§ï¼Œç†Ÿæ‚‰äº‹åŠ¡è¿™ä¸ªè¯ ä¸»è¦çš„æ“ä½œéƒ½æ˜¯FragmentTransactionçš„æ–¹æ³•(ä¸€èˆ¬æˆ‘ä»¬ä¸ºäº†å‘ä¸‹å…¼å®¹ï¼Œéƒ½ä½¿ç”¨support.v4åŒ…é‡Œé¢çš„Fragment) getFragmentManager() // Fragmentè‹¥ä½¿ç”¨çš„æ˜¯support.v4åŒ…ä¸­çš„ï¼Œé‚£å°±ä½¿ç”¨getSupportFragmentManagerä»£æ›¿ &lt;/code&gt; ä¸»è¦çš„æ“ä½œéƒ½æ˜¯FragmentTransactionçš„æ–¹æ³• 1234567891011121314151617181920212223242526272829FragmentTransaction transaction = fm.benginTransatcion();//å¼€å¯ä¸€ä¸ªäº‹åŠ¡transaction.add() //å¾€Activityä¸­æ·»åŠ ä¸€ä¸ªFragmenttransaction.remove() //ä»ŽActivityä¸­ç§»é™¤ä¸€ä¸ªFragmentï¼Œå¦‚æžœè¢«ç§»é™¤çš„Fragmentæ²¡æœ‰æ·»åŠ åˆ°å›žé€€æ ˆï¼ˆå›žé€€æ ˆåŽé¢ä¼šè¯¦ç»†è¯´ï¼‰ï¼Œè¿™ä¸ªFragmentå®žä¾‹å°†ä¼šè¢«é”€æ¯ã€‚transaction.replace()//ä½¿ç”¨å¦ä¸€ä¸ªFragmentæ›¿æ¢å½“å‰çš„ï¼Œå®žé™…ä¸Šå°±æ˜¯remove()ç„¶åŽadd()çš„åˆä½“~transaction.hide()//éšè—å½“å‰çš„Fragmentï¼Œä»…ä»…æ˜¯è®¾ä¸ºä¸å¯è§ï¼Œå¹¶ä¸ä¼šé”€æ¯transaction.show()//æ˜¾ç¤ºä¹‹å‰éšè—çš„Fragmentdetach()//å½“fragmentè¢«åŠ å…¥åˆ°å›žé€€æ ˆçš„æ—¶å€™ï¼Œè¯¥æ–¹æ³•ä¸Ž*remove()*çš„ä½œç”¨æ˜¯ç›¸åŒçš„ï¼Œ//åä¹‹ï¼Œè¯¥æ–¹æ³•åªæ˜¯å°†fragmentä»Žè§†å›¾ä¸­ç§»é™¤ï¼Œ//ä¹‹åŽä»ç„¶å¯ä»¥é€šè¿‡*attach()*æ–¹æ³•é‡æ–°ä½¿ç”¨fragmentï¼Œ//è€Œè°ƒç”¨äº†*remove()*æ–¹æ³•ä¹‹åŽï¼Œ//ä¸ä»…å°†Fragmentä»Žè§†å›¾ä¸­ç§»é™¤ï¼Œfragmentè¿˜å°†ä¸å†å¯ç”¨ã€‚attach()//é‡å»ºviewè§†å›¾ï¼Œé™„åŠ åˆ°UIä¸Šå¹¶æ˜¾ç¤ºã€‚transatcion.commit()//æäº¤ä¸€ä¸ªäº‹åŠ¡ ç®¡ç†Fragmentå›žé€€æ ˆ è·Ÿè¸ªå›žé€€æ ˆçŠ¶æ€ æˆ‘ä»¬é€šè¿‡å®žçŽ°OnBackStackChangedListeneræŽ¥å£æ¥å®žçŽ°å›žé€€æ ˆçŠ¶æ€è·Ÿè¸ªï¼Œå…·ä½“å¦‚ä¸‹1234567891011 public class XXX implements FragmentManager.OnBackStackChangedListener /** å®žçŽ°æŽ¥å£æ‰€è¦å®žçŽ°çš„æ–¹æ³• **/@Override public void onBackStackChanged() &#123; //do whatevery you want &#125; /** è®¾ç½®å›žé€€æ ˆç›‘å¬æŽ¥å£ **ï¼ getSupportFragmentManager().addOnBackStackChangedListener(this); ç®¡ç†å›žé€€æ ˆ FragmentTransaction.addToBackStack(String) â€”å°†ä¸€ä¸ªåˆšåˆšæ·»åŠ çš„FragmentåŠ å…¥åˆ°å›žé€€æ ˆä¸­ getSupportFragmentManager().getBackStackEntryCount() ï¼èŽ·å–å›žé€€æ ˆä¸­å®žä½“æ•°é‡ getSupportFragmentManager().popBackStack(String name, int flags) ï¼æ ¹æ®nameç«‹åˆ»å¼¹å‡ºæ ˆé¡¶çš„fragment getSupportFragmentManager().popBackStack(int id, int flags) ï¼æ ¹æ®idç«‹åˆ»å¼¹å‡ºæ ˆé¡¶çš„fragment]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Handlerå†…å­˜æ³„æ¼åˆ†æžåŠè§£å†³]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FAndroid%2FHandler%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F%E5%88%86%E6%9E%90%E5%8F%8A%E8%A7%A3%E5%86%B3%2F</url>
    <content type="text"><![CDATA[Handlerå†…å­˜æ³„æ¼åˆ†æžåŠè§£å†³ ä¸€ã€ä»‹ç»é¦–å…ˆï¼Œè¯·æµè§ˆä¸‹é¢è¿™æ®µhandlerä»£ç ï¼š 12345678public class SampleActivity extends Activity &#123; private final Handler mLeakyHandler = new Handler() &#123; @Override public void handleMessage(Message msg) &#123; // ... &#125; &#125;&#125; åœ¨ä½¿ç”¨handleræ—¶ï¼Œè¿™æ˜¯ä¸€æ®µå¾ˆå¸¸è§çš„ä»£ç ã€‚ä½†æ˜¯ï¼Œå®ƒå´ä¼šé€ æˆä¸¥é‡çš„å†…å­˜æ³„æ¼é—®é¢˜ã€‚åœ¨å®žé™…ç¼–å†™ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šå¾—åˆ°å¦‚ä¸‹è­¦å‘Šï¼š 1âš  In Android, Handler classes should be static or leaks might occur. äºŒã€åˆ†æž1ã€ Androidè§’åº¦ å½“Androidåº”ç”¨ç¨‹åºå¯åŠ¨æ—¶ï¼Œframeworkä¼šä¸ºè¯¥åº”ç”¨ç¨‹åºçš„ä¸»çº¿ç¨‹åˆ›å»ºä¸€ä¸ªLooperå¯¹è±¡ã€‚è¿™ä¸ªLooperå¯¹è±¡åŒ…å«ä¸€ä¸ªç®€å•çš„æ¶ˆæ¯é˜Ÿåˆ—Message Queueï¼Œå¹¶ä¸”èƒ½å¤Ÿå¾ªçŽ¯çš„å¤„ç†é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯ã€‚è¿™äº›æ¶ˆæ¯åŒ…æ‹¬å¤§å¤šæ•°åº”ç”¨ç¨‹åºframeworkäº‹ä»¶ï¼Œä¾‹å¦‚Activityç”Ÿå‘½å‘¨æœŸæ–¹æ³•è°ƒç”¨ã€buttonç‚¹å‡»ç­‰ï¼Œè¿™äº›æ¶ˆæ¯éƒ½ä¼šè¢«æ·»åŠ åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­å¹¶è¢«é€ä¸ªå¤„ç†ã€‚ å¦å¤–ï¼Œä¸»çº¿ç¨‹çš„Looperå¯¹è±¡ä¼šä¼´éšè¯¥åº”ç”¨ç¨‹åºçš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸã€‚ ç„¶åŽï¼Œå½“ä¸»çº¿ç¨‹é‡Œï¼Œå®žä¾‹åŒ–ä¸€ä¸ªHandlerå¯¹è±¡åŽï¼Œå®ƒå°±ä¼šè‡ªåŠ¨ä¸Žä¸»çº¿ç¨‹Looperçš„æ¶ˆæ¯é˜Ÿåˆ—å…³è”èµ·æ¥ã€‚æ‰€æœ‰å‘é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—çš„æ¶ˆæ¯Messageéƒ½ä¼šæ‹¥æœ‰ä¸€ä¸ªå¯¹Handlerçš„å¼•ç”¨ï¼Œæ‰€ä»¥å½“Looperæ¥å¤„ç†æ¶ˆæ¯æ—¶ï¼Œä¼šæ®æ­¤å›žè°ƒ[Handler#handleMessage(Message)]æ–¹æ³•æ¥å¤„ç†æ¶ˆæ¯ã€‚ 2ã€ Javaè§’åº¦ åœ¨javaé‡Œï¼Œéžé™æ€å†…éƒ¨ç±» å’Œ åŒ¿åç±» éƒ½ä¼šæ½œåœ¨çš„å¼•ç”¨å®ƒä»¬æ‰€å±žçš„å¤–éƒ¨ç±»ã€‚ä½†æ˜¯ï¼Œé™æ€å†…éƒ¨ç±»å´ä¸ä¼šã€‚ ä¸‰ã€æ³„æ¼æ¥æºè¯·æµè§ˆä¸‹é¢ä¸€æ®µä»£ç ï¼š 1234567891011121314151617181920212223public class SampleActivity extends Activity &#123; private final Handler mLeakyHandler = new Handler() &#123; @Override public void handleMessage(Message msg) &#123; // ... &#125; &#125; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); // Post a message and delay its execution for 10 minutes. mLeakyHandler.postDelayed(new Runnable() &#123; @Override public void run() &#123; /* ... */ &#125; &#125;, 1000 * 60 * 10); // Go back to the previous Activity. finish(); &#125;&#125; å½“activityç»“æŸ(finish)æ—¶ï¼Œé‡Œé¢çš„å»¶æ—¶æ¶ˆæ¯åœ¨å¾—åˆ°å¤„ç†å‰ï¼Œä¼šä¸€ç›´ä¿å­˜åœ¨ä¸»çº¿ç¨‹çš„æ¶ˆæ¯é˜Ÿåˆ—é‡ŒæŒç»­10åˆ†é’Ÿã€‚è€Œä¸”ï¼Œç”±ä¸Šæ–‡å¯çŸ¥ï¼Œè¿™æ¡æ¶ˆæ¯æŒæœ‰å¯¹handlerçš„å¼•ç”¨ï¼Œè€ŒhandleråˆæŒæœ‰å¯¹å…¶å¤–éƒ¨ç±»ï¼ˆåœ¨è¿™é‡Œï¼Œå³SampleActivityï¼‰çš„æ½œåœ¨å¼•ç”¨ã€‚è¿™æ¡å¼•ç”¨å…³ç³»ä¼šä¸€ç›´ä¿æŒç›´åˆ°æ¶ˆæ¯å¾—åˆ°å¤„ç†ï¼Œä»Žè€Œï¼Œè¿™é˜»æ­¢äº†SampleActivityè¢«åžƒåœ¾å›žæ”¶å™¨å›žæ”¶ï¼ŒåŒæ—¶é€ æˆåº”ç”¨ç¨‹åºçš„æ³„æ¼ã€‚ &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEADæ³¨æ„ï¼Œä¸Šé¢ä»£ç ä¸­çš„Runnableç±»â€”éžé™æ€åŒ¿åç±»â€”åŒæ ·æŒæœ‰å¯¹å…¶å¤–éƒ¨ç±»çš„å¼•ç”¨ã€‚ä»Žè€Œä¹Ÿå¯¼è‡´æ³„æ¼ã€‚ =======æ³¨æ„ï¼Œä¸Šé¢ä»£ç ä¸­çš„Runnableç±»â€”éžé™æ€åŒ¿åç±»â€”åŒæ ·æŒæœ‰å¯¹å…¶å¤–éƒ¨ç±»çš„å¼•ç”¨ã€‚ä»Žè€Œä¹Ÿå¯¼è‡´æ³„æ¼ã€‚ c67abfcfd66909095068cb5f0c8632dc5547131b å››ã€æ³„æ¼è§£å†³æ–¹æ¡ˆ é¦–å…ˆï¼Œä¸Šé¢å·²ç»æ˜Žç¡®äº†å†…å­˜æ³„æ¼æ¥æºï¼š åªè¦æœ‰æœªå¤„ç†çš„æ¶ˆæ¯ï¼Œé‚£ä¹ˆæ¶ˆæ¯ä¼šå¼•ç”¨handlerï¼Œéžé™æ€çš„handleråˆä¼šå¼•ç”¨å¤–éƒ¨ç±»ï¼Œå³Activityï¼Œå¯¼è‡´Activityæ— æ³•è¢«å›žæ”¶ï¼Œé€ æˆæ³„æ¼ï¼› Runnableç±»å±žäºŽéžé™æ€åŒ¿åç±»ï¼ŒåŒæ ·ä¼šå¼•ç”¨å¤–éƒ¨ç±»ã€‚ ä¸ºäº†è§£å†³é‡åˆ°çš„é—®é¢˜ï¼Œæˆ‘ä»¬è¦æ˜Žç¡®ä¸€ç‚¹ï¼šé™æ€å†…éƒ¨ç±»ä¸ä¼šæŒæœ‰å¯¹å¤–éƒ¨ç±»çš„å¼•ç”¨ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠhandlerç±»æ”¾åœ¨å•ç‹¬çš„ç±»æ–‡ä»¶ä¸­ï¼Œæˆ–è€…ä½¿ç”¨é™æ€å†…éƒ¨ç±»ä¾¿å¯ä»¥é¿å…æ³„æ¼ã€‚ å¦å¤–ï¼Œå¦‚æžœæƒ³è¦åœ¨handlerå†…éƒ¨åŽ»è°ƒç”¨æ‰€åœ¨çš„å¤–éƒ¨ç±»Activityï¼Œé‚£ä¹ˆå¯ä»¥åœ¨handlerå†…éƒ¨ä½¿ç”¨å¼±å¼•ç”¨çš„æ–¹å¼æŒ‡å‘æ‰€åœ¨Activityï¼Œè¿™æ ·ç»Ÿä¸€ä¸ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ã€‚ å¯¹äºŽåŒ¿åç±»Runnableï¼ŒåŒæ ·å¯ä»¥å°†å…¶è®¾ç½®ä¸ºé™æ€ç±»ã€‚å› ä¸ºé™æ€çš„åŒ¿åç±»ä¸ä¼šæŒæœ‰å¯¹å¤–éƒ¨ç±»çš„å¼•ç”¨ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344public class SampleActivity extends Activity &#123; /** * Instances of static inner classes do not hold an implicit * reference to their outer class. */ private static class MyHandler extends Handler &#123; private final WeakReference&lt;SampleActivity&gt; mActivity; public MyHandler(SampleActivity activity) &#123; mActivity = new WeakReference&lt;SampleActivity&gt;(activity); &#125; @Override public void handleMessage(Message msg) &#123; SampleActivity activity = mActivity.get(); if (activity != null) &#123; // ... &#125; &#125; &#125; private final MyHandler mHandler = new MyHandler(this); /** * Instances of anonymous classes do not hold an implicit * reference to their outer class when they are "static". */ private static final Runnable sRunnable = new Runnable() &#123; @Override public void run() &#123; /* ... */ &#125; &#125;; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); // Post a message and delay its execution for 10 minutes. mHandler.postDelayed(sRunnable, 1000 * 60 * 10); // Go back to the previous Activity. finish(); &#125;&#125; äº”ã€å°ç»“&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEADè™½ç„¶é™æ€ç±»ä¸Žéžé™æ€ç±»ä¹‹é—´çš„åŒºåˆ«å¹¶ä¸å¤§ï¼Œä½†æ˜¯å¯¹äºŽAndroidå¼€å‘è€…è€Œè¨€å´æ˜¯å¿…é¡»ç†è§£çš„ã€‚è‡³å°‘æˆ‘ä»¬è¦æ¸…æ¥šï¼Œå¦‚æžœä¸€ä¸ªå†…éƒ¨ç±»å®žä¾‹çš„ç”Ÿå‘½å‘¨æœŸæ¯”Activityæ›´é•¿ï¼Œé‚£ä¹ˆæˆ‘ä»¬åƒä¸‡ä¸è¦ä½¿ç”¨éžé™æ€çš„å†…éƒ¨ç±»ã€‚æœ€å¥½çš„åšæ³•æ˜¯ï¼Œä½¿ç”¨é™æ€å†…éƒ¨ç±»ï¼Œç„¶åŽåœ¨è¯¥ç±»é‡Œä½¿ç”¨å¼±å¼•ç”¨æ¥æŒ‡å‘æ‰€åœ¨çš„Activityã€‚ åŽŸæ–‡é“¾æŽ¥ï¼š http://www.jianshu.com/p/cb9b4b71a820è™½ç„¶é™æ€ç±»ä¸Žéžé™æ€ç±»ä¹‹é—´çš„åŒºåˆ«å¹¶ä¸å¤§ï¼Œä½†æ˜¯å¯¹äºŽAndroidå¼€å‘è€…è€Œè¨€å´æ˜¯å¿…é¡»ç†è§£çš„ã€‚è‡³å°‘æˆ‘ä»¬è¦æ¸…æ¥šï¼Œå¦‚æžœä¸€ä¸ªå†…éƒ¨ç±»å®žä¾‹çš„ç”Ÿå‘½å‘¨æœŸæ¯”Activityæ›´é•¿ï¼Œé‚£ä¹ˆæˆ‘ä»¬åƒä¸‡ä¸è¦ä½¿ç”¨éžé™æ€çš„å†…éƒ¨ç±»ã€‚æœ€å¥½çš„åšæ³•æ˜¯ï¼Œä½¿ç”¨é™æ€å†…éƒ¨ç±»ï¼Œç„¶åŽåœ¨è¯¥ç±»é‡Œä½¿ç”¨å¼±å¼•ç”¨æ¥æŒ‡å‘æ‰€åœ¨çš„Activityã€‚ åŽŸæ–‡é“¾æŽ¥ï¼š http://www.jianshu.com/p/cb9b4b71a820 c67abfcfd66909095068cb5f0c8632dc5547131b]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[MVC,MVP,MVVMçš„åŒºåˆ«]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FAndroid%2FMVC%2CMVP%2CMVVM%E7%9A%84%E5%8C%BA%E5%88%AB%2F</url>
    <content type="text"><![CDATA[MVC,MVP,MVVMçš„åŒºåˆ« MVCè½¯ä»¶å¯ä»¥åˆ†ä¸ºä¸‰éƒ¨åˆ† è§†å›¾ï¼ˆViewï¼‰:ç”¨æˆ·ç•Œé¢ æŽ§åˆ¶å™¨ï¼ˆControllerï¼‰:ä¸šåŠ¡é€»è¾‘ æ¨¡åž‹ï¼ˆModelï¼‰:æ•°æ®ä¿å­˜ å„éƒ¨åˆ†ä¹‹é—´çš„é€šä¿¡æ–¹å¼å¦‚ä¸‹ï¼š Viewä¼ é€æŒ‡ä»¤åˆ°Controller Controllerå®Œæˆä¸šåŠ¡é€»è¾‘åŽï¼Œè¦æ±‚Modelæ”¹å˜çŠ¶æ€ Modelå°†æ–°çš„æ•°æ®å‘é€åˆ°Viewï¼Œç”¨æˆ·å¾—åˆ°åé¦ˆ Tipsï¼šæ‰€æœ‰çš„é€šä¿¡éƒ½æ˜¯å•å‘çš„ã€‚ äº’åŠ¨æ¨¡å¼æŽ¥å—ç”¨æˆ·æŒ‡ä»¤æ—¶ï¼ŒMVCå¯ä»¥åˆ†ä¸ºä¸¤ç§æ–¹å¼ã€‚ä¸€ç§æ˜¯é€šè¿‡ViewæŽ¥å—æŒ‡ä»¤ï¼Œä¼ é€’ç»™Controllerã€‚ å¦ä¸€ç§æ˜¯ç›´æŽ¥é€šè¿‡ControlleræŽ¥å—æŒ‡ä»¤ MVPMVPæ¨¡å¼å°†Controlleræ”¹åä¸ºPresenterï¼ŒåŒæ—¶æ”¹å˜äº†é€šä¿¡æ–¹å‘ã€‚ å„éƒ¨åˆ†ä¹‹é—´çš„é€šä¿¡ï¼Œéƒ½æ˜¯åŒå‘çš„ Viewå’ŒModelä¸å‘ç”Ÿè”ç³»ï¼Œéƒ½é€šè¿‡Presenterä¼ é€’ Viewéžå¸¸è–„ï¼Œä¸éƒ¨ç½²ä»»ä½•ä¸šåŠ¡é€»è¾‘ï¼Œç§°ä¸ºâ€è¢«åŠ¨è§†å›¾â€(Passive View)ï¼Œå³æ²¡æœ‰ä»»ä½•ä¸»åŠ¨æ€§ï¼Œè€ŒPresenteréžå¸¸åŽšï¼Œæ‰€æœ‰é€»è¾‘éƒ½éƒ¨ç½²åœ¨é‚£é‡Œã€‚ MVVMMVVMæ¨¡å¼å°†Presenteræ”¹åä¸ºViewModelï¼ŒåŸºæœ¬ä¸Šä¸ŽMVPæ¨¡å¼å®Œå…¨ä¸€è‡´ã€‚ å”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œå®ƒé‡‡ç”¨åŒå‘ç»‘å®š(data-binding)ï¼šViewçš„å˜åŠ¨ï¼Œè‡ªåŠ¨åæ˜ åœ¨ViewModelï¼Œåä¹‹äº¦ç„¶ã€‚]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ListViewè¯¦è§£]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FAndroid%2FListview%E8%AF%A6%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[ListViewè¯¦è§£ ç›´æŽ¥ç»§æ‰¿è‡ªAbsListViewï¼ŒAbsListViewç»§æ‰¿è‡ªAdapterViewï¼ŒAdapterViewåˆç»§æ‰¿è‡ªViewGroupã€‚ Adpateråœ¨ListViewå’Œæ•°æ®æºä¹‹é—´èµ·åˆ°äº†ä¸€ä¸ªæ¡¥æ¢çš„ä½œç”¨ RecycleBinæœºåˆ¶RecycleBinæœºåˆ¶æ˜¯ListViewèƒ½å¤Ÿå®žçŽ°æˆç™¾ä¸Šåƒæ¡æ•°æ®éƒ½ä¸ä¼šOOMæœ€é‡è¦çš„ä¸€ä¸ªåŽŸå› ã€‚RecycleBinæ˜¯AbsListViewçš„ä¸€ä¸ªå†…éƒ¨ç±»ã€‚ RecycleBinå½“ä¸­ä½¿ç”¨mActiveViewsè¿™ä¸ªæ•°ç»„æ¥å­˜å‚¨Viewï¼Œè°ƒç”¨è¿™ä¸ªæ–¹æ³•åŽå°±ä¼šæ ¹æ®ä¼ å…¥çš„å‚æ•°æ¥å°†ListViewä¸­çš„æŒ‡å®šå…ƒç´ å­˜å‚¨åˆ°mActiveViewsä¸­ã€‚ mActiveViewså½“ä¸­æ‰€å­˜å‚¨çš„Viewï¼Œä¸€æ—¦è¢«èŽ·å–äº†ä¹‹åŽå°±ä¼šä»ŽmActiveViewså½“ä¸­ç§»é™¤ï¼Œä¸‹æ¬¡èŽ·å–åŒæ ·ä½ç½®çš„æ—¶å€™å°†ä¼šè¿”å›žnullï¼Œæ‰€ä»¥mActiveViewsä¸èƒ½è¢«é‡å¤åˆ©ç”¨ã€‚ addScrapView()ç”¨äºŽå°†ä¸€ä¸ªåºŸå¼ƒçš„Viewè¿›è¡Œç¼“å­˜ï¼Œè¯¥æ–¹æ³•æŽ¥æ”¶ä¸€ä¸ªViewå‚æ•°ï¼Œå½“æœ‰æŸä¸ªViewç¡®å®šè¦åºŸå¼ƒæŽ‰çš„æ—¶å€™ï¼ˆæ¯”å¦‚æ»šåŠ¨å‡ºäº†å±å¹•ï¼‰å°±åº”è¯¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•æ¥å¯¹Viewè¿›è¡Œç¼“å­˜ï¼ŒRecycleBinå½“ä¸­ä½¿ç”¨mScrapV iewså’ŒmCurrentScrapè¿™ä¸¤ä¸ªListæ¥å­˜å‚¨åºŸå¼ƒViewã€‚ getScrapView ç”¨äºŽä»ŽåºŸå¼ƒç¼“å­˜ä¸­å–å‡ºä¸€ä¸ªViewï¼Œè¿™äº›åºŸå¼ƒç¼“å­˜ä¸­çš„Viewæ˜¯æ²¡æœ‰é¡ºåºå¯è¨€çš„ï¼Œå› æ­¤getScrapView()æ–¹æ³•ä¸­çš„ç®—æ³•ä¹Ÿéžå¸¸ç®€å•ï¼Œå°±æ˜¯ç›´æŽ¥ä»ŽmCurrentScrapå½“ä¸­èŽ·å–å°¾éƒ¨çš„ä¸€ä¸ªscrap viewè¿›è¡Œè¿”å›žã€‚ æˆ‘ä»¬éƒ½çŸ¥é“Adapterå½“ä¸­å¯ä»¥é‡å†™ä¸€ä¸ªgetViewTypeCount()æ¥è¡¨ç¤ºListViewä¸­æœ‰å‡ ç§ç±»åž‹çš„æ•°æ®é¡¹ï¼Œè€ŒsetViewTypeCount()æ–¹æ³•çš„ä½œç”¨å°±æ˜¯ä¸ºæ¯ç§ç±»åž‹çš„æ•°æ®é¡¹éƒ½å•ç‹¬å¯ç”¨ä¸€ä¸ªRecycleBinç¼“å­˜æœºåˆ¶ã€‚ Viewçš„æµç¨‹åˆ†ä¸‰æ­¥ï¼ŒonMeasure()ç”¨äºŽæµ‹é‡Viewçš„å¤§å°ï¼ŒonLayout()ç”¨äºŽç¡®å®šViewçš„å¸ƒå±€ï¼ŒonDraw()ç”¨äºŽå°†Viewç»˜åˆ¶åˆ°ç•Œé¢ä¸Šã€‚]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[MVP]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FAndroid%2FMVP%2F</url>
    <content type="text"><![CDATA[MVP ä¸ºä»€ä¹ˆéœ€è¦MVP å°½é‡ç®€å• å¤§éƒ¨åˆ†çš„å®‰å“åº”ç”¨åªä½¿ç”¨View-Modelç»“æž„,ç¨‹åºå‘˜çŽ°åœ¨æ›´å¤šçš„æ˜¯å’Œå¤æ‚çš„Viewæ‰“äº¤é“è€Œä¸æ˜¯è§£å†³ä¸šåŠ¡é€»è¾‘ã€‚å½“ä½ åœ¨åº”ç”¨ä¸­åªä½¿ç”¨Model-Viewæ—¶ï¼Œåˆ°æœ€åŽï¼Œä½ ä¼šå‘çŽ°â€œæ‰€æœ‰çš„äº‹ç‰©éƒ½è¢«è¿žæŽ¥åˆ°ä¸€èµ·â€ã€‚å¤æ‚çš„ä»»åŠ¡è¢«åˆ†æˆç»†å°çš„ä»»åŠ¡ï¼Œå¹¶ä¸”å¾ˆå®¹æ˜“è§£å†³ã€‚è¶Šå°çš„ä¸œè¥¿ï¼Œbugè¶Šå°‘ï¼Œè¶Šå®¹æ˜“debugï¼Œæ›´å¥½æµ‹è¯•ã€‚åœ¨MVPæ¨¡å¼ä¸‹çš„Viewå±‚å°†ä¼šå˜å¾—ç®€å•ï¼Œæ‰€ä»¥å³ä¾¿æ˜¯ä»–è¯·æ±‚æ•°æ®çš„æ—¶å€™ä¹Ÿä¸éœ€è¦å›žè°ƒå‡½æ•°ã€‚Viewé€»è¾‘å˜æˆååˆ†ç›´æŽ¥ã€‚ åŽå°ä»»åŠ¡ å½“ä½ ç¼–å†™ä¸€ä¸ªActviityã€Fragmentã€è‡ªå®šä¹‰Viewçš„æ—¶å€™ï¼Œä½ ä¼šæŠŠæ‰€æœ‰çš„å’ŒåŽå°ä»»åŠ¡ç›¸å…³çš„æ–¹æ³•å†™åœ¨ä¸€ä¸ªé™æ€ç±»æˆ–è€…å¤–éƒ¨ç±»ä¸­ã€‚è¿™æ ·ï¼Œä½ çš„Taskä¸å†å’ŒActivityè”ç³»åœ¨ä¸€èµ·ï¼Œè¿™æ—¢ä¸ä¼šå¯¼è‡´å†…å­˜æ³„éœ²ï¼Œä¹Ÿä¸ä¾èµ–äºŽActivityçš„é‡å»ºã€‚ ä¼˜ç¼ºç‚¹ä¼˜ç‚¹ï¼š é™ä½Žè€¦åˆåº¦ï¼Œå®žçŽ°äº†Modelå’ŒViewçœŸæ­£çš„å®Œå…¨åˆ†ç¦»ï¼Œå¯ä»¥ä¿®æ”¹Viewè€Œä¸å½±å“Modle æ¨¡å—èŒè´£åˆ’åˆ†æ˜Žæ˜¾ï¼Œå±‚æ¬¡æ¸…æ™° éšè—æ•°æ® Presenterå¯ä»¥å¤ç”¨ï¼Œä¸€ä¸ªPresenterå¯ä»¥ç”¨äºŽå¤šä¸ªViewï¼Œè€Œä¸éœ€è¦æ›´æ”¹Presenterçš„é€»è¾‘ï¼ˆå½“ç„¶æ˜¯åœ¨Viewçš„æ”¹åŠ¨ä¸å½±å“ä¸šåŠ¡é€»è¾‘çš„å‰æä¸‹ï¼‰ åˆ©äºŽæµ‹è¯•é©±åŠ¨å¼€å‘ã€‚ä»¥å‰çš„Androidå¼€å‘æ˜¯éš¾ä»¥è¿›è¡Œå•å…ƒæµ‹è¯•çš„ï¼ˆè™½ç„¶å¾ˆå¤šAndroidå¼€å‘è€…éƒ½æ²¡æœ‰å†™è¿‡æµ‹è¯•ç”¨ä¾‹ï¼Œä½†æ˜¯éšç€é¡¹ç›®å˜å¾—è¶Šæ¥è¶Šå¤æ‚ï¼Œæ²¡æœ‰æµ‹è¯•æ˜¯å¾ˆéš¾ä¿è¯è½¯ä»¶è´¨é‡çš„ï¼›è€Œä¸”è¿‘å‡ å¹´æ¥Androidä¸Šçš„æµ‹è¯•æ¡†æž¶å·²ç»æœ‰äº†é•¿è¶³çš„å‘å±•â€”â€”å¼€å§‹å†™æµ‹è¯•ç”¨ä¾‹å§ï¼‰ï¼Œåœ¨ä½¿ç”¨MVPçš„é¡¹ç›®ä¸­Presenterå¯¹Viewæ˜¯é€šè¿‡æŽ¥å£è¿›è¡Œï¼Œåœ¨å¯¹Presenterè¿›è¡Œä¸ä¾èµ–UIçŽ¯å¢ƒçš„å•å…ƒæµ‹è¯•çš„æ—¶å€™ã€‚å¯ä»¥é€šè¿‡Mockä¸€ä¸ªViewå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åªéœ€è¦å®žçŽ°äº†Viewçš„æŽ¥å£å³å¯ã€‚ç„¶åŽä¾èµ–æ³¨å…¥åˆ°Presenterä¸­ï¼Œå•å…ƒæµ‹è¯•çš„æ—¶å€™å°±å¯ä»¥å®Œæ•´çš„æµ‹è¯•Presenteråº”ç”¨é€»è¾‘çš„æ­£ç¡®æ€§ã€‚ Viewå¯ä»¥è¿›è¡Œç»„ä»¶åŒ–ã€‚åœ¨MVPå½“ä¸­ï¼ŒViewä¸ä¾èµ–Modelã€‚è¿™æ ·å°±å¯ä»¥è®©Viewä»Žç‰¹å®šçš„ä¸šåŠ¡åœºæ™¯ä¸­è„±ç¦»å‡ºæ¥ï¼Œå¯ä»¥è¯´Viewå¯ä»¥åšåˆ°å¯¹ä¸šåŠ¡å®Œå…¨æ— çŸ¥ã€‚å®ƒåªéœ€è¦æä¾›ä¸€ç³»åˆ—æŽ¥å£æä¾›ç»™ä¸Šå±‚æ“ä½œã€‚è¿™æ ·å°±å¯ä»¥åšåˆ°é«˜åº¦å¯å¤ç”¨çš„Viewç»„ä»¶ã€‚ ä»£ç çµæ´»æ€§ ç¼ºç‚¹ï¼š Presenterä¸­é™¤äº†åº”ç”¨é€»è¾‘ä»¥å¤–ï¼Œè¿˜æœ‰å¤§é‡çš„View-&gt;Modelï¼ŒModel-&gt;Viewçš„æ‰‹åŠ¨åŒæ­¥é€»è¾‘ï¼Œé€ æˆPresenteræ¯”è¾ƒç¬¨é‡ï¼Œç»´æŠ¤èµ·æ¥ä¼šæ¯”è¾ƒå›°éš¾ã€‚ ç”±äºŽå¯¹è§†å›¾çš„æ¸²æŸ“æ”¾åœ¨äº†Presenterä¸­ï¼Œæ‰€ä»¥è§†å›¾å’ŒPresenterçš„äº¤äº’ä¼šè¿‡äºŽé¢‘ç¹ã€‚ å¦‚æžœPresenterè¿‡å¤šåœ°æ¸²æŸ“äº†è§†å›¾ï¼Œå¾€å¾€ä¼šä½¿å¾—å®ƒä¸Žç‰¹å®šçš„è§†å›¾çš„è”ç³»è¿‡äºŽç´§å¯†ã€‚ä¸€æ—¦è§†å›¾éœ€è¦å˜æ›´ï¼Œé‚£ä¹ˆPresenterä¹Ÿéœ€è¦å˜æ›´äº†ã€‚ é¢å¤–çš„ä»£ç å¤æ‚åº¦åŠå­¦ä¹ æˆæœ¬ã€‚ åœ¨MVPæ¨¡å¼é‡Œé€šå¸¸åŒ…å«4ä¸ªè¦ç´ ï¼š View :è´Ÿè´£ç»˜åˆ¶UIå…ƒç´ ã€ä¸Žç”¨æˆ·è¿›è¡Œäº¤äº’(åœ¨Androidä¸­ä½“çŽ°ä¸ºActivity); View interface :éœ€è¦Viewå®žçŽ°çš„æŽ¥å£ï¼ŒViewé€šè¿‡View interfaceä¸ŽPresenterè¿›è¡Œäº¤äº’ï¼Œé™ä½Žè€¦åˆï¼Œæ–¹ä¾¿è¿›è¡Œå•å…ƒæµ‹è¯•; Model :è´Ÿè´£å­˜å‚¨ã€æ£€ç´¢ã€æ“çºµæ•°æ®(æœ‰æ—¶ä¹Ÿå®žçŽ°ä¸€ä¸ªModel interfaceç”¨æ¥é™ä½Žè€¦åˆ); Presenter :ä½œä¸ºViewä¸ŽModeläº¤äº’çš„ä¸­é—´çº½å¸¦ï¼Œå¤„ç†ä¸Žç”¨æˆ·äº¤äº’çš„è´Ÿè´£é€»è¾‘ã€‚]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ä¸ºä»€ä¹ˆè¦ä½¿ç”¨SurfaceViewæ¥å®žçŽ°åŠ¨ç”»ï¼Ÿ]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FAndroid%2FSurfaceView%2F</url>
    <content type="text"><![CDATA[ä¸ºä»€ä¹ˆè¦ä½¿ç”¨SurfaceViewæ¥å®žçŽ°åŠ¨ç”»ï¼Ÿå› ä¸ºViewçš„ç»˜å›¾å­˜åœ¨ä»¥ä¸‹ç¼ºé™·ï¼š Viewç¼ºä¹åŒç¼“å†²æœºåˆ¶ å½“ç¨‹åºéœ€è¦æ›´æ–°Viewä¸Šçš„å›¾åƒæ—¶ï¼Œç¨‹åºå¿…é¡»é‡ç»˜Viewä¸Šæ˜¾ç¤ºçš„æ•´å¼ å›¾ç‰‡ æ–°çº¿ç¨‹æ— æ³•ç›´æŽ¥æ›´æ–°Viewç»„ä»¶ SurfaceViewçš„ç»˜å›¾æœºåˆ¶ ä¸€èˆ¬ä¼šä¸ŽSurfaceViewç»“åˆä½¿ç”¨ è°ƒç”¨SurfaceViewçš„getHolder()æ–¹æ³•å³å¯èŽ·å¾—SurfaceViewå…³è”çš„SurfaceHolder SurfaceHolderæä¾›äº†å¦‚ä¸‹æ–¹æ³•æ¥èŽ·å–Canvaså¯¹è±¡ Canvas lockCanvas():é”å®šæ•´ä¸ªSurfaceViewå¯¹è±¡ï¼ŒèŽ·å–è¯¥Surfaceä¸Šçš„Canvas Canvas lockCanvas(Rect dirty):é”å®šSurfaceViewä¸ŠRectåˆ’åˆ†çš„åŒºåŸŸï¼ŒèŽ·å–è¯¥Surfaceä¸Šçš„Canvas unlockCanvasAndPost(canvas):é‡Šæ”¾ç»˜å›¾ã€æäº¤æ‰€ç»˜åˆ¶çš„å›¾å½¢ï¼Œéœ€è¦æ³¨æ„ï¼Œå½“è°ƒç”¨SurfaceHolderä¸Šçš„unlockCanvasAndPostæ–¹æ³•ä¹‹åŽï¼Œè¯¥æ–¹æ³•ä¹‹å‰æ‰€ç»˜åˆ¶çš„å›¾å½¢è¿˜å¤„äºŽç¼“å†²ä¹‹ä¸­ï¼Œä¸‹ä¸€æ¬¡lockCanvas()æ–¹æ³•é”å®šçš„åŒºåŸŸå¯èƒ½ä¼šâ€œé®æŒ¡â€å®ƒ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081 public class SurfaceViewTest extends Activity&#123; // SurfaceHolderè´Ÿè´£ç»´æŠ¤SurfaceViewä¸Šç»˜åˆ¶çš„å†…å®¹ private SurfaceHolder holder; private Paint paint; @Override public void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.main); paint = new Paint(); SurfaceView surface = (SurfaceView) findViewById(R.id.show); // åˆå§‹åŒ–SurfaceHolderå¯¹è±¡ holder = surface.getHolder(); holder.addCallback(new Callback() &#123; @Override public void surfaceChanged(SurfaceHolder arg0, int arg1, int arg2, int arg3) &#123; &#125; @Override public void surfaceCreated(SurfaceHolder holder) &#123; // é”å®šæ•´ä¸ªSurfaceView Canvas canvas = holder.lockCanvas(); // ç»˜åˆ¶èƒŒæ™¯ Bitmap back = BitmapFactory.decodeResource( SurfaceViewTest.this.getResources() , R.drawable.sun); // ç»˜åˆ¶èƒŒæ™¯ canvas.drawBitmap(back, 0, 0, null); // ç»˜åˆ¶å®Œæˆï¼Œé‡Šæ”¾ç”»å¸ƒï¼Œæäº¤ä¿®æ”¹ holder.unlockCanvasAndPost(canvas); // é‡æ–°é”ä¸€æ¬¡ï¼Œ"æŒä¹…åŒ–"ä¸Šæ¬¡æ‰€ç»˜åˆ¶çš„å†…å®¹ holder.lockCanvas(new Rect(0, 0, 0, 0)); holder.unlockCanvasAndPost(canvas); &#125; @Override public void surfaceDestroyed(SurfaceHolder holder) &#123; &#125; &#125;); // ä¸ºsurfaceçš„è§¦æ‘¸äº‹ä»¶ç»‘å®šç›‘å¬å™¨ surface.setOnTouchListener(new OnTouchListener() &#123; @Override public boolean onTouch(View source, MotionEvent event) &#123; // åªå¤„ç†æŒ‰ä¸‹äº‹ä»¶ if (event.getAction() == MotionEvent.ACTION_DOWN) &#123; int cx = (int) event.getX(); int cy = (int) event.getY(); // é”å®šSurfaceViewçš„å±€éƒ¨åŒºåŸŸï¼Œåªæ›´æ–°å±€éƒ¨å†…å®¹ Canvas canvas = holder.lockCanvas(new Rect(cx - 50, cy - 50, cx + 50, cy + 50)); // ä¿å­˜canvasçš„å½“å‰çŠ¶æ€ canvas.save(); // æ—‹è½¬ç”»å¸ƒ canvas.rotate(30, cx, cy); paint.setColor(Color.RED); // ç»˜åˆ¶çº¢è‰²æ–¹å— canvas.drawRect(cx - 40, cy - 40, cx, cy, paint); // æ¢å¤Canvasä¹‹å‰çš„ä¿å­˜çŠ¶æ€ canvas.restore(); paint.setColor(Color.GREEN); // ç»˜åˆ¶ç»¿è‰²æ–¹å— canvas.drawRect(cx, cy, cx + 40, cy + 40, paint); // ç»˜åˆ¶å®Œæˆï¼Œé‡Šæ”¾ç”»å¸ƒï¼Œæäº¤ä¿®æ”¹ holder.unlockCanvasAndPost(canvas); &#125; return false; &#125; &#125;); &#125; &#125; ä¸Šé¢çš„ç¨‹åºä¸ºSurfaceHolderæ·»åŠ äº†ä¸€ä¸ªCallBackå®žä¾‹ï¼Œè¯¥Callbackä¸­å®šä¹‰äº†å¦‚ä¸‹ä¸‰ä¸ªæ–¹æ³•ï¼š void surfaceChanged(SurfaceHolder holder, int format, int width, int height):å½“ä¸€ä¸ªsurfaceçš„æ ¼å¼æˆ–å¤§å°å‘ç”Ÿæ”¹å˜æ—¶å›žè°ƒè¯¥æ–¹æ³•ã€‚ void surfaceCreated(SurfaceHolder holder):å½“surfaceè¢«åˆ›å»ºæ—¶å›žè°ƒè¯¥æ–¹æ³• void surfaceDestroyed(SurfaceHolder holder):å½“surfaceå°†è¦è¢«é”€æ¯æ—¶å›žè°ƒè¯¥æ–¹æ³•]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[RecyclerViewå’ŒListViewçš„å¼‚åŒ]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FAndroid%2FRecyclerview%E5%92%8CListview%E7%9A%84%E5%BC%82%E5%90%8C%2F</url>
    <content type="text"><![CDATA[RecyclerViewå’ŒListViewçš„å¼‚åŒ ViewHolderæ˜¯ç”¨æ¥ä¿å­˜è§†å›¾å¼•ç”¨çš„ç±»ï¼Œæ— è®ºæ˜¯ListViewäº¦æˆ–æ˜¯RecyclerViewã€‚åªä¸è¿‡åœ¨ListViewä¸­ï¼ŒViewHolderéœ€è¦è‡ªå·±æ¥å®šä¹‰ï¼Œä¸”è¿™åªæ˜¯ä¸€ç§æŽ¨èçš„ä½¿ç”¨æ–¹å¼ï¼Œä¸ä½¿ç”¨å½“ç„¶ä¹Ÿå¯ä»¥ï¼Œè¿™ä¸æ˜¯å¿…é¡»çš„ã€‚åªä¸è¿‡ä¸ä½¿ç”¨ViewHolderçš„è¯ï¼ŒListViewæ¯æ¬¡getViewçš„æ—¶å€™éƒ½ä¼šè°ƒç”¨findViewById(int)ï¼Œè¿™å°†å¯¼è‡´ListViewæ€§èƒ½å±•ç¤ºè¿Ÿç¼“ã€‚è€Œåœ¨RecyclerViewä¸­ä½¿ç”¨RecyclerView.ViewHolderåˆ™å˜æˆäº†å¿…é¡»ï¼Œå°½ç®¡å®žçŽ°èµ·æ¥ç¨æ˜¾å¤æ‚ï¼Œä½†å®ƒå´è§£å†³äº†ListViewé¢ä¸´çš„ä¸Šè¿°ä¸ä½¿ç”¨è‡ªå®šä¹‰ViewHolderæ—¶æ‰€é¢ä¸´çš„é—®é¢˜ã€‚ æˆ‘ä»¬çŸ¥é“ListViewåªèƒ½åœ¨åž‚ç›´æ–¹å‘ä¸Šæ»šåŠ¨ï¼ŒAndroid APIæ²¡æœ‰æä¾›ListViewåœ¨æ°´å¹³æ–¹å‘ä¸Šé¢æ»šåŠ¨çš„æ”¯æŒã€‚æˆ–è®¸æœ‰å¤šç§æ–¹å¼å®žçŽ°æ°´å¹³æ»‘åŠ¨ï¼Œä½†æ˜¯è¯·æƒ³å¿µæˆ‘ï¼ŒListViewå¹¶ä¸æ˜¯è®¾è®¡æ¥åšè¿™ä»¶äº‹æƒ…çš„ã€‚ä½†æ˜¯RecyclerViewç›¸è¾ƒäºŽListViewï¼Œåœ¨æ»šåŠ¨ä¸Šé¢çš„åŠŸèƒ½æ‰©å±•äº†è®¸å¤šã€‚å®ƒå¯ä»¥æ”¯æŒå¤šç§ç±»åž‹åˆ—è¡¨çš„å±•ç¤ºè¦æ±‚ï¼Œä¸»è¦å¦‚ä¸‹ï¼š LinearLayoutManagerï¼Œå¯ä»¥æ”¯æŒæ°´å¹³å’Œç«–ç›´æ–¹å‘ä¸Šæ»šåŠ¨çš„åˆ—è¡¨ã€‚ StaggeredGridLayoutManagerï¼Œå¯ä»¥æ”¯æŒäº¤å‰ç½‘æ ¼é£Žæ ¼çš„åˆ—è¡¨ï¼Œç±»ä¼¼äºŽç€‘å¸ƒæµæˆ–è€…Pinterestã€‚ GridLayoutManagerï¼Œæ”¯æŒç½‘æ ¼å±•ç¤ºï¼Œå¯ä»¥æ°´å¹³æˆ–è€…ç«–ç›´æ»šåŠ¨ï¼Œå¦‚å±•ç¤ºå›¾ç‰‡çš„ç”»å»Šã€‚ åˆ—è¡¨åŠ¨ç”»æ˜¯ä¸€ä¸ªå…¨æ–°çš„ã€æ‹¥æœ‰æ— é™å¯èƒ½çš„ç»´åº¦ã€‚èµ·åˆçš„Android APIä¸­ï¼Œåˆ é™¤æˆ–æ·»åŠ itemæ—¶ï¼Œitemæ˜¯æ— æ³•äº§ç”ŸåŠ¨ç”»æ•ˆæžœçš„ã€‚åŽé¢éšç€Androidçš„è¿›åŒ–ï¼ŒGoogleçš„Chat HasseæŽ¨èä½¿ç”¨ViewPropertyAnimatorå±žæ€§åŠ¨ç”»æ¥å®žçŽ°ä¸Šè¿°éœ€æ±‚ã€‚ç›¸æ¯”è¾ƒäºŽListViewï¼ŒRecyclerView.ItemAnimatoråˆ™è¢«æä¾›ç”¨äºŽåœ¨RecyclerViewæ·»åŠ ã€åˆ é™¤æˆ–ç§»åŠ¨itemæ—¶å¤„ç†åŠ¨ç”»æ•ˆæžœã€‚åŒæ—¶ï¼Œå¦‚æžœä½ æ¯”è¾ƒæ‡’ï¼Œä¸æƒ³è‡ªå®šä¹‰ItemAnimatorï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨DefaultItemAnimatorã€‚ ListViewçš„Adapterä¸­ï¼ŒgetViewæ˜¯æœ€é‡è¦çš„æ–¹æ³•ï¼Œå®ƒå°†è§†å›¾è·Ÿpositionç»‘å®šèµ·æ¥ï¼Œæ˜¯æ‰€æœ‰ç¥žå¥‡çš„äº‹æƒ…å‘ç”Ÿçš„åœ°æ–¹ã€‚åŒæ—¶æˆ‘ä»¬ä¹Ÿèƒ½å¤Ÿé€šè¿‡registerDataObserveråœ¨Adapterä¸­æ³¨å†Œä¸€ä¸ªè§‚å¯Ÿè€…ã€‚RecyclerViewä¹Ÿæœ‰è¿™ä¸ªç‰¹æ€§ï¼ŒRecyclerView.AdapterDataObserverå°±æ˜¯è¿™ä¸ªè§‚å¯Ÿè€…ã€‚ListViewæœ‰ä¸‰ä¸ªAdapterçš„é»˜è®¤å®žçŽ°ï¼Œåˆ†åˆ«æ˜¯ArrayAdapterã€CursorAdapterå’ŒSimpleCursorAdapterã€‚ç„¶è€Œï¼ŒRecyclerViewçš„Adapteråˆ™æ‹¥æœ‰é™¤äº†å†…ç½®çš„å†…DBæ¸¸æ ‡å’ŒArrayListçš„æ”¯æŒä¹‹å¤–çš„æ‰€æœ‰åŠŸèƒ½ã€‚RecyclerView.Adapterçš„å®žçŽ°çš„ï¼Œæˆ‘ä»¬å¿…é¡»é‡‡å–æŽªæ–½å°†æ•°æ®æä¾›ç»™Adapterï¼Œæ­£å¦‚BaseAdapterå¯¹ListViewæ‰€åšçš„é‚£æ ·ã€‚ åœ¨ListViewä¸­å¦‚æžœæˆ‘ä»¬æƒ³è¦åœ¨itemä¹‹é—´æ·»åŠ é—´éš”ç¬¦ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨å¸ƒå±€æ–‡ä»¶ä¸­å¯¹ListViewæ·»åŠ å¦‚ä¸‹å±žæ€§å³å¯ï¼š 12android:divider="@android:color/transparent"android:dividerHeight="5dp" ListViewé€šè¿‡AdapterView.OnItemClickListeneræŽ¥å£æ¥æŽ¢æµ‹ç‚¹å‡»äº‹ä»¶ã€‚è€ŒRecyclerViewåˆ™é€šè¿‡RecyclerView.OnItemTouchListeneræŽ¥å£æ¥æŽ¢æµ‹è§¦æ‘¸äº‹ä»¶ã€‚å®ƒè™½ç„¶å¢žåŠ äº†å®žçŽ°çš„éš¾åº¦ï¼Œä½†æ˜¯å´ç»™äºˆå¼€å‘äººå‘˜æ‹¦æˆªè§¦æ‘¸äº‹ä»¶æ›´å¤šçš„æŽ§åˆ¶æƒé™ã€‚ ListViewå¯ä»¥è®¾ç½®é€‰æ‹©æ¨¡å¼ï¼Œå¹¶æ·»åŠ MultiChoiceModeListenerï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415161718192021222324 listView.setChoiceMode(ListView.CHOICE_MODE_MULTIPLE_MODAL);listView.setMultiChoiceModeListener(new MultiChoiceModeListener() &#123; public boolean onCreateActionMode(ActionMode mode, Menu menu) &#123; ... &#125; public void onItemCheckedStateChanged(ActionMode mode, int position,long id, boolean checked) &#123; ... &#125; public boolean onActionItemClicked(ActionMode mode, MenuItem item) &#123; switch (item.getItemId()) &#123; case R.id.menu_item_delete_crime: CrimeAdapter adapter = (CrimeAdapter)getListAdapter(); CrimeLab crimeLab = CrimeLab.get(getActivity()); for (int i = adapter.getCount() - 1; i &gt;= 0; i--) &#123; if (getListView().isItemChecked(i)) &#123; crimeLab.deleteCrime(adapter.getItem(i)); &#125; &#125; mode.finish(); adapter.notifyDataSetChanged(); return true; default: return false;&#125; public boolean onPrepareActionMode(ActionMode mode, Menu menu) &#123; ... &#125; public void onDestroyActionMode(ActionMode mode) &#123; ... &#125;&#125;); è€ŒRecyclerViewåˆ™æ²¡æœ‰æ­¤åŠŸèƒ½ã€‚ http://www.cnblogs.com/littlepanpc/p/4497290.html]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[æŸ¥æ¼è¡¥ç¼º]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FAndroid%2F%E6%9F%A5%E6%BC%8F%E8%A1%A5%E7%BC%BA%2F</url>
    <content type="text"><![CDATA[æŸ¥æ¼è¡¥ç¼º è¯·åˆ†æžä¸€å¼ 400*500å°ºå¯¸çš„PNGå›¾ç‰‡åŠ è½½åˆ°ç¨‹åºä¸­å ç”¨å†…å­˜ä¸­çš„å¤§å° http://m.blog.csdn.net/article/details?id=7856519]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Zygoteå’ŒSystemè¿›ç¨‹çš„å¯åŠ¨è¿‡ç¨‹]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FAndroid%2FZygote%E5%92%8CSystem%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[Zygoteå’ŒSystemè¿›ç¨‹çš„å¯åŠ¨è¿‡ç¨‹ initè„šæœ¬çš„å¯åŠ¨ 12345+------------+ +-------+ +-----------+|Linux Kernel+--&gt; |init.rc+-&gt; |app_process|+------------+ +-------+ +-----------+ create and public server socket linuxå†…æ ¸åŠ è½½å®ŒæˆåŽï¼Œè¿è¡Œinit.rcè„šæœ¬ 1service zygote /system/bin/app_process -Xzygote /system/bin --zygote --start-system-server socket zygote stream 666 /system/bin/app_process ZygoteæœåŠ¡å¯åŠ¨çš„è¿›ç¨‹å â€”start-system-server è¡¨æ˜ŽZygoteå¯åŠ¨å®Œæˆä¹‹åŽï¼Œè¦å¯åŠ¨Systemè¿›ç¨‹ã€‚ socket zygote stream 666 åœ¨Zygoteå¯åŠ¨æ—¶ï¼Œåˆ›å»ºä¸€ä¸ªæƒé™ä¸º666çš„socketã€‚æ­¤socketç”¨æ¥è¯·æ±‚Zygoteåˆ›å»ºæ–°è¿›ç¨‹ã€‚socketçš„fdä¿å­˜åœ¨åç§°ä¸ºâ€œANDROID_SOCKET_zygoteâ€çš„çŽ¯å¢ƒå˜é‡ä¸­ã€‚ Zygoteè¿›ç¨‹çš„å¯åŠ¨è¿‡ç¨‹ 12345678910111213 create rumtime +-----------+ +----------+ |app_process+----------&gt; |ZygoteInit| +-----------+ +-----+----+ | | | registerZygoteSocket() | +------+ startSystemServer() | |System| &lt;-------+ | +------+ fork | runSelectLoopMode() | v app_processè¿›ç¨‹ /system/bin/app_process å¯åŠ¨æ—¶åˆ›å»ºäº†ä¸€ä¸ªAppRuntimeå¯¹è±¡ã€‚é€šè¿‡AppRuntimeå¯¹è±¡çš„startæ–¹æ³•ï¼Œé€šè¿‡JNIè°ƒç”¨åˆ›å»ºäº†ä¸€ä¸ªè™šæ‹Ÿæœºå®žä¾‹ï¼Œç„¶åŽè¿è¡Œcom.android.internal.os.ZygoteInitç±»çš„é™æ€mainæ–¹æ³•ï¼Œä¼ é€’true(boolean startSystemServer)å‚æ•°ã€‚ ZygoteInitç±» ZygoteInitç±»çš„mainæ–¹æ³•è¿è¡Œæ—¶ï¼Œä¼šé€šè¿‡registerZygoteSocketæ–¹æ³•åˆ›å»ºä¸€ä¸ªä¾›ActivityManagerServiceä½¿ç”¨çš„server socketã€‚ç„¶åŽé€šè¿‡è°ƒç”¨startSystemServeræ–¹æ³•æ¥å¯åŠ¨Systemè¿›ç¨‹ã€‚æœ€åŽé€šè¿‡runSelectLoopModeæ¥ç­‰å¾…AMSçš„æ–°å»ºè¿›ç¨‹è¯·æ±‚ã€‚ åœ¨registerZygoteSocketæ–¹æ³•ä¸­ï¼Œé€šè¿‡åä¸ºANDROID_SOCKET_zygoteçš„çŽ¯å¢ƒèŽ·å–åˆ°zygoteå¯åŠ¨æ—¶åˆ›å»ºçš„socketçš„fdï¼Œç„¶åŽä»¥æ­¤æ¥åˆ›å»ºserver socketã€‚ åœ¨startSystemServeræ–¹æ³•ä¸­ï¼Œé€šè¿‡Zygote.forkSystemServeræ–¹æ³•åˆ›å»ºäº†ä¸€ä¸ªå­è¿›ç¨‹ï¼Œå¹¶å°†å…¶ç”¨æˆ·å’Œç”¨æˆ·ç»„çš„IDè®¾ç½®ä¸º1000ã€‚ åœ¨runSelectLoopModeæ–¹æ³•ä¸­ï¼Œä¼šå°†ä¹‹å‰å»ºç«‹çš„server socketä¿å­˜èµ·æ¥ã€‚ç„¶åŽè¿›å…¥ä¸€ä¸ªæ— é™å¾ªçŽ¯ï¼Œåœ¨å…¶ä¸­é€šè¿‡selectReadableæ–¹æ³•ï¼Œç›‘å¬socketæ˜¯å¦æœ‰æ•°æ®å¯è¯»ã€‚æœ‰æ•°æ®åˆ™è¯´æ˜ŽæŽ¥æ”¶åˆ°äº†ä¸€ä¸ªè¯·æ±‚ã€‚selectReadableæ–¹æ³•ä¼šè¿”å›žä¸€ä¸ªæ•´æ•°å€¼indexã€‚å¦‚æžœindexä¸º0ï¼Œåˆ™è¯´æ˜Žè¿™ä¸ªæ˜¯AMSå‘è¿‡æ¥çš„è¿žæŽ¥è¯·æ±‚ã€‚è¿™æ—¶ä¼šä¸ŽAMSå»ºç«‹ä¸€ä¸ªæ–°çš„socketè¿žæŽ¥ï¼Œå¹¶åŒ…è£…æˆZygoteConnectionå¯¹è±¡ä¿å­˜èµ·æ¥ã€‚å¦‚æžœindexå¤§äºŽ0ï¼Œåˆ™è¯´æ˜Žè¿™æ˜¯AMSå‘è¿‡æ¥çš„ä¸€ä¸ªåˆ›å»ºæ–°è¿›ç¨‹çš„è¯·æ±‚ã€‚æ­¤æ—¶ä¼šå–å‡ºä¹‹å‰ä¿å­˜çš„ZygoteConnectionå¯¹è±¡ï¼Œè°ƒç”¨å…¶ä¸­çš„runOnceæ–¹æ³•åˆ›å»ºæ–°è¿›ç¨‹ã€‚è°ƒç”¨å®ŒæˆåŽå°†connectionåˆ é™¤ã€‚è¿™å°±æ˜¯Zygoteå¤„ç†ä¸€æ¬¡AMSè¯·æ±‚çš„è¿‡ç¨‹ã€‚ Systemè¿›ç¨‹çš„å¯åŠ¨ 123456789101112131415161718192021+ | | v fork() +--------------+ |System Process| +------+-------+ | | RuntimeInit.zygoteInit() commonInit, zygoteInitNative | init1() SurfaceFlinger, SensorServic... | | | init2() +------------+ +-------&gt; |ServerThread| | +----+-------+ | | | | AMS, PMS, WMS... | | | | | | v v Systemè¿›ç¨‹æ˜¯åœ¨ZygoteInitçš„handleSystemServerProcessä¸­å¼€å§‹å¯åŠ¨çš„ã€‚ é¦–å…ˆï¼Œå› ä¸ºSystemè¿›ç¨‹æ˜¯ç›´æŽ¥fork Zygoteè¿›ç¨‹çš„ï¼Œæ‰€ä»¥è¦å…ˆé€šè¿‡closeServerSocketæ–¹æ³•å…³æŽ‰server socketã€‚ è°ƒç”¨RuntimeInit.zygoteInitæ–¹æ³•è¿›ä¸€æ­¥å¯åŠ¨Systemè¿›ç¨‹ã€‚åœ¨zygoteInitä¸­ï¼Œé€šè¿‡commonInitæ–¹æ³•è®¾ç½®æ—¶åŒºå’Œé”®ç›˜å¸ƒå±€ç­‰é€šç”¨ä¿¡æ¯ï¼Œç„¶åŽé€šè¿‡zygoteInitNativeæ–¹æ³•å¯åŠ¨äº†ä¸€ä¸ªBinderçº¿ç¨‹æ± ã€‚æœ€åŽé€šè¿‡invokeStaticMainæ–¹æ³•è°ƒç”¨SystemServerç±»çš„é™æ€Mainæ–¹æ³•ã€‚ SystemServerç±»çš„mainé€šè¿‡JNIè°ƒç”¨cppå®žçŽ°çš„init1æ–¹æ³•ã€‚åœ¨init1æ–¹æ³•ä¸­ï¼Œä¼šå¯åŠ¨å„ç§ä»¥C++å¼€å‘çš„ç³»ç»ŸæœåŠ¡ï¼ˆä¾‹å¦‚SurfaceFlingerå’ŒSensorServiceï¼‰ã€‚ç„¶åŽå›žè°ƒServerServerç±»çš„init2æ–¹æ³•æ¥å¯åŠ¨ä»¥Javaå¼€å‘çš„ç³»ç»ŸæœåŠ¡ã€‚ åœ¨init2æ–¹æ³•ä¸­ï¼Œé¦–å…ˆä¼šæ–°å»ºåä¸ºâ€android.server.ServerThreadâ€çš„ServerThreadçº¿ç¨‹ï¼Œå¹¶è°ƒç”¨å…¶startæ–¹æ³•ã€‚ç„¶åŽåœ¨è¯¥çº¿ç¨‹ä¸­å¯åŠ¨å„ç§Serviceï¼ˆä¾‹å¦‚AMSï¼ŒPMSï¼ŒWMSç­‰ï¼‰ã€‚å¯åŠ¨çš„æ–¹å¼æ˜¯è°ƒç”¨å¯¹åº”Serviceç±»çš„é™æ€mainæ–¹æ³•ã€‚ é¦–å…ˆï¼ŒAMSä¼šè¢«åˆ›å»ºï¼Œä½†æœªæ³¨å†Œåˆ°ServerManagerä¸­ã€‚ç„¶åŽPMSè¢«åˆ›å»ºï¼ŒAMSè¿™æ—¶å€™æ‰æ³¨å†Œåˆ°ServerManagerä¸­ã€‚ç„¶åŽåˆ°ContentServiceã€WMSç­‰ã€‚æ³¨å†Œåˆ°ServerManagerä¸­æ—¶ä¼šåˆ¶å®šServiceçš„åå­—ï¼Œå…¶åŽå…¶ä»–è¿›ç¨‹å¯ä»¥é€šè¿‡è¿™ä¸ªåå­—æ¥èŽ·å–åˆ°Binder Proxyå¯¹è±¡ï¼Œä»¥è®¿é—®Serviceæä¾›çš„æœåŠ¡ã€‚ æ‰§è¡Œåˆ°è¿™é‡Œï¼ŒSystemå°±å°†ç³»ç»Ÿçš„å…³é”®æœåŠ¡å¯åŠ¨èµ·æ¥äº†ï¼Œè¿™æ—¶å€™å…¶ä»–è¿›ç¨‹ä¾¿å¯åˆ©ç”¨è¿™äº›Serviceæä¾›çš„åŸºç¡€æœåŠ¡äº†ã€‚ æœ€åŽä¼šè°ƒç”¨ActivityManagerServiceçš„systemReadyæ–¹æ³•ï¼Œåœ¨è¯¥æ–¹æ³•é‡Œä¼šå¯åŠ¨ç³»ç»Ÿç•Œé¢ä»¥åŠHomeç¨‹åºã€‚ Androidè¿›ç¨‹å¯åŠ¨ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051 +----------------------+ +-------+ +----------+ +----------------+ +-----------+ |ActivityManagerService| |Process| |ZygoteInit| |ZygoteConnection| |RuntimeInit| +--------------+-------+ +---+---+ +-----+----+ +-----------+----+ +------+----+ | | | | | | | | | | startProcessLocked() | | | | +---------------&gt; | | | | | | start() | | | | | "android.app.ActivityThread" | | | +-----------------&gt; | | | | | | | | | | | | | | | |openZygoteSocketIfNeeded() | | | +------+ | | | | | | | | | | | &lt;----+ | | | | | | | | | |sZygoteWriter.write(arg) | | | +------+ | | | | | | | | | | | | | | | | | &lt;----+ | | | | | | | | | +--------------&gt; | | | | | | | | | | |runSelectLoopMode() | | | | +-----------------+ | | | | | | | | | | | &lt;---------------+ | | | | | acceptCommandPeer() | | | | | | | | | | | | | | runOnce() | | | | +------------------&gt; | | | | | |forkAndSpecialize() | | | +-------------+ | | | | | | | | | | | &lt;-----------+ | | | | | handleChildProc() | | | | | | | | | | | | | | | | | | | zygoteInit() | | | | +-------------&gt; | | | | | | | | | | |in^okeStaticMain() | | | | +----------------&gt; | | | | |("android.app.ActivityThread") | | | | | | | | | | + + + + + AMSå‘Zygoteå‘èµ·è¯·æ±‚ï¼ˆé€šè¿‡ä¹‹å‰ä¿å­˜çš„socketï¼‰ï¼Œæºå¸¦å„ç§å‚æ•°ï¼ŒåŒ…æ‹¬â€œandroid.app.ActivityThreadâ€ã€‚ Zygoteè¿›ç¨‹forkè‡ªå·±ï¼Œç„¶åŽåœ¨æ–°Zygoteè¿›ç¨‹ä¸­è°ƒç”¨RuntimeInit.zygoteInitæ–¹æ³•è¿›è¡Œä¸€ç³»åˆ—çš„åˆå§‹åŒ–ï¼ˆcommonInitã€Binderçº¿ç¨‹æ± åˆå§‹åŒ–ç­‰ï¼‰ã€‚ æ–°Zygoteè¿›ç¨‹ä¸­è°ƒç”¨ActivityThreadçš„mainå‡½æ•°ï¼Œå¹¶å¯åŠ¨æ¶ˆæ¯å¾ªçŽ¯ã€‚]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[AndroidåŠ¨æ€åŠ è½½dexæŠ€æœ¯åˆæŽ¢]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FAndroid%2F%E6%8F%92%E4%BB%B6%E5%8C%96%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0%2F</url>
    <content type="text"><![CDATA[AndroidåŠ¨æ€åŠ è½½dexæŠ€æœ¯åˆæŽ¢http://blog.csdn.net/u013478336/article/details/50734108 Androidä½¿ç”¨Dalvikè™šæ‹ŸæœºåŠ è½½å¯æ‰§è¡Œç¨‹åºï¼Œæ‰€ä»¥ä¸èƒ½ç›´æŽ¥åŠ è½½åŸºäºŽclassçš„jarï¼Œè€Œæ˜¯éœ€è¦å°†classè½¬åŒ–ä¸ºdexå­—èŠ‚ç ã€‚ Androidæ”¯æŒåŠ¨æ€åŠ è½½çš„ä¸¤ç§æ–¹å¼æ˜¯ï¼šDexClassLoaderå’ŒPathClassLoaderï¼ŒDexClassLoaderå¯åŠ è½½jar/apk/dexï¼Œä¸”æ”¯æŒä»ŽSDå¡åŠ è½½ï¼›PathClassLoaderæ®è¯´åªèƒ½åŠ è½½å·²ç»å®‰è£…åœ¨Androidç³»ç»Ÿå†…APKæ–‡ä»¶ã€‚ Androidæ’ä»¶åŒ–åŸºç¡€Androidç®€å•æ¥è¯´å°±æ˜¯å¦‚ä¸‹æ“ä½œï¼š å¼€å‘è€…å°†æ’ä»¶ä»£ç å°è£…æˆJaræˆ–è€…APK å®¿ä¸»ä¸‹è½½æˆ–è€…ä»Žæœ¬åœ°åŠ è½½Jaræˆ–è€…APKåˆ°å®¿ä¸»ä¸­ å°†å®¿ä¸»è°ƒç”¨æ’ä»¶ä¸­çš„ç®—æ³•æˆ–è€…Androidç‰¹å®šçš„Classï¼ˆå¦‚Activityï¼‰ æ’ä»¶åŒ–å¼€å‘â€”åŠ¨æ€åŠ è½½æŠ€æœ¯åŠ è½½å·²å®‰è£…å’Œæœªå®‰è£…çš„apkhttp://blog.csdn.net/u010687392/article/details/47121729?hmsr=toutiao.io&amp;utm_medium=toutiao.io&amp;utm_source=toutiao.ioä¸ºä»€ä¹ˆå¼•å…¥åŠ¨æ€åŠ è½½æŠ€æœ¯ï¼Ÿ ä¸€ä¸ªåº”ç”¨ç¨‹åºdexæ–‡ä»¶çš„æ–¹æ³•æ•°æœ€å¤§ä¸èƒ½è¶…è¿‡65536ä¸ª å¯ä»¥è®©åº”ç”¨ç¨‹åºå®žçŽ°æ’ä»¶åŒ–ã€æ’æ‹”å¼ç»“æž„ï¼Œå¯¹åŽæœŸç»´æŠ¤æœ‰ç›Š ä»€ä¹ˆæ˜¯åŠ¨æ€åŠ è½½æŠ€æœ¯ åŠ¨æ€åŠ è½½æŠ€æœ¯å°±æ˜¯ä½¿ç”¨ç±»åŠ è½½å™¨åŠ è½½ç›¸åº”çš„apkã€dexã€jar(å¿…é¡»å«æœ‰dexæ–‡ä»¶)ï¼Œå†é€šè¿‡åå°„èŽ·å¾—è¯¥apkã€dexã€jarå†…éƒ¨çš„èµ„æºï¼ˆclassã€å›¾ç‰‡ã€colorç­‰ç­‰ï¼‰è¿›è€Œä¾›å®¿ä¸»appä½¿ç”¨ã€‚ å…³äºŽåŠ¨æ€åŠ è½½ä½¿ç”¨çš„ç±»åŠ è½½å™¨ PathClassLoader - åªèƒ½åŠ è½½å·²ç»å®‰è£…çš„apkï¼Œå³/data/appç›®å½•ä¸‹çš„apkã€‚ DexClassLoader - èƒ½åŠ è½½æ‰‹æœºä¸­æœªå®‰è£…çš„apkã€jarã€dexï¼Œåªè¦èƒ½åœ¨æ‰¾åˆ°å¯¹åº”çš„è·¯å¾„ã€‚ æ’ä»¶åŒ–æŠ€æœ¯å­¦ä¹  åŽŸå› ï¼š å„å¤§åŽ‚å•†éƒ½ç¢°åˆ°äº†AndroidNativeå¹³å°çš„ç“¶é¢ˆï¼š ä»ŽæŠ€æœ¯ä¸Šè®²ï¼Œä¸šåŠ¡é€»è¾‘çš„å¤æ‚ä»£ç æ€¥å‰§è†¨èƒ€ï¼Œå„å¤§åŽ‚å•†é™†ç»­è§¦åˆ°65535æ–¹æ³•æ•°çš„å¤©èŠ±æ¿ï¼›åŒæ—¶ï¼Œå¯¹æ¨¡å—çƒ­æ›´æ–°æå‡ºäº†æ›´é«˜çš„è¦æ±‚ã€‚ åœ¨ä¸šåŠ¡å±‚é¢ä¸Šï¼ŒåŠŸèƒ½æ¨¡å—çš„è§£è€¦ä»¥åŠç»´æŠ¤å›¢é˜Ÿçš„åˆ†ç¦»ä¹Ÿæ˜¯å¤§åŠ¿æ‰€è¶‹ã€‚ æ’ä»¶åŒ–æŠ€æœ¯ä¸»è¦è§£å†³ä¸¤ä¸ªé—®é¢˜ï¼š ä»£ç åŠ è½½ èµ„æºåŠ è½½ ä»£ç åŠ è½½ç±»çš„åŠ è½½å¯ä»¥ä½¿ç”¨Javaçš„ClassLoaderæœºåˆ¶ï¼Œè¿˜éœ€è¦ç»„ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚ èµ„æºåŠ è½½ç”¨AssetManagerçš„éšè—æ–¹æ³•addAssetPathã€‚ Androidæ’ä»¶åŒ–åŽŸç†è§£æžâ€”â€”Hookæœºåˆ¶ä¹‹åŠ¨æ€ä»£ç†ä½¿ç”¨ä»£ç†æœºåˆ¶è¿›è¡ŒAPI Hookè¿›è€Œè¾¾åˆ°æ–¹æ³•å¢žå¼ºã€‚ é™æ€ä»£ç† åŠ¨æ€ä»£ç†ï¼šå¯ä»¥ç®€å•ç†è§£ä¸ºJVMå¯ä»¥åœ¨è¿è¡Œæ—¶å¸®æˆ‘ä»¬åŠ¨æ€ç”Ÿæˆä¸€ç³»åˆ—çš„ä»£ç†ç±»ã€‚ ä»£ç†Hookå¦‚æžœæˆ‘ä»¬è‡ªå·±åˆ›å»ºä»£ç†å¯¹è±¡ï¼Œç„¶åŽæŠŠåŽŸå§‹å¯¹è±¡æ›¿æ¢ä¸ºæˆ‘ä»¬çš„ä»£ç†å¯¹è±¡ï¼Œå°±å¯ä»¥åœ¨è¿™ä¸ªä»£ç†å¯¹è±¡ä¸­ä¸ºæ‰€æ¬²ä¸ºäº†ï¼›ä¿®æ”¹å‚æ•°ï¼Œæ›¿æ¢è¿”å›žå€¼ï¼Œç§°ä¹‹ä¸ºHookã€‚ æ•´ä¸ªHookè¿‡ç¨‹ç®€è¦æ€»ç»“å¦‚ä¸‹ï¼š å¯»æ‰¾Hookç‚¹ï¼ŒåŽŸåˆ™æ˜¯é™æ€å˜é‡æˆ–è€…å•ä¾‹å¯¹è±¡ï¼Œå°½é‡Hook publicçš„å¯¹è±¡å’Œæ–¹æ³•ï¼Œéžpublicä¸ä¿è¯æ¯ä¸ªç‰ˆæœ¬éƒ½ä¸€æ ·ï¼Œéœ€è¦é€‚é…ã€‚ é€‰æ‹©åˆé€‚çš„ä»£ç†æ–¹å¼ï¼Œå¦‚æžœæ˜¯æŽ¥å£å¯ä»¥ç”¨åŠ¨æ€ä»£ç†ï¼›å¦‚æžœæ˜¯ç±»å¯ä»¥æ‰‹åŠ¨å†™ä»£ç†ä¹Ÿå¯ä»¥ä½¿ç”¨cglibã€‚ å·æ¢æ¢æŸ±ï¼ç”¨ä»£ç†å¯¹è±¡æ›¿æ¢åŽŸå§‹å¯¹è±¡ Androidæ’ä»¶åŒ–åŽŸç†è§£æžâ€”â€”Hookæœºåˆ¶ä¹‹Binder Hook]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[è‡ªå®šä¹‰æŽ§ä»¶]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FAndroid%2F%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8E%A7%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[è‡ªå®šä¹‰æŽ§ä»¶ è‡ªå®šä¹‰Viewçš„æ­¥éª¤ï¼š è‡ªå®šä¹‰Viewçš„å±žæ€§ åœ¨Viewçš„æž„é€ æ–¹æ³•ä¸­èŽ·å¾—æˆ‘ä»¬è‡ªå®šä¹‰Viewçš„æ­¥éª¤ ï¼»3.é‡å†™onMeasureï¼½(ä¸å¿…é¡») é‡å†™onDraw]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[çƒ­ä¿®å¤æŠ€æœ¯]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FAndroid%2F%E7%83%AD%E4%BF%AE%E5%A4%8D%E6%8A%80%E6%9C%AF%2F</url>
    <content type="text"><![CDATA[çƒ­ä¿®å¤æŠ€æœ¯ APPææ—©å‘å‡ºåŽ»çš„åŒ…ï¼Œå¦‚æžœå‡ºçŽ°å®¢æˆ·ç«¯çš„é—®é¢˜ï¼Œå®žåœ¨æ˜¯å¹²ç€æ€¥ï¼Œè¦†æ°´éš¾æ”¶ã€‚å› æ­¤çº¿ä¸Šä¿®å¤æ–¹æ¡ˆè¿«åœ¨çœ‰ç«ã€‚ æ¦‚è¿°åŸºäºŽXposedä¸­çš„æ€æƒ³ï¼Œé€šè¿‡ä¿®æ”¹cå±‚çš„Methodå®žä¾‹æè¿°ï¼Œæ¥å®žçŽ°æ›´æ”¹ä¸Žä¹‹å¯¹åº”çš„javaæ–¹æ³•çš„è¡Œä¸ºï¼Œä»Žè€Œè¾¾åˆ°ä¿®å¤çš„ç›®çš„ã€‚ Xposedè¯žç”ŸäºŽXDAè®ºå›ï¼Œç±»ä¼¼ä¸€ä¸ªåº”ç”¨å¹³å°ï¼Œä¸åŒçš„æ˜¯å…¶æä¾›è¯¸å¤šç³»ç»Ÿçº§çš„åº”ç”¨ã€‚å¯å®žçŽ°è®¸å¤šç¥žå¥‡çš„åŠŸèƒ½ã€‚Xposedéœ€è¦ä»¥è¶Šç‹±ä¸ºå‰æï¼Œåƒæ˜¯iOSä¸­çš„cydiaã€‚ Xposedå¯ä»¥ä¿®æ”¹ä»»ä½•ç¨‹åºçš„ä»»ä½•javaæ–¹æ³•ï¼ˆéœ€rootï¼‰ï¼Œgithubä¸Šæä¾›äº†XposedInstallerï¼Œæ˜¯ä¸€ä¸ªandroid appã€‚æä¾›å¾ˆå¤šframeworkå±‚ï¼Œåº”ç”¨å±‚çº§çš„ç¨‹åºã€‚å¼€å‘è€…å¯ä»¥ä¸ºå…¶å¼€å‘ä¸€äº›ç³»ç»Ÿæˆ–åº”ç”¨æ–¹é¢çš„æ’ä»¶ï¼Œè‡ªå®šä¹‰androidç³»ç»Ÿï¼Œå®ƒç”šè‡³å¯ä»¥åšåŠ¨æ€æƒé™ç®¡ç†ï¼ˆXposedModsï¼‰ã€‚ Androidç³»ç»Ÿå¯åŠ¨ä¸Žåº”ç”¨å¯åŠ¨Zygoteè¿›ç¨‹æ˜¯Androidæ‰‹æœºç³»ç»Ÿå¯åŠ¨åŽï¼Œå¸¸é©»çš„ä¸€ä¸ªåä¸ºâ€˜å—ç²¾åµâ€™çš„è¿›ç¨‹ã€‚ zygoteçš„å¯åŠ¨å®žçŽ°è„šæœ¬åœ¨/init.rcæ–‡ä»¶ä¸­ å¯åŠ¨è¿‡ç¨‹ä¸­æ‰§è¡Œçš„äºŒè¿›åˆ¶æ–‡ä»¶åœ¨/system/bin/app_process ä»»ä½•åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶ï¼Œä¼šä»Žzygoteè¿›ç¨‹forkå‡ºä¸€ä¸ªæ–°çš„è¿›ç¨‹ã€‚å¹¶è£…è½½ä¸€äº›å¿…è¦çš„classï¼Œinvokeä¸€äº›åˆå§‹åŒ–æ–¹æ³•ã€‚è¿™å…¶ä¸­åŒ…æ‹¬åƒï¼š ActivityThread ServiceThread ApplicationPackageManager ç­‰åº”ç”¨å¯åŠ¨ä¸­å¿…è¦çš„ç±»ï¼Œè§¦å‘å¿…è¦çš„æ–¹æ³•ï¼Œæ¯”å¦‚ï¼šhandleBindApplicationï¼Œå°†æ­¤è¿›ç¨‹ä¸Žå¯¹åº”çš„åº”ç”¨ç»‘å®šçš„åˆå§‹åŒ–æ–¹æ³•ï¼›åŒæ—¶ï¼Œä¼šå°†zygoteè¿›ç¨‹ä¸­çš„dalvikè™šæ‹Ÿæœºå®žä¾‹å¤åˆ¶ä¸€ä»½ï¼Œå› æ­¤æ¯ä¸ªåº”ç”¨ç¨‹åºè¿›ç¨‹éƒ½æœ‰è‡ªå·±çš„dalvikè™šæ‹Ÿæœºå®žä¾‹ï¼›ä¼šå°†å·²æœ‰Javaè¿è¡Œæ—¶åŠ è½½åˆ°è¿›ç¨‹ä¸­ï¼›ä¼šæ³¨å†Œä¸€äº›androidæ ¸å¿ƒç±»çš„jniæ–¹æ³•åˆ°è™šæ‹Ÿæœºä¸­ï¼Œæ”¯æ’‘ä»Žcåˆ°javaçš„å¯åŠ¨è¿‡ç¨‹ã€‚ Xposedåšäº†æ‰‹è„šXposedåœ¨è¿™ä¸ªè¿‡ç¨‹æ”¹å†™äº†app_process(æºç åœ¨Xposed : a modified app_process binary)ï¼Œæ›¿æ¢/system/bin/app_processè¿™ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ã€‚ç„¶åŽåšäº†ä¸¤ä¸ªäº‹ï¼š é€šè¿‡Xposedçš„hookæŠ€æœ¯ï¼Œåœ¨ä¸Šè¿°è¿‡ç¨‹ä¸­ï¼Œå¯¹ä¸Šé¢æåˆ°çš„é‚£äº›åŠ è½½çš„ç±»çš„æ–¹æ³•hookã€‚ åŠ è½½XposedBridge.jar è¿™æ—¶hookå¿…è¦çš„æ–¹æ³•æ˜¯ä¸ºäº†æ–¹ä¾¿å¼€å‘è€…ä¸ºå®ƒå¼€å‘æ’ä»¶ï¼ŒåŠ è½½XposedBridge.jaræ˜¯ä¸ºåŠ¨æ€hookæä¾›äº†åŸºç¡€ã€‚åœ¨è¿™ä¸ªæ—¶å€™åŠ è½½å®ƒæ„å‘³ç€ï¼Œæ‰€æœ‰çš„ç¨‹åºåœ¨å¯åŠ¨æ—¶ï¼Œéƒ½å¯ä»¥åŠ è½½è¿™ä¸ªjarï¼ˆå› ä¸ºä¸Šé¢æåˆ°çš„forkè¿‡ç¨‹ï¼‰ã€‚ç»“åˆhookæŠ€æœ¯ï¼Œä»Žè€Œè¾¾åˆ°äº†æŽ§åˆ¶æ‰€æœ‰ç¨‹åºçš„æ‰€æœ‰æ–¹æ³•ã€‚ ä¸ºèŽ·å¾—/system/bin/ç›®å½•çš„è¯»å†™æƒé™ï¼Œå› è€Œéœ€è¦ä»¥rootä¸ºå‰æã€‚ Xposedçš„hookæ€æƒ³é‚£ä¹ˆXposedæ˜¯æ€Žä¹ˆhook javaæ–¹æ³•çš„å‘¢ï¼Ÿè¦ä»ŽXposedBridgeçœ‹èµ·ï¼Œé‡ç‚¹åœ¨XposedBridge.hookmethod(åŽŸæ–¹æ³•çš„Memberå¯¹è±¡ï¼Œå«æœ‰æ–°æ–¹æ³•çš„XC_MethodHookå¯¹è±¡)ï¼›ï¼Œè¿™é‡Œä¼šè°ƒåˆ° 1private native synchronized static void hookMethodNative(Member method, Class&lt;?&gt; declaringClass, int slot, Object additionalInfo); è¿™ä¸ªnativeçš„æ–¹æ³•ï¼Œé€šè¿‡è¿™ä¸ªæ–¹æ³•ï¼Œå¯ä»¥è®©æ‰€hookçš„æ–¹æ³•ï¼Œè½¬å‘nativeå±‚çš„ä¸€ä¸ªcæ–¹æ³•ã€‚å¦‚ä½•åšåˆ°ï¼Ÿ 12When a transmit from java to native occurs, dvm sets up a native stack.In dvmCallJNIMethod(), dvmPlatformInvoke is used to call the native method(signature in Method.insns). åœ¨jniè¿™ä¸ªä¸­é—´ä¸–ç•Œé‡Œï¼Œç±»åž‹æ•°æ®ç”±jniè¡¨æ¥æ²Ÿé€šjavaå’Œcçš„ä¸–ç•Œï¼›æ–¹æ³•ç”±c++æŒ‡é’ˆç»“åˆDVM*ç³»(å¦‚dvmSlotToMethod,dvmDecodeIndirectRefç­‰æ–¹æ³•)çš„apiæ–¹æ³•ï¼Œæ“ä½œè™šæ‹Ÿæœºï¼Œä»Žè€Œå®žçŽ°javaæ–¹æ³•ä¸Žcæ–¹æ³•çš„ä¸–ç•Œã€‚ é‚£ä¹ˆhookçš„è¿‡ç¨‹æ˜¯è¿™æ ·ï¼šé¦–å…ˆé€šè¿‡dexclassloadæ¥loadæ‰€è¦hookçš„æ–¹æ³•ï¼Œåˆ†æžç±»åŽï¼Œè¿›cå±‚ï¼Œè§ä»£ç XposedBridge_hookMethodNativeæ–¹æ³•ï¼Œæ‹¿åˆ°è¦hookçš„Methodç±»ï¼Œç„¶åŽé€šè¿‡dvmslotTomethodæ–¹æ³•èŽ·å–Method*æŒ‡é’ˆï¼Œ 1Method* method = dvmSlotToMethod(declaredClass, slot); declaredClasså°±æ˜¯æ‰€hookæ–¹æ³•æ‰€åœ¨çš„ç±»ï¼Œå¯¹åº”çš„jobjectã€‚slotæ˜¯Methodç±»ä¸­ï¼Œæè¿°æ­¤javaå¯¹è±¡åœ¨vmä¸­çš„ç´¢å¼•ï¼›é‚£ä¹ˆé€šè¿‡è¿™ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬å°±èŽ·å–äº†cå±‚çš„MethodæŒ‡é’ˆ,é€šè¿‡ 1SET_METHOD_FLAG(method, ACC_NATIVE); å°†è¯¥æ–¹æ³•æ ‡è®°ä¸ºä¸€ä¸ªnativeæ–¹æ³•ï¼Œç„¶åŽé€šè¿‡ 1method-&gt;nativeFunc = &amp;hookedMethodCallback; å®šå‘cå±‚æ–¹æ³•åˆ°hookedMethodCallbackï¼Œè¿™æ ·å½“è¢«hookçš„javaæ–¹æ³•æ‰§è¡Œæ—¶ï¼Œå°±ä¼šè°ƒåˆ°cå±‚çš„hookedMethodCallbackæ–¹æ³•ã€‚ é€šè¿‡meth-&gt;nativeFuncé‡å®šå‘MethodCallBridgeåˆ°hookedMethodCallbackè¿™ä¸ªæ–¹æ³•ä¸Šï¼ŒæŽ§åˆ¶è¿™ä¸ªc++æŒ‡é’ˆæ˜¯æ— è§†javaçš„privateçš„ã€‚ å¦å¤–ï¼Œåœ¨methodç»“æž„ä½“ä¸­æœ‰ 1method-&gt;insns = (const u2*) hookInfo; ç”¨insnsæŒ‡å‘æ›¿æ¢æˆä¸ºçš„æ–¹æ³•ï¼Œä»¥ä¾¿hookedMethodCallbackå¯ä»¥èŽ·å–çœŸæ­£æœŸæœ›æ‰§è¡Œçš„javaæ–¹æ³•ã€‚ çŽ°åœ¨æ‰€æœ‰è¢«hookçš„æ–¹æ³•ï¼Œéƒ½æŒ‡å‘äº†hookedMethodCallbackcæ–¹æ³•ä¸­ï¼Œç„¶åŽåœ¨æ­¤æ–¹æ³•ä¸­å®žçŽ°è°ƒç”¨æ›¿æ¢æˆä¸ºçš„javaæ–¹æ³•ã€‚ ä»ŽXposedæç‚¼ç²¾é«“å›žé¡¾Xposedï¼Œä»¥rootä¸ºå¿…è¦æ¡ä»¶ï¼Œåœ¨app_processåŠ è½½XposedBidge.jarï¼Œä»Žè€Œå®žçŽ°æœ‰hookæ‰€æœ‰åº”ç”¨çš„æ‰€æœ‰æ–¹æ³•çš„èƒ½åŠ›ï¼›è€ŒåŽç»­åŠ¨æ€hookåº”ç”¨å†…çš„æ–¹æ³•ï¼Œå…¶å®žåªæ˜¯loadäº†ä»Žzypoteè¿›ç¨‹å¤åˆ¶å‡ºæ¥çš„è¿è¡Œæ—¶çš„è¿™ä¸ªXposedBidge.jarï¼Œç„¶åŽhookè€Œå·²ã€‚å› æ­¤ï¼Œè‹¥åœ¨ä¸€ä¸ªåº”ç”¨èŒƒå›´å†…çš„hookï¼Œrootä¸æ˜¯å¿…é¡»çš„ï¼Œåªæ˜¯å•çº¯çš„åŠ è½½hookçš„å®žçŽ°æ–¹æ³•ï¼Œå³å¯ä¿®æ”¹æœ¬åº”ç”¨çš„æ–¹æ³•ã€‚ ä¸šç•Œå†…ä¹Ÿä¸ä¹é€šè¿‡ã€Œä¿®æ”¹BaseDexClassLoaderä¸­çš„pathListï¼Œæ¥åŠ¨æ€åŠ è½½dexã€æ–¹å¼å®žçŽ°çƒ­ä¿®å¤ã€‚åŽè€…çº¯javaå®žçŽ°ï¼Œä½†éœ€è¦hackç±»çš„ä¼˜åŒ–æµç¨‹ï¼Œå°†æ‰“CLASS_ISPREVERIFIEDæ ‡ç­¾çš„ç±»ï¼ŒåŽ»é™¤æ­¤æ ‡ç­¾ï¼Œä»¥è§£å†³ç±»ä¸Žç±»å¼•ç”¨ä¸åœ¨ä¸€ä¸ªdexä¸­çš„å¼‚å¸¸é—®é¢˜ã€‚è¿™ä¼šæ”¾å¼ƒdex optimizeå¯¹å¯åŠ¨è¿è¡Œé€Ÿåº¦çš„ä¼˜åŒ–ã€‚åŽŸåˆ™ä¸Šï¼Œè¿™å¯¹äºŽæ–¹æ³•æ•°æ²¡æœ‰å¤§åˆ°éœ€è¦multidexçš„åº”ç”¨ï¼ŒæŸå¤±æ›´æ˜Žæ˜¾ã€‚è€Œå‰è€…ä¸è§¦çŠ¯åŽŸæœ‰çš„ä¼˜åŒ–æµç¨‹ï¼Œåªç‚¹æ€éœ€è¦hookçš„æ–¹æ³•ï¼Œæ›´ä¸ºçº¯ç²¹ã€æœ‰æ•ˆã€‚]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Djangoæœ¬åœ°é¡¹ç›®éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FDjango%2FDjango%E6%9C%AC%E5%9C%B0%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%88%B0%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%2F</url>
    <content type="text"><![CDATA[Djangoæœ¬åœ°é¡¹ç›®éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨å¼€å‘çŽ¯å¢ƒå¼€å‘è¯­è¨€ï¼š PythonåŽå°æ¡†æž¶ï¼šDjangowebæœåŠ¡å™¨ï¼šnginxwsgiæœåŠ¡å™¨ï¼šuwsgi äº‘æœåŠ¡å™¨ç³»ç»Ÿï¼šUbuntu æŸ¥çœ‹æœ¬åœ°é¡¹ç›®Djangoå’ŒPythonç‰ˆæœ¬ï¼š ï¼ˆå¯ä»¥ç›´æŽ¥å®‰è£…Djangoæœ€æ–°ç‰ˆæœ¬å°±å¯ä»¥äº†ï¼ŒPythonç‰ˆæœ¬ä¸èƒ½ä½ŽäºŽ3.4ï¼‰ 12345678root@iZwz969jm0y04abuhgx4byZ:/home/projects/closet/closetUsers# python3Python 3.5.2 (default, Nov 12 2018, 13:43:14) [GCC 5.4.0 20160609] on linuxType "help", "copyright", "credits" or "license" for more information.&gt;&gt;&gt; import django&gt;&gt;&gt; django.VERSION(2, 1, 4, 'final', 0)&gt;&gt;&gt; å‚è€ƒäº†åˆ«å®¶çš„æ•™ç¨‹ 1. é¢„å¤‡å®‰è£…1.1 å®‰è£…æ•°æ®åº“å®‰è£…mysql Ubuntuä¸Šçš„MySQLæ­å»º 1.2 å®‰è£…Djangoå®‰è£…Django Djangoåˆæ­¥ä½¿ç”¨ç§»æ­¥Djangoç³»åˆ—æ•™ç¨‹ï¼š Djangoæ•°æ®åº“é…ç½® 1.3 å®‰è£…uwsgi1.3.1 uwsgiå®‰è£…1root@iZwz969jm0y04abuhgx4byZ:~# python3 -m pip install uwsgi Successfully installed uwsgi-2.0.17 1.3.2 uwsgiæµ‹è¯•æµ‹è¯• uwsgi æ˜¯å¦æ­£å¸¸ï¼š æ–°å»º test.py æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š 123def application(env, start_response): start_response('200 OK', [('Content-Type','text/html')]) return "cloestUsers World" ç„¶åŽåœ¨ç»ˆç«¯è¿è¡Œï¼š 1uwsgi --http :8001 --wsgi-file test.py åœ¨æµè§ˆå™¨å†…è¾“å…¥ï¼šhttp://127.0.0.1:8001ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰&quot;cloestUsers Worldâ€è¾“å‡ºï¼Œè‹¥æ²¡æœ‰è¾“å‡ºï¼Œè¯·æ£€æŸ¥ä½ çš„å®‰è£…è¿‡ç¨‹ã€‚ 1.3.3 uwsgiå…³é—­12345678910111213killall -9 uwsgi # å¼ºè¡Œå…³é—­# å…³é—­æŸä¸€ä¸ªè¿›ç¨‹root@iZwz969jm0y04abuhgx4byZ:/home/projects/closet/closetUsers# netstat -ntplActive Internet connections (only servers)Proto Recv-Q Send-Q Local Address Foreign Address State PID/Program nametcp 0 0 127.0.0.1:8005 0.0.0.0:* LISTEN 22256/java tcp 0 0 0.0.0.0:8009 0.0.0.0:* LISTEN 22256/java tcp 0 0 0.0.0.0:3306 0.0.0.0:* LISTEN 18840/mysqld tcp 0 0 0.0.0.0:80 0.0.0.0:* LISTEN 3044/nginx.conf tcp 0 0 0.0.0.0:8080 0.0.0.0:* LISTEN 22256/java tcp 0 0 0.0.0.0:22 0.0.0.0:* LISTEN 11022/sshd root@iZwz969jm0y04abuhgx4byZ:/home/projects/closet/closetUsers# kill -9 22256# æŸ¥çœ‹å“ªä¸ªè¦å…³é—­çš„è¿›ç¨‹çš„pidï¼Œä½¿ç”¨kill -9 &lt;pid&gt; 1.4 å®‰è£…nginx1.4.1 å®‰è£… Nginxå®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š 12345678cd ~wget http://nginx.org/download/nginx-1.11.0.tar.gztar xf nginx-1.11.0.tar.gzcd nginx-1.11.0./configure --prefix=/usr/local/nginx-1.11.0 \--with-http_stub_status_module \--with-http_gzip_static_modulemake &amp;&amp; make install ä½ å¯ä»¥é˜…è¯» Nginx å®‰è£…é…ç½® äº†è§£æ›´å¤šå†…å®¹ã€‚ 1.4.2 æµ‹è¯•nginxæŸ¥çœ‹nginxæ˜¯å¦å®‰è£…æˆåŠŸï¼ŒæŸ¥çœ‹nginxçš„ç‰ˆæœ¬ï¼š 12root@iZwz969jm0y04abuhgx4byZ:/home/projects/closet/closetUsers# nginx -vnginx version: nginx/1.10.3 (Ubuntu) åœ¨/home/projectsç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªtestç›®å½•ï¼Œåœ¨é‡Œé¢æ·»åŠ ä¸€ä¸ªç®€å•çš„htmlæ–‡ä»¶ã€‚ç„¶åŽåœ¨nginx.confä¸­ç®€å•é…ç½®ï¼š 12345678events&#123;&#125;http&#123; server&#123; server_name www.sukamay.xyz; # åŸŸåæˆ–è€…ipåœ°å€ root /home/projects/test; index index.html; &#125;&#125; å¯åŠ¨è¯¥nginxï¼šï¼ˆå¯åŠ¨ä¹‹å‰ï¼Œè¦å°†/usr/local/nginx/mime.typesæ–‡ä»¶å¤åˆ¶åˆ°è¯¥nginx.confæ‰€åœ¨ç›®å½•ï¼Œå¹¶ä¸”å¿…é¡»ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼‰ 1nginx -c /home/projects/test/nginx.conf å¦‚æžœç«¯å£è¢«å ç”¨ï¼Œåˆ™å…ˆé‡Šæ”¾è¯¥ç«¯å£,åˆ™ä½¿ç”¨lsof -i :8082æŸ¥çœ‹å ç”¨ç«¯å£è¿›ç¨‹çš„pidï¼Œå¹¶ä½¿ç”¨kill -9 [pid]å…³é—­ç›¸åº”çš„è¿›ç¨‹ã€‚ è‹¥æƒ³è¦å…³é—­æ‰€æœ‰nginxæ‰“å¼€çš„è¿›ç¨‹ï¼Œå¯ä½¿ç”¨ï¼š 1killall -9 nginx åœ¨æµè§ˆå™¨ä¸­è®¿é—®è‡ªå·±çš„åŸŸåhttp://www.sukamay.xyzï¼Œè®¿é—®æˆåŠŸã€‚ï¼ˆåŸŸåè¦å…ˆåšå¥½dnsè§£æžï¼‰ 1.4.3 å…³é—­nginx12nginx -s stop# or /etc/init.d/nginx stop 2. åœ¨çº¿é¡¹ç›®éƒ¨ç½²éƒ¨ç½²æœ¬åœ°Djangoé¡¹ç›®åˆ°æœåŠ¡å™¨ï¼Œç»“åˆuwsgi+Django+nginxã€‚ 2.1 é¡¹ç›®ä»£ç ä¸Šä¼ åˆ°æœåŠ¡å™¨cloneæœ¬åœ°é¡¹ç›®ä»£ç åˆ°æœåŠ¡å™¨/é€šè¿‡ftpå¤åˆ¶é¡¹ç›®åˆ°æœåŠ¡å™¨ æˆ‘ä½¿ç”¨çš„æ˜¯scp 12xxxdeMacBook-Pro:~ xxx$ scp -r /Users/xxx/Desktop/closet/closetUsers root@120.76.62.132:/home/projects/closetTest1.0# pattern: scp &lt;option&gt; &lt;local_file_path&gt; root@&lt;server_ip_address&gt;:&lt;goal_file_path&gt; åœ¨æˆ‘çš„é¡¹ç›®ç›®å½•/home/projectsé‡Œåˆ›å»ºä¸€ä¸ªclosetç›®å½•ï¼Œå¹¶åœ¨é‡Œé¢åˆ›å»ºä¸€ä¸ªconfç›®å½•ï¼Œç”¨æ¥å­˜æ”¾é…ç½®æ–‡ä»¶,è¿™æ ·åˆ†ç¦»å¼€æ¥ï¼Œæ–¹ä¾¿æ›´æ–°ç»´æŠ¤é¡¹ç›®ä»£ç ã€‚ 12345678910111213141516171819202122root@iZwz969jm0y04abuhgx4byZ:/home/projects# tree -L 3.â”œâ”€â”€ closetâ”‚ â”œâ”€â”€ closetUsersâ”‚ â”‚ â”œâ”€â”€ closetUsersâ”‚ â”‚ â”œâ”€â”€ jsonTestâ”‚ â”‚ â”œâ”€â”€ manage.pyâ”‚ â”‚ â”œâ”€â”€ __pycache__â”‚ â”‚ â”œâ”€â”€ staticâ”‚ â”‚ â”œâ”€â”€ usersâ”‚ â””â”€â”€ confâ”‚ â”œâ”€â”€ mime.types #copy from /usr/local/nginx/confâ”‚ â”œâ”€â”€ nginx.conf #configure file of nginx â”‚ â”œâ”€â”€ uwsgi.ini #configure file of uwsgiâ”‚ â””â”€â”€ uwsgi.logâ””â”€â”€ closetTest1.0 â””â”€â”€ closetUsers â”œâ”€â”€ closetUsers â”œâ”€â”€ manage.py â””â”€â”€ users13 directories, 10 files 2.2 ä¿®æ”¹é¡¹ç›®ä»£ç 2.2.1 ä¿®æ”¹settings.pyï¼š1234DEBUG = False # Djangoæ˜¯å¦åŠ è½½é™æ€èµ„æºALLOWED_HOSTS = ['localhost','127.0.0.1','120.76.62.132'] # å…è®¸è®¿é—®çš„ä¸»æœºåœ°å€STATIC_ROOT = os.path.join(BASE_DIR, "static/") # æ”¶é›†Djangoçš„é™æ€æ–‡ä»¶åˆ°åŒä¸€ä¸ªstaticä¸­ 2.2.2 åˆ›å»ºuwsgi.iniå’Œuwsgi.loguwsgi.iniä¸å˜ï¼Œä¾æ—§ä¸ºï¼š 123456789101112131415161718192021222324252627root@iZwz969jm0y04abuhgx4byZ:/home/projects/closet/conf# vim uwsgi.ini # closet uwsgi.ini file[uwsgi]socket = 127.0.0.1:8002# http = :8002 å¦‚æžœä¸é€šè¿‡nginxå¯ä»¥ç›´æŽ¥ç”¨httpï¼Œä½†è¦é€šè¿‡webæœåŠ¡å™¨å°±å¿…é¡»è¦ç”¨socket# http = 127.0.0.1:8002# the base directory (full path)chdir = /home/projects/closet/closetUsers# Django's wsgi filemodule = closetUsers.wsgi# process-related settings# mastermaster = true# maximum number of worker processesprocesses = 4# clear environment on exitvacuum = trueprocesses = 4"uwsgi.ini" 29L, 549C 1,0-1 Top 2.2.3 åˆ›å»ºnginx.conf123456789101112131415161718192021222324root@iZwz969jm0y04abuhgx4byZ:/home/projects/closet/conf# vim nginx.conf http&#123; include mime.types; server&#123; listen 80; # server_name www.sukamay.xyz; server_name 120.76.62.132; index index.html ; root /home/projects/closet/closetUsers; charset utf-8; location /static &#123; alias /home/projects/closet/closetUsers/static; # your Django project's static files - amend as required &#125; # Finally, send all non-media requests to the Django server. location / &#123; include /etc/nginx/uwsgi_params; # the uwsgi_params file you installed uwsgi_pass 127.0.0.1:8002; &#125; &#125; &#125; å°† /usr/local/nginx/conf/mime.typesæ–‡ä»¶copyåˆ°confä¸‹ 2.3 åˆ›å»ºæ•°æ®åº“ã€æ”¶é›†é™æ€æ–‡ä»¶12python manage.py migrate python manage.py collectstatic 2.4 å¯åŠ¨æœåŠ¡å¯åŠ¨nginx 1nginx -c /home/projects/closet/conf/nginx.conf åŽå°å¯åŠ¨uwsgi 1uwsgi /home/projects/closet/conf/uwsgi.ini -d /home/projects/closet/conf/uwsgi.log è®¿é—® http://120.76.62.132/ ï¼ˆæˆ‘æ²¡å†™é»˜è®¤index.htmlï¼Œè®¿é—®çš„æ˜¯http://120.76.62.132/users/ï¼‰å¯ä»¥çœ‹åˆ°æŽ¥å£å†™å¥½çš„è¿”å›žå†…å®¹ï¼Œ åˆ™åˆ›å»ºæˆåŠŸ 3. error summary]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Django</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Androidï¼š]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FAndroid%2FAndroid%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%2F</url>
    <content type="text"><![CDATA[Androidï¼š äº”ç§å¸ƒå±€ï¼š FrameLayout ã€ LinearLayout ã€ AbsoluteLayout ã€ RelativeLayout ã€ TableLayout å…¨éƒ½ç»§æ‰¿è‡ªViewGroupï¼Œå„è‡ªç‰¹ç‚¹åŠç»˜åˆ¶æ•ˆçŽ‡å¯¹æ¯”ã€‚ FrameLayout(æ¡†æž¶å¸ƒå±€) æ­¤å¸ƒå±€æ˜¯äº”ç§å¸ƒå±€ä¸­æœ€ç®€å•çš„å¸ƒå±€ï¼ŒAndroidä¸­å¹¶æ²¡æœ‰å¯¹child viewçš„æ‘†å¸ƒè¿›è¡ŒæŽ§åˆ¶ï¼Œè¿™ä¸ªå¸ƒå±€ä¸­æ‰€æœ‰çš„æŽ§ä»¶éƒ½ä¼šé»˜è®¤å‡ºçŽ°åœ¨è§†å›¾çš„å·¦ä¸Šè§’ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨android:layout_marginï¼Œandroid:layout_gravityç­‰å±žæ€§åŽ»æŽ§åˆ¶å­æŽ§ä»¶ç›¸å¯¹å¸ƒå±€çš„ä½ç½®ã€‚ LinearLayout(çº¿æ€§å¸ƒå±€) ä¸€è¡Œï¼ˆæˆ–ä¸€åˆ—ï¼‰åªæŽ§åˆ¶ä¸€ä¸ªæŽ§ä»¶çš„çº¿æ€§å¸ƒå±€ï¼Œæ‰€ä»¥å½“æœ‰å¾ˆå¤šæŽ§ä»¶éœ€è¦åœ¨ä¸€ä¸ªç•Œé¢ä¸­åˆ—å‡ºæ—¶ï¼Œå¯ä»¥ç”¨LinearLayoutå¸ƒå±€ã€‚ æ­¤å¸ƒå±€æœ‰ä¸€ä¸ªéœ€è¦æ ¼å¤–æ³¨æ„çš„å±žæ€§:android:orientation=â€œhorizontal|verticalã€‚ å½“android:orientation=&quot;horizontalæ—¶ï¼Œè¯´æ˜Žä½ å¸Œæœ›å°†æ°´å¹³æ–¹å‘çš„å¸ƒå±€äº¤ç»™LinearLayout ï¼Œå…¶å­å…ƒç´ çš„android:layout_gravity=&quot;right|left&quot; ç­‰æŽ§åˆ¶æ°´å¹³æ–¹å‘çš„gravityå€¼éƒ½æ˜¯è¢«å¿½ç•¥çš„ï¼Œæ­¤æ—¶LinearLayoutä¸­çš„å­å…ƒç´ éƒ½æ˜¯é»˜è®¤çš„æŒ‰ç…§æ°´å¹³ä»Žå·¦å‘å³æ¥æŽ’ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨android:layout_gravity=&quot;top|bottom&quot;ç­‰gravityå€¼æ¥æŽ§åˆ¶åž‚ç›´å±•ç¤ºã€‚ åä¹‹ï¼Œå¯ä»¥çŸ¥é“ å½“android:orientation=&quot;verticalæ—¶ï¼ŒLinearLayoutå¯¹å…¶å­å…ƒç´ å±•ç¤ºä¸Šçš„çš„å¤„ç†æ–¹å¼ã€‚ AbsoluteLayout(ç»å¯¹å¸ƒå±€) å¯ä»¥æ”¾ç½®å¤šä¸ªæŽ§ä»¶ï¼Œå¹¶ä¸”å¯ä»¥è‡ªå·±å®šä¹‰æŽ§ä»¶çš„x,yä½ç½® RelativeLayout(ç›¸å¯¹å¸ƒå±€) è¿™ä¸ªå¸ƒå±€ä¹Ÿæ˜¯ç›¸å¯¹è‡ªç”±çš„å¸ƒå±€ï¼ŒAndroid å¯¹è¯¥å¸ƒå±€çš„child viewçš„ æ°´å¹³layout&amp; åž‚ç›´layoutåšäº†è§£æžï¼Œç”±æ­¤æˆ‘ä»¬å¯ä»¥FrameLayoutçš„åŸºç¡€ä¸Šä½¿ç”¨æ ‡ç­¾æˆ–è€…Javaä»£ç å¯¹åž‚ç›´æ–¹å‘ ä»¥åŠ æ°´å¹³æ–¹å‘ å¸ƒå±€ä¸­çš„viewsè¿›è¡Œä»»æ„çš„æŽ§åˆ¶. ç›¸å…³å±žæ€§ï¼š 1234 android:layout_centerInParent="true|false" android:layout_centerHorizontal="true|false" android:layout_alignParentRight="true|false" TableLayout(è¡¨æ ¼å¸ƒå±€) å°†å­å…ƒç´ çš„ä½ç½®åˆ†é…åˆ°è¡Œæˆ–åˆ—ä¸­ï¼Œä¸€ä¸ªTableLayoutç”±è®¸å¤šçš„TableRowç»„æˆ Activityç”Ÿå‘½å‘¨æœŸã€‚ å¯åŠ¨Activity:onCreate()â€”&gt;onStart()â€”&gt;onResume()ï¼ŒActivityè¿›å…¥è¿è¡ŒçŠ¶æ€ã€‚ Activityé€€å±…åŽå°:å½“å‰Activityè½¬åˆ°æ–°çš„Activityç•Œé¢æˆ–æŒ‰Homeé”®å›žåˆ°ä¸»å±ï¼šonPause()â€”&gt;onStop()ï¼Œè¿›å…¥åœæ»žçŠ¶æ€ã€‚ Activityè¿”å›žå‰å°:onRestart()â€”&gt;onStart()â€”&gt;onResume()ï¼Œå†æ¬¡å›žåˆ°è¿è¡ŒçŠ¶æ€ã€‚ Activityé€€å±…åŽå°ï¼Œä¸”ç³»ç»Ÿå†…å­˜ä¸è¶³ï¼Œç³»ç»Ÿä¼šæ€æ­»è¿™ä¸ªåŽå°çŠ¶æ€çš„Activityï¼ˆæ­¤æ—¶è¿™ä¸ªActivityå¼•ç”¨ä»ç„¶å¤„åœ¨ä»»åŠ¡æ ˆä¸­ï¼Œåªæ˜¯è¿™ä¸ªæ—¶å€™å¼•ç”¨æŒ‡å‘çš„å¯¹è±¡å·²ç»ä¸ºnullï¼‰ï¼Œè‹¥å†æ¬¡å›žåˆ°è¿™ä¸ªActivity,åˆ™ä¼šèµ°onCreate()â€“&gt;onStart()â€”&gt;onResume()(å°†é‡æ–°èµ°ä¸€æ¬¡Activityçš„åˆå§‹åŒ–ç”Ÿå‘½å‘¨æœŸ) é”å±ï¼šonPause()-&gt;onStop() è§£é”ï¼šonStart()-&gt;onResume() æ›´å¤šæµç¨‹åˆ†æ”¯ï¼Œè¯·å‚ç…§ä»¥ä¸‹ç”Ÿå‘½å‘¨æœŸæµç¨‹å›¾ é€šè¿‡Acitivtyçš„xmlæ ‡ç­¾æ¥æ”¹å˜ä»»åŠ¡æ ˆçš„é»˜è®¤è¡Œä¸º ä½¿ç”¨android:launchMode=&quot;standard|singleInstance|singleTask|singleTop&quot;æ¥æŽ§åˆ¶Acivityä»»åŠ¡æ ˆã€‚ ä»»åŠ¡æ ˆæ˜¯ä¸€ç§åŽè¿›å…ˆå‡ºçš„ç»“æž„ã€‚ä½äºŽæ ˆé¡¶çš„Activityå¤„äºŽç„¦ç‚¹çŠ¶æ€,å½“æŒ‰ä¸‹backæŒ‰é’®çš„æ—¶å€™,æ ˆå†…çš„Activityä¼šä¸€ä¸ªä¸€ä¸ªçš„å‡ºæ ˆ,å¹¶ä¸”è°ƒç”¨å…¶onDestory()æ–¹æ³•ã€‚å¦‚æžœæ ˆå†…æ²¡æœ‰Activity,é‚£ä¹ˆç³»ç»Ÿå°±ä¼šå›žæ”¶è¿™ä¸ªæ ˆ,æ¯ä¸ªAPPé»˜è®¤åªæœ‰ä¸€ä¸ªæ ˆ,ä»¥APPçš„åŒ…åæ¥å‘½å. standard : æ ‡å‡†æ¨¡å¼,æ¯æ¬¡å¯åŠ¨Activityéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„Activityå®žä¾‹,å¹¶ä¸”å°†å…¶åŽ‹å…¥ä»»åŠ¡æ ˆæ ˆé¡¶,è€Œä¸ç®¡è¿™ä¸ªActivityæ˜¯å¦å·²ç»å­˜åœ¨ã€‚Activityçš„å¯åŠ¨ä¸‰å›žè°ƒ(onCreate()-&gt;onStart()-&gt;onResume())éƒ½ä¼šæ‰§è¡Œã€‚ singleTop : æ ˆé¡¶å¤ç”¨æ¨¡å¼.è¿™ç§æ¨¡å¼ä¸‹,å¦‚æžœæ–°Activityå·²ç»ä½äºŽä»»åŠ¡æ ˆçš„æ ˆé¡¶,é‚£ä¹ˆæ­¤Activityä¸ä¼šè¢«é‡æ–°åˆ›å»º,æ‰€ä»¥å®ƒçš„å¯åŠ¨ä¸‰å›žè°ƒå°±ä¸ä¼šæ‰§è¡Œ,åŒæ—¶Activityçš„onNewIntent()æ–¹æ³•ä¼šè¢«å›žè°ƒ.å¦‚æžœActivityå·²ç»å­˜åœ¨ä½†æ˜¯ä¸åœ¨æ ˆé¡¶,é‚£ä¹ˆä½œç”¨ä¸Žstandardæ¨¡å¼ä¸€æ ·. singleTask: æ ˆå†…å¤ç”¨æ¨¡å¼.åˆ›å»ºè¿™æ ·çš„Activityçš„æ—¶å€™,ç³»ç»Ÿä¼šå…ˆç¡®è®¤å®ƒæ‰€éœ€ä»»åŠ¡æ ˆå·²ç»åˆ›å»º,å¦åˆ™å…ˆåˆ›å»ºä»»åŠ¡æ ˆ.ç„¶åŽæ”¾å…¥Activity,å¦‚æžœæ ˆä¸­å·²ç»æœ‰ä¸€ä¸ªActivityå®žä¾‹,é‚£ä¹ˆè¿™ä¸ªActivityå°±ä¼šè¢«è°ƒåˆ°æ ˆé¡¶,onNewIntent(),å¹¶ä¸”singleTaskä¼šæ¸…ç†åœ¨å½“å‰Activityä¸Šé¢çš„æ‰€æœ‰Activity.(clear top) singleInstance : åŠ å¼ºç‰ˆçš„singleTaskæ¨¡å¼,è¿™ç§æ¨¡å¼çš„Activityåªèƒ½å•ç‹¬ä½äºŽä¸€ä¸ªä»»åŠ¡æ ˆå†…,ç”±äºŽæ ˆå†…å¤ç”¨çš„ç‰¹æ€§,åŽç»­è¯·æ±‚å‡ä¸ä¼šåˆ›å»ºæ–°çš„Activity,é™¤éžè¿™ä¸ªç‹¬ç‰¹çš„ä»»åŠ¡æ ˆè¢«ç³»ç»Ÿé”€æ¯äº† Activityçš„å †æ ˆç®¡ç†ä»¥ActivityRecordä¸ºå•ä½,æ‰€æœ‰çš„ActivityRecordéƒ½æ”¾åœ¨ä¸€ä¸ªListé‡Œé¢.å¯ä»¥è®¤ä¸ºä¸€ä¸ªActivityRecordå°±æ˜¯ä¸€ä¸ªActivityæ ˆ Activityç¼“å­˜æ–¹æ³•ã€‚ æœ‰aã€bä¸¤ä¸ªActivityï¼Œå½“ä»Žaè¿›å…¥bä¹‹åŽä¸€æ®µæ—¶é—´ï¼Œå¯èƒ½ç³»ç»Ÿä¼šæŠŠaå›žæ”¶ï¼Œè¿™æ—¶å€™æŒ‰backï¼Œæ‰§è¡Œçš„ä¸æ˜¯açš„onRestartè€Œæ˜¯onCreateæ–¹æ³•ï¼Œaè¢«é‡æ–°åˆ›å»ºä¸€æ¬¡ï¼Œè¿™æ˜¯aä¸­çš„ä¸´æ—¶æ•°æ®å’ŒçŠ¶æ€å¯èƒ½å°±ä¸¢å¤±äº†ã€‚ å¯ä»¥ç”¨Activityä¸­çš„onSaveInstanceState()å›žè°ƒæ–¹æ³•ä¿å­˜ä¸´æ—¶æ•°æ®å’ŒçŠ¶æ€ï¼Œè¿™ä¸ªæ–¹æ³•ä¸€å®šä¼šåœ¨æ´»åŠ¨è¢«å›žæ”¶ä¹‹å‰è°ƒç”¨ã€‚æ–¹æ³•ä¸­æœ‰ä¸€ä¸ªBundleå‚æ•°ï¼ŒputString()ã€putInt()ç­‰æ–¹æ³•éœ€è¦ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªé”®ä¸€ä¸ªå€¼ã€‚æ•°æ®ä¿å­˜ä¹‹åŽä¼šåœ¨onCreateä¸­æ¢å¤ï¼ŒonCreateä¹Ÿæœ‰ä¸€ä¸ªBundleç±»åž‹çš„å‚æ•°ã€‚ ç¤ºä¾‹ä»£ç ï¼š 12345678910111213141516171819@Overrideprotected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); //è¿™é‡Œï¼Œå½“Acivityç¬¬ä¸€æ¬¡è¢«åˆ›å»ºçš„æ—¶å€™ä¸ºç©º //æ‰€ä»¥æˆ‘ä»¬éœ€è¦åˆ¤æ–­ä¸€ä¸‹ if( savedInstanceState != null )&#123; savedInstanceState.getString("anAnt"); &#125;&#125;@Overrideprotected void onSaveInstanceState(Bundle outState) &#123; super.onSaveInstanceState(outState); outState.putString("anAnt","Android");&#125; ä¸€ã€onSaveInstanceState (Bundle outState) å½“æŸä¸ªactivityå˜å¾—â€œå®¹æ˜“â€è¢«ç³»ç»Ÿé”€æ¯æ—¶ï¼Œè¯¥activityçš„onSaveInstanceStateå°±ä¼šè¢«æ‰§è¡Œï¼Œé™¤éžè¯¥activityæ˜¯è¢«ç”¨æˆ·ä¸»åŠ¨é”€æ¯çš„ï¼Œä¾‹å¦‚å½“ç”¨æˆ·æŒ‰BACKé”®çš„æ—¶å€™ã€‚ æ³¨æ„ä¸Šé¢çš„åŒå¼•å·ï¼Œä½•ä¸ºâ€œå®¹æ˜“â€ï¼Ÿè¨€ä¸‹ä¹‹æ„å°±æ˜¯è¯¥activityè¿˜æ²¡æœ‰è¢«é”€æ¯ï¼Œè€Œä»…ä»…æ˜¯ä¸€ç§å¯èƒ½æ€§ã€‚è¿™ç§å¯èƒ½æ€§æœ‰å“ªäº›ï¼Ÿé€šè¿‡é‡å†™ä¸€ä¸ªactivityçš„æ‰€æœ‰ç”Ÿå‘½å‘¨æœŸçš„onXXXæ–¹æ³•ï¼ŒåŒ…æ‹¬onSaveInstanceStateå’ŒonRestoreInstanceStateæ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ¥šåœ°çŸ¥é“å½“æŸä¸ªactivityï¼ˆå‡å®šä¸ºactivity Aï¼‰æ˜¾ç¤ºåœ¨å½“å‰taskçš„æœ€ä¸Šå±‚æ—¶ï¼Œå…¶onSaveInstanceStateæ–¹æ³•ä¼šåœ¨ä»€ä¹ˆæ—¶å€™è¢«æ‰§è¡Œï¼Œæœ‰è¿™ä¹ˆå‡ ç§æƒ…å†µï¼š 1ã€å½“ç”¨æˆ·æŒ‰ä¸‹HOMEé”®æ—¶ã€‚ è¿™æ˜¯æ˜¾è€Œæ˜“è§çš„ï¼Œç³»ç»Ÿä¸çŸ¥é“ä½ æŒ‰ä¸‹HOMEåŽè¦è¿è¡Œå¤šå°‘å…¶ä»–çš„ç¨‹åºï¼Œè‡ªç„¶ä¹Ÿä¸çŸ¥é“activity Aæ˜¯å¦ä¼šè¢«é”€æ¯ï¼Œæ•…ç³»ç»Ÿä¼šè°ƒç”¨onSaveInstanceStateï¼Œè®©ç”¨æˆ·æœ‰æœºä¼šä¿å­˜æŸäº›éžæ°¸ä¹…æ€§çš„æ•°æ®ã€‚ä»¥ä¸‹å‡ ç§æƒ…å†µçš„åˆ†æžéƒ½éµå¾ªè¯¥åŽŸåˆ™ 2ã€é•¿æŒ‰HOMEé”®ï¼Œé€‰æ‹©è¿è¡Œå…¶ä»–çš„ç¨‹åºæ—¶ã€‚ 3ã€æŒ‰ä¸‹ç”µæºæŒ‰é”®ï¼ˆå…³é—­å±å¹•æ˜¾ç¤ºï¼‰æ—¶ã€‚ 4ã€ä»Žactivity Aä¸­å¯åŠ¨ä¸€ä¸ªæ–°çš„activityæ—¶ã€‚ 5ã€å±å¹•æ–¹å‘åˆ‡æ¢æ—¶ï¼Œä¾‹å¦‚ä»Žç«–å±åˆ‡æ¢åˆ°æ¨ªå±æ—¶ã€‚ï¼ˆå¦‚æžœä¸æŒ‡å®šconfigchangeå±žæ€§ï¼‰åœ¨å±å¹•åˆ‡æ¢ä¹‹å‰ï¼Œç³»ç»Ÿä¼šé”€æ¯activity Aï¼Œåœ¨å±å¹•åˆ‡æ¢ä¹‹åŽç³»ç»Ÿåˆä¼šè‡ªåŠ¨åœ°åˆ›å»ºactivity Aï¼Œæ‰€ä»¥onSaveInstanceStateä¸€å®šä¼šè¢«æ‰§è¡Œ æ€»è€Œè¨€ä¹‹ï¼ŒonSaveInstanceStateçš„è°ƒç”¨éµå¾ªä¸€ä¸ªé‡è¦åŽŸåˆ™ï¼Œå³å½“ç³»ç»Ÿâ€œæœªç»ä½ è®¸å¯â€æ—¶é”€æ¯äº†ä½ çš„activityï¼Œåˆ™onSaveInstanceStateä¼šè¢«ç³»ç»Ÿè°ƒç”¨ï¼Œè¿™æ˜¯ç³»ç»Ÿçš„è´£ä»»ï¼Œå› ä¸ºå®ƒå¿…é¡»è¦æä¾›ä¸€ä¸ªæœºä¼šè®©ä½ ä¿å­˜ä½ çš„æ•°æ®ï¼ˆå½“ç„¶ä½ ä¸ä¿å­˜é‚£å°±éšä¾¿ä½ äº†ï¼‰ã€‚å¦å¤–ï¼Œéœ€è¦æ³¨æ„çš„å‡ ç‚¹ï¼š 1.å¸ƒå±€ä¸­çš„æ¯ä¸€ä¸ªViewé»˜è®¤å®žçŽ°äº†onSaveInstanceState()æ–¹æ³•ï¼Œè¿™æ ·çš„è¯ï¼Œè¿™ä¸ªUIçš„ä»»ä½•æ”¹å˜éƒ½ä¼šè‡ªåŠ¨åœ°å­˜å‚¨å’Œåœ¨activityé‡æ–°åˆ›å»ºçš„æ—¶å€™è‡ªåŠ¨åœ°æ¢å¤ã€‚ä½†æ˜¯è¿™ç§æƒ…å†µåªæœ‰åœ¨ä½ ä¸ºè¿™ä¸ªUIæä¾›äº†å”¯ä¸€çš„IDä¹‹åŽæ‰èµ·ä½œç”¨ï¼Œå¦‚æžœæ²¡æœ‰æä¾›IDï¼Œappå°†ä¸ä¼šå­˜å‚¨å®ƒçš„çŠ¶æ€ã€‚ 2.ç”±äºŽé»˜è®¤çš„onSaveInstanceState()æ–¹æ³•çš„å®žçŽ°å¸®åŠ©UIå­˜å‚¨å®ƒçš„çŠ¶æ€ï¼Œæ‰€ä»¥å¦‚æžœä½ éœ€è¦è¦†ç›–è¿™ä¸ªæ–¹æ³•åŽ»å­˜å‚¨é¢å¤–çš„çŠ¶æ€ä¿¡æ¯ï¼Œä½ åº”è¯¥åœ¨æ‰§è¡Œä»»ä½•ä»£ç ä¹‹å‰éƒ½è°ƒç”¨çˆ¶ç±»çš„onSaveInstanceState()æ–¹æ³•ï¼ˆsuper.onSaveInstanceState()ï¼‰ã€‚æ—¢ç„¶æœ‰çŽ°æˆçš„å¯ç”¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬åˆ°åº•è¿˜è¦ä¸è¦è‡ªå·±å®žçŽ°onSaveInstanceState()?è¿™å¾—çœ‹æƒ…å†µäº†ï¼Œå¦‚æžœä½ è‡ªå·±çš„æ´¾ç”Ÿç±»ä¸­æœ‰å˜é‡å½±å“åˆ°UIï¼Œæˆ–ä½ ç¨‹åºçš„è¡Œä¸ºï¼Œå½“ç„¶å°±è¦æŠŠè¿™ä¸ªå˜é‡ä¹Ÿä¿å­˜äº†ï¼Œé‚£ä¹ˆå°±éœ€è¦è‡ªå·±å®žçŽ°ï¼Œå¦åˆ™å°±ä¸éœ€è¦ã€‚ 3.ç”±äºŽonSaveInstanceState()æ–¹æ³•è°ƒç”¨çš„ä¸ç¡®å®šæ€§ï¼Œä½ åº”è¯¥åªä½¿ç”¨è¿™ä¸ªæ–¹æ³•åŽ»è®°å½•activityçš„çž¬é—´çŠ¶æ€ï¼ˆUIçš„çŠ¶æ€ï¼‰ã€‚ä¸åº”è¯¥ç”¨è¿™ä¸ªæ–¹æ³•åŽ»å­˜å‚¨æŒä¹…åŒ–æ•°æ®ã€‚å½“ç”¨æˆ·ç¦»å¼€è¿™ä¸ªactivityçš„æ—¶å€™åº”è¯¥åœ¨onPause()æ–¹æ³•ä¸­å­˜å‚¨æŒä¹…åŒ–æ•°æ®ï¼ˆä¾‹å¦‚åº”è¯¥è¢«å­˜å‚¨åˆ°æ•°æ®åº“ä¸­çš„æ•°æ®ï¼‰ã€‚ 4.onSaveInstanceState()å¦‚æžœè¢«è°ƒç”¨ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šåœ¨onStop()å‰è¢«è§¦å‘ï¼Œä½†ç³»ç»Ÿå¹¶ä¸ä¿è¯æ˜¯å¦åœ¨onPause()ä¹‹å‰æˆ–è€…ä¹‹åŽè§¦å‘ã€‚ äºŒã€onRestoreInstanceState (Bundle outState) è‡³äºŽonRestoreInstanceStateæ–¹æ³•ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒonSaveInstanceStateæ–¹æ³•å’ŒonRestoreInstanceStateæ–¹æ³•â€œä¸ä¸€å®šâ€æ˜¯æˆå¯¹çš„è¢«è°ƒç”¨çš„ï¼Œï¼ˆæœ¬äººæ³¨ï¼šæˆ‘æ˜¨æ™šè°ƒè¯•æ—¶å°±å‘çŽ°åŽŸæ¥ä¸ä¸€å®šæˆå¯¹è¢«è°ƒç”¨çš„ï¼ï¼‰ onRestoreInstanceStateè¢«è°ƒç”¨çš„å‰ææ˜¯ï¼Œactivity Aâ€œç¡®å®žâ€è¢«ç³»ç»Ÿé”€æ¯äº†ï¼Œè€Œå¦‚æžœä»…ä»…æ˜¯åœç•™åœ¨æœ‰è¿™ç§å¯èƒ½æ€§çš„æƒ…å†µä¸‹ï¼Œåˆ™è¯¥æ–¹æ³•ä¸ä¼šè¢«è°ƒç”¨ï¼Œä¾‹å¦‚ï¼Œå½“æ­£åœ¨æ˜¾ç¤ºactivity Açš„æ—¶å€™ï¼Œç”¨æˆ·æŒ‰ä¸‹HOMEé”®å›žåˆ°ä¸»ç•Œé¢ï¼Œç„¶åŽç”¨æˆ·ç´§æŽ¥ç€åˆè¿”å›žåˆ°activity Aï¼Œè¿™ç§æƒ…å†µä¸‹activity Aä¸€èˆ¬ä¸ä¼šå› ä¸ºå†…å­˜çš„åŽŸå› è¢«ç³»ç»Ÿé”€æ¯ï¼Œæ•…activity Açš„onRestoreInstanceStateæ–¹æ³•ä¸ä¼šè¢«æ‰§è¡Œ å¦å¤–ï¼ŒonRestoreInstanceStateçš„bundleå‚æ•°ä¹Ÿä¼šä¼ é€’åˆ°onCreateæ–¹æ³•ä¸­ï¼Œä½ ä¹Ÿå¯ä»¥é€‰æ‹©åœ¨onCreateæ–¹æ³•ä¸­åšæ•°æ®è¿˜åŽŸã€‚è¿˜æœ‰onRestoreInstanceStateåœ¨onstartä¹‹åŽæ‰§è¡Œã€‚è‡³äºŽè¿™ä¸¤ä¸ªå‡½æ•°çš„ä½¿ç”¨ï¼Œç»™å‡ºç¤ºèŒƒä»£ç ï¼ˆç•™æ„è‡ªå®šä¹‰ä»£ç åœ¨è°ƒç”¨superçš„å‰æˆ–åŽï¼‰ï¼š 12345678910111213141516171819@Overridepublic void onSaveInstanceState(Bundle savedInstanceState) &#123; savedInstanceState.putBoolean("MyBoolean", true); savedInstanceState.putDouble("myDouble", 1.9); savedInstanceState.putInt("MyInt", 1); savedInstanceState.putString("MyString", "Welcome back to Android"); // etc. super.onSaveInstanceState(savedInstanceState);&#125;@Overridepublic void onRestoreInstanceState(Bundle savedInstanceState) &#123; super.onRestoreInstanceState(savedInstanceState); boolean myBoolean = savedInstanceState.getBoolean("MyBoolean"); double myDouble = savedInstanceState.getDouble("myDouble"); int myInt = savedInstanceState.getInt("MyInt"); String myString = savedInstanceState.getString("MyString");&#125; Fragmentçš„ç”Ÿå‘½å‘¨æœŸå’Œactivityå¦‚ä½•çš„ä¸€ä¸ªå…³ç³» è¿™æˆ‘ä»¬å¼•ç”¨æœ¬çŸ¥è¯†åº“é‡Œçš„ä¸€å¼ å›¾ç‰‡ï¼š ä¸ºä»€ä¹ˆåœ¨Serviceä¸­åˆ›å»ºå­çº¿ç¨‹è€Œä¸æ˜¯Activityä¸­ è¿™æ˜¯å› ä¸ºActivityå¾ˆéš¾å¯¹Threadè¿›è¡ŒæŽ§åˆ¶ï¼Œå½“Activityè¢«é”€æ¯ä¹‹åŽï¼Œå°±æ²¡æœ‰ä»»ä½•å…¶å®ƒçš„åŠžæ³•å¯ä»¥å†é‡æ–°èŽ·å–åˆ°ä¹‹å‰åˆ›å»ºçš„å­çº¿ç¨‹çš„å®žä¾‹ã€‚è€Œä¸”åœ¨ä¸€ä¸ªActivityä¸­åˆ›å»ºçš„å­çº¿ç¨‹ï¼Œå¦ä¸€ä¸ªActivityæ— æ³•å¯¹å…¶è¿›è¡Œæ“ä½œã€‚ä½†æ˜¯Serviceå°±ä¸åŒäº†ï¼Œæ‰€æœ‰çš„Activityéƒ½å¯ä»¥ä¸ŽServiceè¿›è¡Œå…³è”ï¼Œç„¶åŽå¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ“ä½œå…¶ä¸­çš„æ–¹æ³•ï¼Œå³ä½¿Activityè¢«é”€æ¯äº†ï¼Œä¹‹åŽåªè¦é‡æ–°ä¸ŽServiceå»ºç«‹å…³è”ï¼Œå°±åˆèƒ½å¤ŸèŽ·å–åˆ°åŽŸæœ‰çš„Serviceä¸­Binderçš„å®žä¾‹ã€‚å› æ­¤ï¼Œä½¿ç”¨Serviceæ¥å¤„ç†åŽå°ä»»åŠ¡ï¼ŒActivityå°±å¯ä»¥æ”¾å¿ƒåœ°finishï¼Œå®Œå…¨ä¸éœ€è¦æ‹…å¿ƒæ— æ³•å¯¹åŽå°ä»»åŠ¡è¿›è¡ŒæŽ§åˆ¶çš„æƒ…å†µã€‚ Intentçš„ä½¿ç”¨æ–¹æ³•ï¼Œå¯ä»¥ä¼ é€’å“ªäº›æ•°æ®ç±»åž‹ã€‚ é€šè¿‡æŸ¥è¯¢Intent/Bundleçš„APIæ–‡æ¡£ï¼Œæˆ‘ä»¬å¯ä»¥èŽ·çŸ¥ï¼ŒIntent/Bundleæ”¯æŒä¼ é€’åŸºæœ¬ç±»åž‹çš„æ•°æ®å’ŒåŸºæœ¬ç±»åž‹çš„æ•°ç»„æ•°æ®ï¼Œä»¥åŠString/CharSequenceç±»åž‹çš„æ•°æ®å’ŒString/CharSequenceç±»åž‹çš„æ•°ç»„æ•°æ®ã€‚è€Œå¯¹äºŽå…¶å®ƒç±»åž‹çš„æ•°æ®è²Œä¼¼æ— èƒ½ä¸ºåŠ›ï¼Œå…¶å®žä¸ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨Intent/Bundleçš„APIä¸­çœ‹åˆ°Intent/Bundleè¿˜å¯ä»¥ä¼ é€’Parcelableï¼ˆåŒ…è£¹åŒ–ï¼Œé‚®åŒ…ï¼‰å’ŒSerializableï¼ˆåºåˆ—åŒ–ï¼‰ç±»åž‹çš„æ•°æ®ï¼Œä»¥åŠå®ƒä»¬çš„æ•°ç»„/åˆ—è¡¨æ•°æ®ã€‚ æ‰€ä»¥è¦è®©éžåŸºæœ¬ç±»åž‹å’ŒéžString/CharSequenceç±»åž‹çš„æ•°æ®é€šè¿‡Intent/Bundleæ¥è¿›è¡Œä¼ è¾“ï¼Œæˆ‘ä»¬å°±éœ€è¦åœ¨æ•°æ®ç±»åž‹ä¸­å®žçŽ°ParcelableæŽ¥å£æˆ–æ˜¯SerializableæŽ¥å£ã€‚ http://blog.csdn.net/kkk0526/article/details/7214247 Fragmentç”Ÿå‘½å‘¨æœŸ æ³¨æ„å’ŒActivityçš„ç›¸æ¯”çš„åŒºåˆ«,æŒ‰ç…§æ‰§è¡Œé¡ºåº onAttach(),onDetach() onCreateView(),onDestroyView() Serviceçš„ä¸¤ç§å¯åŠ¨æ–¹æ³•ï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«1.åœ¨Contextä¸­é€šè¿‡public boolean bindService(Intent service,ServiceConnection conn,int flags) æ–¹æ³•æ¥è¿›è¡ŒServiceä¸ŽContextçš„å…³è”å¹¶å¯åŠ¨ï¼Œå¹¶ä¸”Serviceçš„ç”Ÿå‘½å‘¨æœŸä¾é™„äºŽContext(ä¸æ±‚åŒæ—¶åŒåˆ†åŒç§’ç”Ÿï¼ä½†æ±‚åŒæ—¶åŒåˆ†åŒç§’å±Žï¼ï¼)ã€‚ 2.é€šè¿‡public ComponentName startService(Intent service)æ–¹æ³•åŽ»å¯åŠ¨ä¸€ä¸ªServiceï¼Œæ­¤æ—¶Serviceçš„ç”Ÿå‘½å‘¨æœŸä¸Žå¯åŠ¨å®ƒçš„Contextæ— å…³ã€‚ 3.è¦æ³¨æ„çš„æ˜¯ï¼Œwhateverï¼Œéƒ½éœ€è¦åœ¨xmlé‡Œæ³¨å†Œä½ çš„Serviceï¼Œå°±åƒè¿™æ ·:123&lt;service android:name=".packnameName.youServiceName" android:enabled="true" /&gt; å¹¿æ’­(Broadcast Receiver)çš„ä¸¤ç§åŠ¨æ€æ³¨å†Œå’Œé™æ€æ³¨å†Œæœ‰ä»€ä¹ˆåŒºåˆ«ã€‚ é™æ€æ³¨å†Œï¼šåœ¨AndroidManifest.xmlæ–‡ä»¶ä¸­è¿›è¡Œæ³¨å†Œï¼Œå½“Appé€€å‡ºåŽï¼ŒReceiverä»ç„¶å¯ä»¥æŽ¥æ”¶åˆ°å¹¿æ’­å¹¶ä¸”è¿›è¡Œç›¸åº”çš„å¤„ç† åŠ¨æ€æ³¨å†Œï¼šåœ¨ä»£ç ä¸­åŠ¨æ€æ³¨å†Œï¼Œå½“Appé€€å‡ºåŽï¼Œä¹Ÿå°±æ²¡åŠžæ³•å†æŽ¥å—å¹¿æ’­äº† ContentProviderä½¿ç”¨æ–¹æ³• http://blog.csdn.net/juetion/article/details/17481039 ç›®å‰èƒ½å¦ä¿è¯serviceä¸è¢«æ€æ­» Serviceè®¾ç½®æˆSTART_STICKY kill åŽä¼šè¢«é‡å¯ï¼ˆç­‰å¾…5ç§’å·¦å³ï¼‰ï¼Œé‡ä¼ Intentï¼Œä¿æŒä¸Žé‡å¯å‰ä¸€æ · æå‡serviceä¼˜å…ˆçº§ åœ¨AndroidManifest.xmlæ–‡ä»¶ä¸­å¯¹äºŽintent-filterå¯ä»¥é€šè¿‡android:priority = &quot;1000&quot;è¿™ä¸ªå±žæ€§è®¾ç½®æœ€é«˜ä¼˜å…ˆçº§ï¼Œ1000æ˜¯æœ€é«˜å€¼ï¼Œå¦‚æžœæ•°å­—è¶Šå°åˆ™ä¼˜å…ˆçº§è¶Šä½Žï¼ŒåŒæ—¶é€‚ç”¨äºŽå¹¿æ’­ã€‚ ã€ç»“è®ºã€‘ç›®å‰çœ‹æ¥ï¼Œpriorityè¿™ä¸ªå±žæ€§è²Œä¼¼åªé€‚ç”¨äºŽbroadcastï¼Œå¯¹äºŽServiceæ¥è¯´å¯èƒ½æ— æ•ˆ æå‡serviceè¿›ç¨‹ä¼˜å…ˆçº§ Androidä¸­çš„è¿›ç¨‹æ˜¯æ‰˜ç®¡çš„ï¼Œå½“ç³»ç»Ÿè¿›ç¨‹ç©ºé—´ç´§å¼ çš„æ—¶å€™ï¼Œä¼šä¾ç…§ä¼˜å…ˆçº§è‡ªåŠ¨è¿›è¡Œè¿›ç¨‹çš„å›žæ”¶ å½“serviceè¿è¡Œåœ¨ä½Žå†…å­˜çš„çŽ¯å¢ƒæ—¶ï¼Œå°†ä¼škillæŽ‰ä¸€äº›å­˜åœ¨çš„è¿›ç¨‹ã€‚å› æ­¤è¿›ç¨‹çš„ä¼˜å…ˆçº§å°†ä¼šå¾ˆé‡è¦ï¼Œå¯ä»¥åœ¨startForeground()ä½¿ç”¨startForeground()å°†serviceæ”¾åˆ°å‰å°çŠ¶æ€ã€‚è¿™æ ·åœ¨ä½Žå†…å­˜æ—¶è¢«killçš„å‡ çŽ‡ä¼šä½Žä¸€äº›ã€‚ ã€ç»“è®ºã€‘å¦‚æžœåœ¨æžåº¦æžåº¦ä½Žå†…å­˜çš„åŽ‹åŠ›ä¸‹ï¼Œè¯¥serviceè¿˜æ˜¯ä¼šè¢«killæŽ‰ï¼Œå¹¶ä¸”ä¸ä¸€å®šä¼šrestart() onDestroyæ–¹æ³•é‡Œé‡å¯service service +broadcast æ–¹å¼ï¼Œå°±æ˜¯å½“serviceèµ°onDestory()çš„æ—¶å€™ï¼Œå‘é€ä¸€ä¸ªè‡ªå®šä¹‰çš„å¹¿æ’­ï¼Œå½“æ”¶åˆ°å¹¿æ’­çš„æ—¶å€™ï¼Œé‡æ–°å¯åŠ¨service ä¹Ÿå¯ä»¥ç›´æŽ¥åœ¨onDestroy()é‡ŒstartService ã€ç»“è®ºã€‘å½“ä½¿ç”¨ç±»ä¼¼å£å£ç®¡å®¶ç­‰ç¬¬ä¸‰æ–¹åº”ç”¨æˆ–æ˜¯åœ¨settingé‡Œ-åº”ç”¨-å¼ºåˆ¶åœæ­¢æ—¶ï¼ŒAPPè¿›ç¨‹å¯èƒ½å°±ç›´æŽ¥è¢«å¹²æŽ‰äº†ï¼ŒonDestroyæ–¹æ³•éƒ½è¿›ä¸æ¥ï¼Œæ‰€ä»¥è¿˜æ˜¯æ— æ³•ä¿è¯ ç›‘å¬ç³»ç»Ÿå¹¿æ’­åˆ¤æ–­ServiceçŠ¶æ€ é€šè¿‡ç³»ç»Ÿçš„ä¸€äº›å¹¿æ’­ï¼Œæ¯”å¦‚ï¼šæ‰‹æœºé‡å¯ã€ç•Œé¢å”¤é†’ã€åº”ç”¨çŠ¶æ€æ”¹å˜ç­‰ç­‰ç›‘å¬å¹¶æ•èŽ·åˆ°ï¼Œç„¶åŽåˆ¤æ–­æˆ‘ä»¬çš„Serviceæ˜¯å¦è¿˜å­˜æ´»ï¼Œåˆ«å¿˜è®°åŠ æƒé™ ã€ç»“è®ºã€‘è¿™ä¹Ÿèƒ½ç®—æ˜¯ä¸€ç§æŽªæ–½ï¼Œä¸è¿‡æ„Ÿè§‰ç›‘å¬å¤šäº†ä¼šå¯¼è‡´Serviceå¾ˆæ··ä¹±ï¼Œå¸¦æ¥è¯¸å¤šä¸ä¾¿ åœ¨JNIå±‚,ç”¨Cä»£ç forkä¸€ä¸ªè¿›ç¨‹å‡ºæ¥ è¿™æ ·äº§ç”Ÿçš„è¿›ç¨‹,ä¼šè¢«ç³»ç»Ÿè®¤ä¸ºæ˜¯ä¸¤ä¸ªä¸åŒçš„è¿›ç¨‹.ä½†æ˜¯Android5.0ä¹‹åŽå¯èƒ½ä¸è¡Œ rootä¹‹åŽæ”¾åˆ°system/appå˜æˆç³»ç»Ÿçº§åº”ç”¨ å¤§æ‹›: æ”¾ä¸€ä¸ªåƒç´ åœ¨å‰å°(æ‰‹æœºQQ) åŠ¨ç”»æœ‰å“ªä¸¤ç±»ï¼Œå„æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿä¸‰ç§åŠ¨ç”»çš„åŒºåˆ« tween è¡¥é—´åŠ¨ç”»ã€‚é€šè¿‡æŒ‡å®šViewçš„åˆæœ«çŠ¶æ€å’Œå˜åŒ–æ—¶é—´ã€æ–¹å¼ï¼Œå¯¹Viewçš„å†…å®¹å®Œæˆä¸€ç³»åˆ—çš„å›¾å½¢å˜æ¢æ¥å®žçŽ°åŠ¨ç”»æ•ˆæžœã€‚AlphaScaleTranslateRotateã€‚ frame å¸§åŠ¨ç”»AnimationDrawable æŽ§åˆ¶animation-list xmlå¸ƒå±€ PropertyAnimation å±žæ€§åŠ¨ç”» Androidçš„æ•°æ®å­˜å‚¨å½¢å¼ã€‚ SQLiteï¼šSQLiteæ˜¯ä¸€ä¸ªè½»é‡çº§çš„æ•°æ®åº“ï¼Œæ”¯æŒåŸºæœ¬çš„SQLè¯­æ³•ï¼Œæ˜¯å¸¸è¢«é‡‡ç”¨çš„ä¸€ç§æ•°æ®å­˜å‚¨æ–¹å¼ã€‚Androidä¸ºæ­¤æ•°æ®åº“æä¾›äº†ä¸€ä¸ªåä¸ºSQLiteDatabaseçš„ç±»ï¼Œå°è£…äº†ä¸€äº›æ“ä½œæ•°æ®åº“çš„api SharedPreferenceï¼š é™¤SQLiteæ•°æ®åº“å¤–ï¼Œå¦ä¸€ç§å¸¸ç”¨çš„æ•°æ®å­˜å‚¨æ–¹å¼ï¼Œå…¶æœ¬è´¨å°±æ˜¯ä¸€ä¸ªxmlæ–‡ä»¶ï¼Œå¸¸ç”¨äºŽå­˜å‚¨è¾ƒç®€å•çš„å‚æ•°è®¾ç½®ã€‚ Fileï¼š å³å¸¸è¯´çš„æ–‡ä»¶ï¼ˆI/Oï¼‰å­˜å‚¨æ–¹æ³•ï¼Œå¸¸ç”¨è¯­å­˜å‚¨å¤§æ•°é‡çš„æ•°æ®ï¼Œä½†æ˜¯ç¼ºç‚¹æ˜¯æ›´æ–°æ•°æ®å°†æ˜¯ä¸€ä»¶å›°éš¾çš„äº‹æƒ…ã€‚ ContentProvider: Androidç³»ç»Ÿä¸­èƒ½å®žçŽ°æ‰€æœ‰åº”ç”¨ç¨‹åºå…±äº«çš„ä¸€ç§æ•°æ®å­˜å‚¨æ–¹å¼ï¼Œç”±äºŽæ•°æ®é€šå¸¸åœ¨å„åº”ç”¨é—´çš„æ˜¯äº’ç›¸ç§å¯†çš„ï¼Œæ‰€ä»¥æ­¤å­˜å‚¨æ–¹å¼è¾ƒå°‘ä½¿ç”¨ï¼Œä½†æ˜¯å…¶åˆæ˜¯å¿…ä¸å¯å°‘çš„ä¸€ç§å­˜å‚¨æ–¹å¼ã€‚ä¾‹å¦‚éŸ³é¢‘ï¼Œè§†é¢‘ï¼Œå›¾ç‰‡å’Œé€šè®¯å½•ï¼Œä¸€èˆ¬éƒ½å¯ä»¥é‡‡ç”¨æ­¤ç§æ–¹å¼è¿›è¡Œå­˜å‚¨ã€‚æ¯ä¸ªContent Provideréƒ½ä¼šå¯¹å¤–æä¾›ä¸€ä¸ªå…¬å…±çš„URIï¼ˆåŒ…è£…æˆUriå¯¹è±¡ï¼‰ï¼Œå¦‚æžœåº”ç”¨ç¨‹åºæœ‰æ•°æ®éœ€è¦å…±äº«æ—¶ï¼Œå°±éœ€è¦ä½¿ç”¨Content Providerä¸ºè¿™äº›æ•°æ®å®šä¹‰ä¸€ä¸ªURIï¼Œç„¶åŽå…¶ä»–çš„åº”ç”¨ç¨‹åºå°±é€šè¿‡Content Providerä¼ å…¥è¿™ä¸ªURIæ¥å¯¹æ•°æ®è¿›è¡Œæ“ä½œã€‚ Sqliteçš„åŸºæœ¬æ“ä½œã€‚ http://blog.csdn.net/zgljl2012/article/details/44769043 å¦‚ä½•åˆ¤æ–­åº”ç”¨è¢«å¼ºæ€ åœ¨Applicationä¸­å®šä¹‰ä¸€ä¸ªstaticå¸¸é‡ï¼Œèµ‹å€¼ä¸ºï¼1ï¼Œåœ¨æ¬¢è¿Žç•Œé¢æ”¹ä¸º0ï¼Œå¦‚æžœè¢«å¼ºæ€ï¼Œapplicationé‡æ–°åˆå§‹åŒ–ï¼Œåœ¨çˆ¶ç±»Activityåˆ¤æ–­è¯¥å¸¸é‡çš„å€¼ã€‚ åº”ç”¨è¢«å¼ºæ€å¦‚ä½•è§£å†³ å¦‚æžœåœ¨æ¯ä¸€ä¸ªActivityçš„onCreateé‡Œåˆ¤æ–­æ˜¯å¦è¢«å¼ºæ€ï¼Œå†—ä½™äº†ï¼Œå°è£…åˆ°Activityçš„çˆ¶ç±»ä¸­ï¼Œå¦‚æžœè¢«å¼ºæ€ï¼Œè·³è½¬å›žä¸»ç•Œé¢ï¼Œå¦‚æžœæ²¡æœ‰è¢«å¼ºæ€ï¼Œæ‰§è¡ŒActivityçš„åˆå§‹åŒ–æ“ä½œï¼Œç»™ä¸»ç•Œé¢ä¼ é€’intentå‚æ•°ï¼Œä¸»ç•Œé¢ä¼šè°ƒç”¨onNewIntentæ–¹æ³•ï¼Œåœ¨onNewIntentè·³è½¬åˆ°æ¬¢è¿Žé¡µé¢ï¼Œé‡æ–°æ¥ä¸€éæµç¨‹ã€‚ Jsonæœ‰ä»€ä¹ˆä¼˜åŠ£åŠ¿ã€‚ æ€Žæ ·é€€å‡ºç»ˆæ­¢App Assetç›®å½•ä¸Žresç›®å½•çš„åŒºåˆ«ã€‚res ç›®å½•ä¸‹é¢æœ‰å¾ˆå¤šæ–‡ä»¶ï¼Œä¾‹å¦‚ drawable,mipmap,raw ç­‰ã€‚res ä¸‹é¢é™¤äº† raw æ–‡ä»¶ä¸ä¼šè¢«åŽ‹ç¼©å¤–ï¼Œå…¶ä½™æ–‡ä»¶éƒ½ä¼šè¢«åŽ‹ç¼©ã€‚åŒæ—¶ resç›®å½•ä¸‹çš„æ–‡ä»¶å¯ä»¥é€šè¿‡R æ–‡ä»¶è®¿é—®ã€‚Asset ä¹Ÿæ˜¯ç”¨æ¥å­˜å‚¨èµ„æºï¼Œä½†æ˜¯ asset æ–‡ä»¶å†…å®¹åªèƒ½é€šè¿‡è·¯å¾„æˆ–è€… AssetManager è¯»å–ã€‚ å®˜æ–¹æ–‡æ¡£ Androidæ€Žä¹ˆåŠ é€Ÿå¯åŠ¨Activityã€‚åˆ†ä¸¤ç§æƒ…å†µï¼Œå¯åŠ¨åº”ç”¨ å’Œ æ™®é€šActivityå¯åŠ¨åº”ç”¨ ï¼šApplication çš„æž„é€ æ–¹æ³•ï¼ŒonCreate æ–¹æ³•ä¸­ä¸è¦è¿›è¡Œè€—æ—¶æ“ä½œï¼Œæ•°æ®é¢„è¯»å–(ä¾‹å¦‚ init æ•°æ®) æ”¾åœ¨å¼‚æ­¥ä¸­æ“ä½œå¯åŠ¨æ™®é€šçš„Activityï¼šA å¯åŠ¨B æ—¶ä¸è¦åœ¨ A çš„ onPause ä¸­æ‰§è¡Œè€—æ—¶æ“ä½œã€‚å› ä¸º B çš„ onResume æ–¹æ³•å¿…é¡»ç­‰å¾… A çš„ onPause æ‰§è¡Œå®ŒæˆåŽæ‰èƒ½è¿è¡Œ Androidå†…å­˜ä¼˜åŒ–æ–¹æ³•ï¼šListViewä¼˜åŒ–ï¼ŒåŠæ—¶å…³é—­èµ„æºï¼Œå›¾ç‰‡ç¼“å­˜ç­‰ç­‰ã€‚ Androidä¸­å¼±å¼•ç”¨ä¸Žè½¯å¼•ç”¨çš„åº”ç”¨åœºæ™¯ã€‚ Bitmapçš„å››ç§å±žæ€§ï¼Œä¸Žæ¯ç§å±žæ€§é˜Ÿå½¢çš„å¤§å°ã€‚ Viewä¸ŽView Groupåˆ†ç±»ã€‚è‡ªå®šä¹‰Viewè¿‡ç¨‹ï¼šonMeasure()ã€onLayout()ã€onDraw()ã€‚ å¦‚ä½•è‡ªå®šä¹‰æŽ§ä»¶ï¼š è‡ªå®šä¹‰å±žæ€§çš„å£°æ˜Žå’ŒèŽ·å– åˆ†æžéœ€è¦çš„è‡ªå®šä¹‰å±žæ€§ åœ¨res/values/attrs.xmlå®šä¹‰å£°æ˜Ž åœ¨layoutæ–‡ä»¶ä¸­è¿›è¡Œä½¿ç”¨ åœ¨Viewçš„æž„é€ æ–¹æ³•ä¸­è¿›è¡ŒèŽ·å– æµ‹é‡onMeasure å¸ƒå±€onLayout(ViewGroup) ç»˜åˆ¶onDraw onTouchEvent onInterceptTouchEvent(ViewGroup) çŠ¶æ€çš„æ¢å¤ä¸Žä¿å­˜ Androidé•¿è¿žæŽ¥ï¼Œæ€Žä¹ˆå¤„ç†å¿ƒè·³æœºåˆ¶ã€‚ Viewæ ‘ç»˜åˆ¶æµç¨‹ ä¸‹æ‹‰åˆ·æ–°å®žçŽ°åŽŸç† ä½ ç”¨è¿‡ä»€ä¹ˆæ¡†æž¶ï¼Œæ˜¯å¦çœ‹è¿‡æºç ï¼Œæ˜¯å¦çŸ¥é“åº•å±‚åŽŸç†ã€‚ Retrofit EventBus glide Android5.0ã€6.0æ–°ç‰¹æ€§ã€‚ Android5.0æ–°ç‰¹æ€§ï¼š MaterialDesignè®¾è®¡é£Žæ ¼ æ”¯æŒå¤šç§è®¾å¤‡ æ”¯æŒ64ä½ARTè™šæ‹Ÿæœº Android6.0æ–°ç‰¹æ€§ å¤§é‡æ¼‚äº®æµç•…çš„åŠ¨ç”» æ”¯æŒå¿«é€Ÿå……ç”µçš„åˆ‡æ¢ æ”¯æŒæ–‡ä»¶å¤¹æ‹–æ‹½åº”ç”¨ ç›¸æœºæ–°å¢žä¸“ä¸šæ¨¡å¼ Android7.0æ–°ç‰¹æ€§ åˆ†å±å¤šä»»åŠ¡ å¢žå¼ºçš„Java8è¯­è¨€æ¨¡å¼ å¤œé—´æ¨¡å¼ ContextåŒºåˆ« Activityå’ŒServiceä»¥åŠApplicationçš„Contextæ˜¯ä¸ä¸€æ ·çš„,Activityç»§æ‰¿è‡ªContextThemeWraper.å…¶ä»–çš„ç»§æ‰¿è‡ªContextWrapper æ¯ä¸€ä¸ªActivityå’ŒServiceä»¥åŠApplicationçš„Contextéƒ½æ˜¯ä¸€ä¸ªæ–°çš„ContextImplå¯¹è±¡ getApplication()ç”¨æ¥èŽ·å–Applicationå®žä¾‹çš„ï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ³•åªæœ‰åœ¨Activityå’ŒServiceä¸­æ‰èƒ½è°ƒç”¨çš„åˆ°ã€‚é‚£ä¹ˆä¹Ÿè®¸åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹æˆ‘ä»¬éƒ½æ˜¯åœ¨Activityæˆ–è€…Serviceä¸­ä½¿ç”¨Applicationçš„ï¼Œä½†æ˜¯å¦‚æžœåœ¨ä¸€äº›å…¶å®ƒçš„åœºæ™¯ï¼Œæ¯”å¦‚BroadcastReceiverä¸­ä¹Ÿæƒ³èŽ·å¾—Applicationçš„å®žä¾‹ï¼Œè¿™æ—¶å°±å¯ä»¥å€ŸåŠ©getApplicationContext()æ–¹æ³•ï¼ŒgetApplicationContext()æ¯”getApplication()æ–¹æ³•çš„ä½œç”¨åŸŸä¼šæ›´å¹¿ä¸€äº›ï¼Œä»»ä½•ä¸€ä¸ªContextçš„å®žä¾‹ï¼Œåªè¦è°ƒç”¨getApplicationContext()æ–¹æ³•éƒ½å¯ä»¥æ‹¿åˆ°æˆ‘ä»¬çš„Applicationå¯¹è±¡ã€‚ Activityåœ¨åˆ›å»ºçš„æ—¶å€™ä¼šnewä¸€ä¸ªContextImplå¯¹è±¡å¹¶åœ¨attachæ–¹æ³•ä¸­å…³è”å®ƒï¼ŒApplicationå’ŒServiceä¹Ÿå·®ä¸å¤šã€‚ContextWrapperçš„æ–¹æ³•å†…éƒ¨éƒ½æ˜¯è½¬è°ƒContextImplçš„æ–¹æ³• åˆ›å»ºå¯¹è¯æ¡†ä¼ å…¥Applicationçš„Contextæ˜¯ä¸å¯ä»¥çš„ å°½ç®¡Applicationã€Activityã€Serviceéƒ½æœ‰è‡ªå·±çš„ContextImplï¼Œå¹¶ä¸”æ¯ä¸ªContextImpléƒ½æœ‰è‡ªå·±çš„mResourcesæˆå‘˜ï¼Œä½†æ˜¯ç”±äºŽå®ƒä»¬çš„mResourcesæˆå‘˜éƒ½æ¥è‡ªäºŽå”¯ä¸€çš„ResourcesManagerå®žä¾‹ï¼Œæ‰€ä»¥å®ƒä»¬çœ‹ä¼¼ä¸åŒçš„mResourceså…¶å®žéƒ½æŒ‡å‘çš„æ˜¯åŒä¸€å—å†…å­˜ Contextçš„æ•°é‡ç­‰äºŽActivityçš„ä¸ªæ•° + Serviceçš„ä¸ªæ•° + 1ï¼Œè¿™ä¸ª1ä¸ºApplication IntentServiceçš„ä½¿ç”¨åœºæ™¯ä¸Žç‰¹ç‚¹ã€‚ IntentServiceæ˜¯Serviceçš„å­ç±»ï¼Œæ˜¯ä¸€ä¸ªå¼‚æ­¥çš„ï¼Œä¼šè‡ªåŠ¨åœæ­¢çš„æœåŠ¡ï¼Œå¾ˆå¥½è§£å†³äº†ä¼ ç»Ÿçš„Serviceä¸­å¤„ç†å®Œè€—æ—¶æ“ä½œå¿˜è®°åœæ­¢å¹¶é”€æ¯Serviceçš„é—®é¢˜ ä¼˜ç‚¹ï¼š ä¸€æ–¹é¢ä¸éœ€è¦è‡ªå·±åŽ»new Thread å¦ä¸€æ–¹é¢ä¸éœ€è¦è€ƒè™‘åœ¨ä»€ä¹ˆæ—¶å€™å…³é—­è¯¥Service onStartCommandä¸­å›žè°ƒäº†onStartï¼ŒonStartä¸­é€šè¿‡mServiceHandlerå‘é€æ¶ˆæ¯åˆ°è¯¥handlerçš„handleMessageä¸­åŽ»ã€‚æœ€åŽhandleMessageä¸­å›žè°ƒonHandleIntent(intent)ã€‚ å›¾ç‰‡ç¼“å­˜ æŸ¥çœ‹æ¯ä¸ªåº”ç”¨ç¨‹åºæœ€é«˜å¯ç”¨å†…å­˜ï¼š 12int maxMemory = (int) (Runtime.getRuntime().maxMemory() / 1024); Log.d("TAG", "Max memory is " + maxMemory + "KB"); Gradle æž„å»ºå·¥å…·ã€Groovyè¯­æ³•ã€Java JaråŒ…é‡Œé¢åªæœ‰ä»£ç ï¼Œaaré‡Œé¢ä¸å…‰æœ‰ä»£ç è¿˜åŒ…æ‹¬ä»£ç è¿˜åŒ…æ‹¬èµ„æºæ–‡ä»¶ï¼Œæ¯”å¦‚ drawable æ–‡ä»¶ï¼Œxml èµ„æºæ–‡ä»¶ã€‚å¯¹äºŽä¸€äº›ä¸å¸¸å˜åŠ¨çš„ Android Libraryï¼Œæˆ‘ä»¬å¯ä»¥ç›´æŽ¥å¼•ç”¨ aarï¼ŒåŠ å¿«ç¼–è¯‘é€Ÿåº¦ ä½ æ˜¯å¦‚ä½•è‡ªå­¦Android é¦–å…ˆæ˜¯çœ‹ä¹¦å’Œçœ‹è§†é¢‘æ•²ä»£ç ï¼Œç„¶åŽçœ‹å¤§ç‰›çš„åšå®¢ï¼Œåšä¸€äº›é¡¹ç›®ï¼Œå‘githubæäº¤ä»£ç ï¼Œè§‰å¾—è‡ªå·±APIæŽŒæ¡çš„ä¸é”™ä¹‹åŽï¼Œå¼€å§‹çœ‹è¿›é˜¶çš„ä¹¦ï¼Œä»¥åŠçœ‹æºç ï¼Œçœ‹å®Œæºç å­¦ä¹ åˆ°ä¸€äº›æ€æƒ³ï¼Œå¼€å§‹è‡ªå·±é€ è½®å­ï¼Œå¼€å§‹æƒ³ä»£ç çš„æå‡ï¼Œæ¯”å¦‚è®¾è®¡æ¨¡å¼ï¼Œæž¶æž„ï¼Œé‡æž„ç­‰ã€‚]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Android å†…å­˜æ³„æ¼æ€»ç»“]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FAndroid%2FAndroid%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[Android å†…å­˜æ³„æ¼æ€»ç»“å†…å­˜ç®¡ç†çš„ç›®çš„å°±æ˜¯è®©æˆ‘ä»¬åœ¨å¼€å‘ä¸­æ€Žä¹ˆæœ‰æ•ˆçš„é¿å…æˆ‘ä»¬çš„åº”ç”¨å‡ºçŽ°å†…å­˜æ³„æ¼çš„é—®é¢˜ã€‚å†…å­˜æ³„æ¼å¤§å®¶éƒ½ä¸é™Œç”Ÿäº†ï¼Œç®€å•ç²—ä¿—çš„è®²ï¼Œå°±æ˜¯è¯¥è¢«é‡Šæ”¾çš„å¯¹è±¡æ²¡æœ‰é‡Šæ”¾ï¼Œä¸€ç›´è¢«æŸä¸ªæˆ–æŸäº›å®žä¾‹æ‰€æŒæœ‰å´ä¸å†è¢«ä½¿ç”¨å¯¼è‡´ GC ä¸èƒ½å›žæ”¶ã€‚æœ€è¿‘è‡ªå·±é˜…è¯»äº†å¤§é‡ç›¸å…³çš„æ–‡æ¡£èµ„æ–™ï¼Œæ‰“ç®—åšä¸ª æ€»ç»“ æ²‰æ·€ä¸‹æ¥è·Ÿå¤§å®¶ä¸€èµ·åˆ†äº«å’Œå­¦ä¹ ï¼Œä¹Ÿç»™è‡ªå·±ä¸€ä¸ªè­¦ç¤ºï¼Œä»¥åŽ coding æ—¶æ€Žä¹ˆé¿å…è¿™äº›æƒ…å†µï¼Œæé«˜åº”ç”¨çš„ä½“éªŒå’Œè´¨é‡ã€‚ æˆ‘ä¼šä»Ž java å†…å­˜æ³„æ¼çš„åŸºç¡€çŸ¥è¯†å¼€å§‹ï¼Œå¹¶é€šè¿‡å…·ä½“ä¾‹å­æ¥è¯´æ˜Ž Android å¼•èµ·å†…å­˜æ³„æ¼çš„å„ç§åŽŸå› ï¼Œä»¥åŠå¦‚ä½•åˆ©ç”¨å·¥å…·æ¥åˆ†æžåº”ç”¨å†…å­˜æ³„æ¼ï¼Œæœ€åŽå†åšæ€»ç»“ã€‚ Java å†…å­˜åˆ†é…ç­–ç•¥Java ç¨‹åºè¿è¡Œæ—¶çš„å†…å­˜åˆ†é…ç­–ç•¥æœ‰ä¸‰ç§,åˆ†åˆ«æ˜¯é™æ€åˆ†é…,æ ˆå¼åˆ†é…,å’Œå †å¼åˆ†é…ï¼Œå¯¹åº”çš„ï¼Œä¸‰ç§å­˜å‚¨ç­–ç•¥ä½¿ç”¨çš„å†…å­˜ç©ºé—´ä¸»è¦åˆ†åˆ«æ˜¯é™æ€å­˜å‚¨åŒºï¼ˆä¹Ÿç§°æ–¹æ³•åŒºï¼‰ã€æ ˆåŒºå’Œå †åŒºã€‚ é™æ€å­˜å‚¨åŒºï¼ˆæ–¹æ³•åŒºï¼‰ï¼šä¸»è¦å­˜æ”¾é™æ€æ•°æ®ã€å…¨å±€ static æ•°æ®å’Œå¸¸é‡ã€‚è¿™å—å†…å­˜åœ¨ç¨‹åºç¼–è¯‘æ—¶å°±å·²ç»åˆ†é…å¥½ï¼Œå¹¶ä¸”åœ¨ç¨‹åºæ•´ä¸ªè¿è¡ŒæœŸé—´éƒ½å­˜åœ¨ã€‚ æ ˆåŒº ï¼šå½“æ–¹æ³•è¢«æ‰§è¡Œæ—¶ï¼Œæ–¹æ³•ä½“å†…çš„å±€éƒ¨å˜é‡ï¼ˆå…¶ä¸­åŒ…æ‹¬åŸºç¡€æ•°æ®ç±»åž‹ã€å¯¹è±¡çš„å¼•ç”¨ï¼‰éƒ½åœ¨æ ˆä¸Šåˆ›å»ºï¼Œå¹¶åœ¨æ–¹æ³•æ‰§è¡Œç»“æŸæ—¶è¿™äº›å±€éƒ¨å˜é‡æ‰€æŒæœ‰çš„å†…å­˜å°†ä¼šè‡ªåŠ¨è¢«é‡Šæ”¾ã€‚å› ä¸ºæ ˆå†…å­˜åˆ†é…è¿ç®—å†…ç½®äºŽå¤„ç†å™¨çš„æŒ‡ä»¤é›†ä¸­ï¼Œæ•ˆçŽ‡å¾ˆé«˜ï¼Œä½†æ˜¯åˆ†é…çš„å†…å­˜å®¹é‡æœ‰é™ã€‚ å †åŒº ï¼š åˆç§°åŠ¨æ€å†…å­˜åˆ†é…ï¼Œé€šå¸¸å°±æ˜¯æŒ‡åœ¨ç¨‹åºè¿è¡Œæ—¶ç›´æŽ¥ new å‡ºæ¥çš„å†…å­˜ï¼Œä¹Ÿå°±æ˜¯å¯¹è±¡çš„å®žä¾‹ã€‚è¿™éƒ¨åˆ†å†…å­˜åœ¨ä¸ä½¿ç”¨æ—¶å°†ä¼šç”± Java åžƒåœ¾å›žæ”¶å™¨æ¥è´Ÿè´£å›žæ”¶ã€‚ æ ˆä¸Žå †çš„åŒºåˆ«ï¼šåœ¨æ–¹æ³•ä½“å†…å®šä¹‰çš„ï¼ˆå±€éƒ¨å˜é‡ï¼‰ä¸€äº›åŸºæœ¬ç±»åž‹çš„å˜é‡å’Œå¯¹è±¡çš„å¼•ç”¨å˜é‡éƒ½æ˜¯åœ¨æ–¹æ³•çš„æ ˆå†…å­˜ä¸­åˆ†é…çš„ã€‚å½“åœ¨ä¸€æ®µæ–¹æ³•å—ä¸­å®šä¹‰ä¸€ä¸ªå˜é‡æ—¶ï¼ŒJava å°±ä¼šåœ¨æ ˆä¸­ä¸ºè¯¥å˜é‡åˆ†é…å†…å­˜ç©ºé—´ï¼Œå½“è¶…è¿‡è¯¥å˜é‡çš„ä½œç”¨åŸŸåŽï¼Œè¯¥å˜é‡ä¹Ÿå°±æ— æ•ˆäº†ï¼Œåˆ†é…ç»™å®ƒçš„å†…å­˜ç©ºé—´ä¹Ÿå°†è¢«é‡Šæ”¾æŽ‰ï¼Œè¯¥å†…å­˜ç©ºé—´å¯ä»¥è¢«é‡æ–°ä½¿ç”¨ã€‚ å †å†…å­˜ç”¨æ¥å­˜æ”¾æ‰€æœ‰ç”± new åˆ›å»ºçš„å¯¹è±¡ï¼ˆåŒ…æ‹¬è¯¥å¯¹è±¡å…¶ä¸­çš„æ‰€æœ‰æˆå‘˜å˜é‡ï¼‰å’Œæ•°ç»„ã€‚åœ¨å †ä¸­åˆ†é…çš„å†…å­˜ï¼Œå°†ç”± Java åžƒåœ¾å›žæ”¶å™¨æ¥è‡ªåŠ¨ç®¡ç†ã€‚åœ¨å †ä¸­äº§ç”Ÿäº†ä¸€ä¸ªæ•°ç»„æˆ–è€…å¯¹è±¡åŽï¼Œè¿˜å¯ä»¥åœ¨æ ˆä¸­å®šä¹‰ä¸€ä¸ªç‰¹æ®Šçš„å˜é‡ï¼Œè¿™ä¸ªå˜é‡çš„å–å€¼ç­‰äºŽæ•°ç»„æˆ–è€…å¯¹è±¡åœ¨å †å†…å­˜ä¸­çš„é¦–åœ°å€ï¼Œè¿™ä¸ªç‰¹æ®Šçš„å˜é‡å°±æ˜¯æˆ‘ä»¬ä¸Šé¢è¯´çš„å¼•ç”¨å˜é‡ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªå¼•ç”¨å˜é‡æ¥è®¿é—®å †ä¸­çš„å¯¹è±¡æˆ–è€…æ•°ç»„ã€‚ ä¸¾ä¸ªä¾‹å­: 1234567891011public class Sample &#123; int s1 = 0; Sample mSample1 = new Sample(); public void method() &#123; int s2 = 1; Sample mSample2 = new Sample(); &#125;&#125;Sample mSample3 = new Sample(); Sample ç±»çš„å±€éƒ¨å˜é‡ s2 å’Œå¼•ç”¨å˜é‡ mSample2 éƒ½æ˜¯å­˜åœ¨äºŽæ ˆä¸­ï¼Œä½† mSample2 æŒ‡å‘çš„å¯¹è±¡æ˜¯å­˜åœ¨äºŽå †ä¸Šçš„ã€‚mSample3 æŒ‡å‘çš„å¯¹è±¡å®žä½“å­˜æ”¾åœ¨å †ä¸Šï¼ŒåŒ…æ‹¬è¿™ä¸ªå¯¹è±¡çš„æ‰€æœ‰æˆå‘˜å˜é‡ s1 å’Œ mSample1ï¼Œè€Œå®ƒè‡ªå·±å­˜åœ¨äºŽæ ˆä¸­ã€‚ ç»“è®ºï¼š å±€éƒ¨å˜é‡çš„åŸºæœ¬æ•°æ®ç±»åž‹å’Œå¼•ç”¨å­˜å‚¨äºŽæ ˆä¸­ï¼Œå¼•ç”¨çš„å¯¹è±¡å®žä½“å­˜å‚¨äºŽå †ä¸­ã€‚â€”â€” å› ä¸ºå®ƒä»¬å±žäºŽæ–¹æ³•ä¸­çš„å˜é‡ï¼Œç”Ÿå‘½å‘¨æœŸéšæ–¹æ³•è€Œç»“æŸã€‚ æˆå‘˜å˜é‡å…¨éƒ¨å­˜å‚¨ä¸Žå †ä¸­ï¼ˆåŒ…æ‹¬åŸºæœ¬æ•°æ®ç±»åž‹ï¼Œå¼•ç”¨å’Œå¼•ç”¨çš„å¯¹è±¡å®žä½“ï¼‰â€”â€” å› ä¸ºå®ƒä»¬å±žäºŽç±»ï¼Œç±»å¯¹è±¡ç»ˆç©¶æ˜¯è¦è¢«newå‡ºæ¥ä½¿ç”¨çš„ã€‚ äº†è§£äº† Java çš„å†…å­˜åˆ†é…ä¹‹åŽï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹ Java æ˜¯æ€Žä¹ˆç®¡ç†å†…å­˜çš„ã€‚ Javaæ˜¯å¦‚ä½•ç®¡ç†å†…å­˜Javaçš„å†…å­˜ç®¡ç†å°±æ˜¯å¯¹è±¡çš„åˆ†é…å’Œé‡Šæ”¾é—®é¢˜ã€‚åœ¨ Java ä¸­ï¼Œç¨‹åºå‘˜éœ€è¦é€šè¿‡å…³é”®å­— new ä¸ºæ¯ä¸ªå¯¹è±¡ç”³è¯·å†…å­˜ç©ºé—´ (åŸºæœ¬ç±»åž‹é™¤å¤–)ï¼Œæ‰€æœ‰çš„å¯¹è±¡éƒ½åœ¨å † (Heap)ä¸­åˆ†é…ç©ºé—´ã€‚å¦å¤–ï¼Œå¯¹è±¡çš„é‡Šæ”¾æ˜¯ç”± GC å†³å®šå’Œæ‰§è¡Œçš„ã€‚åœ¨ Java ä¸­ï¼Œå†…å­˜çš„åˆ†é…æ˜¯ç”±ç¨‹åºå®Œæˆçš„ï¼Œè€Œå†…å­˜çš„é‡Šæ”¾æ˜¯ç”± GC å®Œæˆçš„ï¼Œè¿™ç§æ”¶æ”¯ä¸¤æ¡çº¿çš„æ–¹æ³•ç¡®å®žç®€åŒ–äº†ç¨‹åºå‘˜çš„å·¥ä½œã€‚ä½†åŒæ—¶ï¼Œå®ƒä¹ŸåŠ é‡äº†JVMçš„å·¥ä½œã€‚è¿™ä¹Ÿæ˜¯ Java ç¨‹åºè¿è¡Œé€Ÿåº¦è¾ƒæ…¢çš„åŽŸå› ä¹‹ä¸€ã€‚å› ä¸ºï¼ŒGC ä¸ºäº†èƒ½å¤Ÿæ­£ç¡®é‡Šæ”¾å¯¹è±¡ï¼ŒGC å¿…é¡»ç›‘æŽ§æ¯ä¸€ä¸ªå¯¹è±¡çš„è¿è¡ŒçŠ¶æ€ï¼ŒåŒ…æ‹¬å¯¹è±¡çš„ç”³è¯·ã€å¼•ç”¨ã€è¢«å¼•ç”¨ã€èµ‹å€¼ç­‰ï¼ŒGC éƒ½éœ€è¦è¿›è¡Œç›‘æŽ§ã€‚ ç›‘è§†å¯¹è±¡çŠ¶æ€æ˜¯ä¸ºäº†æ›´åŠ å‡†ç¡®åœ°ã€åŠæ—¶åœ°é‡Šæ”¾å¯¹è±¡ï¼Œè€Œé‡Šæ”¾å¯¹è±¡çš„æ ¹æœ¬åŽŸåˆ™å°±æ˜¯è¯¥å¯¹è±¡ä¸å†è¢«å¼•ç”¨ã€‚ ä¸ºäº†æ›´å¥½ç†è§£ GC çš„å·¥ä½œåŽŸç†ï¼Œæˆ‘ä»¬å¯ä»¥å°†å¯¹è±¡è€ƒè™‘ä¸ºæœ‰å‘å›¾çš„é¡¶ç‚¹ï¼Œå°†å¼•ç”¨å…³ç³»è€ƒè™‘ä¸ºå›¾çš„æœ‰å‘è¾¹ï¼Œæœ‰å‘è¾¹ä»Žå¼•ç”¨è€…æŒ‡å‘è¢«å¼•å¯¹è±¡ã€‚å¦å¤–ï¼Œæ¯ä¸ªçº¿ç¨‹å¯¹è±¡å¯ä»¥ä½œä¸ºä¸€ä¸ªå›¾çš„èµ·å§‹é¡¶ç‚¹ï¼Œä¾‹å¦‚å¤§å¤šç¨‹åºä»Ž main è¿›ç¨‹å¼€å§‹æ‰§è¡Œï¼Œé‚£ä¹ˆè¯¥å›¾å°±æ˜¯ä»¥ main è¿›ç¨‹é¡¶ç‚¹å¼€å§‹çš„ä¸€æ£µæ ¹æ ‘ã€‚åœ¨è¿™ä¸ªæœ‰å‘å›¾ä¸­ï¼Œæ ¹é¡¶ç‚¹å¯è¾¾çš„å¯¹è±¡éƒ½æ˜¯æœ‰æ•ˆå¯¹è±¡ï¼ŒGCå°†ä¸å›žæ”¶è¿™äº›å¯¹è±¡ã€‚å¦‚æžœæŸä¸ªå¯¹è±¡ (è¿žé€šå­å›¾)ä¸Žè¿™ä¸ªæ ¹é¡¶ç‚¹ä¸å¯è¾¾(æ³¨æ„ï¼Œè¯¥å›¾ä¸ºæœ‰å‘å›¾)ï¼Œé‚£ä¹ˆæˆ‘ä»¬è®¤ä¸ºè¿™ä¸ª(è¿™äº›)å¯¹è±¡ä¸å†è¢«å¼•ç”¨ï¼Œå¯ä»¥è¢« GC å›žæ”¶ã€‚ä»¥ä¸‹ï¼Œæˆ‘ä»¬ä¸¾ä¸€ä¸ªä¾‹å­è¯´æ˜Žå¦‚ä½•ç”¨æœ‰å‘å›¾è¡¨ç¤ºå†…å­˜ç®¡ç†ã€‚å¯¹äºŽç¨‹åºçš„æ¯ä¸€ä¸ªæ—¶åˆ»ï¼Œæˆ‘ä»¬éƒ½æœ‰ä¸€ä¸ªæœ‰å‘å›¾è¡¨ç¤ºJVMçš„å†…å­˜åˆ†é…æƒ…å†µã€‚ä»¥ä¸‹å³å›¾ï¼Œå°±æ˜¯å·¦è¾¹ç¨‹åºè¿è¡Œåˆ°ç¬¬6è¡Œçš„ç¤ºæ„å›¾ã€‚ Javaä½¿ç”¨æœ‰å‘å›¾çš„æ–¹å¼è¿›è¡Œå†…å­˜ç®¡ç†ï¼Œå¯ä»¥æ¶ˆé™¤å¼•ç”¨å¾ªçŽ¯çš„é—®é¢˜ï¼Œä¾‹å¦‚æœ‰ä¸‰ä¸ªå¯¹è±¡ï¼Œç›¸äº’å¼•ç”¨ï¼Œåªè¦å®ƒä»¬å’Œæ ¹è¿›ç¨‹ä¸å¯è¾¾çš„ï¼Œé‚£ä¹ˆGCä¹Ÿæ˜¯å¯ä»¥å›žæ”¶å®ƒä»¬çš„ã€‚è¿™ç§æ–¹å¼çš„ä¼˜ç‚¹æ˜¯ç®¡ç†å†…å­˜çš„ç²¾åº¦å¾ˆé«˜ï¼Œä½†æ˜¯æ•ˆçŽ‡è¾ƒä½Žã€‚å¦å¤–ä¸€ç§å¸¸ç”¨çš„å†…å­˜ç®¡ç†æŠ€æœ¯æ˜¯ä½¿ç”¨è®¡æ•°å™¨ï¼Œä¾‹å¦‚COMæ¨¡åž‹é‡‡ç”¨è®¡æ•°å™¨æ–¹å¼ç®¡ç†æž„ä»¶ï¼Œå®ƒä¸Žæœ‰å‘å›¾ç›¸æ¯”ï¼Œç²¾åº¦è¡Œä½Ž(å¾ˆéš¾å¤„ç†å¾ªçŽ¯å¼•ç”¨çš„é—®é¢˜)ï¼Œä½†æ‰§è¡Œæ•ˆçŽ‡å¾ˆé«˜ã€‚ ä»€ä¹ˆæ˜¯Javaä¸­çš„å†…å­˜æ³„éœ²åœ¨Javaä¸­ï¼Œå†…å­˜æ³„æ¼å°±æ˜¯å­˜åœ¨ä¸€äº›è¢«åˆ†é…çš„å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡æœ‰ä¸‹é¢ä¸¤ä¸ªç‰¹ç‚¹ï¼Œé¦–å…ˆï¼Œè¿™äº›å¯¹è±¡æ˜¯å¯è¾¾çš„ï¼Œå³åœ¨æœ‰å‘å›¾ä¸­ï¼Œå­˜åœ¨é€šè·¯å¯ä»¥ä¸Žå…¶ç›¸è¿žï¼›å…¶æ¬¡ï¼Œè¿™äº›å¯¹è±¡æ˜¯æ— ç”¨çš„ï¼Œå³ç¨‹åºä»¥åŽä¸ä¼šå†ä½¿ç”¨è¿™äº›å¯¹è±¡ã€‚å¦‚æžœå¯¹è±¡æ»¡è¶³è¿™ä¸¤ä¸ªæ¡ä»¶ï¼Œè¿™äº›å¯¹è±¡å°±å¯ä»¥åˆ¤å®šä¸ºJavaä¸­çš„å†…å­˜æ³„æ¼ï¼Œè¿™äº›å¯¹è±¡ä¸ä¼šè¢«GCæ‰€å›žæ”¶ï¼Œç„¶è€Œå®ƒå´å ç”¨å†…å­˜ã€‚ åœ¨C++ä¸­ï¼Œå†…å­˜æ³„æ¼çš„èŒƒå›´æ›´å¤§ä¸€äº›ã€‚æœ‰äº›å¯¹è±¡è¢«åˆ†é…äº†å†…å­˜ç©ºé—´ï¼Œç„¶åŽå´ä¸å¯è¾¾ï¼Œç”±äºŽC++ä¸­æ²¡æœ‰GCï¼Œè¿™äº›å†…å­˜å°†æ°¸è¿œæ”¶ä¸å›žæ¥ã€‚åœ¨Javaä¸­ï¼Œè¿™äº›ä¸å¯è¾¾çš„å¯¹è±¡éƒ½ç”±GCè´Ÿè´£å›žæ”¶ï¼Œå› æ­¤ç¨‹åºå‘˜ä¸éœ€è¦è€ƒè™‘è¿™éƒ¨åˆ†çš„å†…å­˜æ³„éœ²ã€‚ é€šè¿‡åˆ†æžï¼Œæˆ‘ä»¬å¾—çŸ¥ï¼Œå¯¹äºŽC++ï¼Œç¨‹åºå‘˜éœ€è¦è‡ªå·±ç®¡ç†è¾¹å’Œé¡¶ç‚¹ï¼Œè€Œå¯¹äºŽJavaç¨‹åºå‘˜åªéœ€è¦ç®¡ç†è¾¹å°±å¯ä»¥äº†(ä¸éœ€è¦ç®¡ç†é¡¶ç‚¹çš„é‡Šæ”¾)ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒJavaæé«˜äº†ç¼–ç¨‹çš„æ•ˆçŽ‡ã€‚ å› æ­¤ï¼Œé€šè¿‡ä»¥ä¸Šåˆ†æžï¼Œæˆ‘ä»¬çŸ¥é“åœ¨Javaä¸­ä¹Ÿæœ‰å†…å­˜æ³„æ¼ï¼Œä½†èŒƒå›´æ¯”C++è¦å°ä¸€äº›ã€‚å› ä¸ºJavaä»Žè¯­è¨€ä¸Šä¿è¯ï¼Œä»»ä½•å¯¹è±¡éƒ½æ˜¯å¯è¾¾çš„ï¼Œæ‰€æœ‰çš„ä¸å¯è¾¾å¯¹è±¡éƒ½ç”±GCç®¡ç†ã€‚ å¯¹äºŽç¨‹åºå‘˜æ¥è¯´ï¼ŒGCåŸºæœ¬æ˜¯é€æ˜Žçš„ï¼Œä¸å¯è§çš„ã€‚è™½ç„¶ï¼Œæˆ‘ä»¬åªæœ‰å‡ ä¸ªå‡½æ•°å¯ä»¥è®¿é—®GCï¼Œä¾‹å¦‚è¿è¡ŒGCçš„å‡½æ•°System.gc()ï¼Œä½†æ˜¯æ ¹æ®Javaè¯­è¨€è§„èŒƒå®šä¹‰ï¼Œ è¯¥å‡½æ•°ä¸ä¿è¯JVMçš„åžƒåœ¾æ”¶é›†å™¨ä¸€å®šä¼šæ‰§è¡Œã€‚å› ä¸ºï¼Œä¸åŒçš„JVMå®žçŽ°è€…å¯èƒ½ä½¿ç”¨ä¸åŒçš„ç®—æ³•ç®¡ç†GCã€‚é€šå¸¸ï¼ŒGCçš„çº¿ç¨‹çš„ä¼˜å…ˆçº§åˆ«è¾ƒä½Žã€‚JVMè°ƒç”¨GCçš„ç­–ç•¥ä¹Ÿæœ‰å¾ˆå¤šç§ï¼Œæœ‰çš„æ˜¯å†…å­˜ä½¿ç”¨åˆ°è¾¾ä¸€å®šç¨‹åº¦æ—¶ï¼ŒGCæ‰å¼€å§‹å·¥ä½œï¼Œä¹Ÿæœ‰å®šæ—¶æ‰§è¡Œçš„ï¼Œæœ‰çš„æ˜¯å¹³ç¼“æ‰§è¡ŒGCï¼Œæœ‰çš„æ˜¯ä¸­æ–­å¼æ‰§è¡ŒGCã€‚ä½†é€šå¸¸æ¥è¯´ï¼Œæˆ‘ä»¬ä¸éœ€è¦å…³å¿ƒè¿™äº›ã€‚é™¤éžåœ¨ä¸€äº›ç‰¹å®šçš„åœºåˆï¼ŒGCçš„æ‰§è¡Œå½±å“åº”ç”¨ç¨‹åºçš„æ€§èƒ½ï¼Œä¾‹å¦‚å¯¹äºŽåŸºäºŽWebçš„å®žæ—¶ç³»ç»Ÿï¼Œå¦‚ç½‘ç»œæ¸¸æˆç­‰ï¼Œç”¨æˆ·ä¸å¸Œæœ›GCçªç„¶ä¸­æ–­åº”ç”¨ç¨‹åºæ‰§è¡Œè€Œè¿›è¡Œåžƒåœ¾å›žæ”¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦è°ƒæ•´GCçš„å‚æ•°ï¼Œè®©GCèƒ½å¤Ÿé€šè¿‡å¹³ç¼“çš„æ–¹å¼é‡Šæ”¾å†…å­˜ï¼Œä¾‹å¦‚å°†åžƒåœ¾å›žæ”¶åˆ†è§£ä¸ºä¸€ç³»åˆ—çš„å°æ­¥éª¤æ‰§è¡Œï¼ŒSunæä¾›çš„HotSpot JVMå°±æ”¯æŒè¿™ä¸€ç‰¹æ€§ã€‚ åŒæ ·ç»™å‡ºä¸€ä¸ª Java å†…å­˜æ³„æ¼çš„å…¸åž‹ä¾‹å­ï¼Œ 123456Vector v = new Vector(10);for (int i = 1; i &lt; 100; i++) &#123; Object o = new Object(); v.add(o); o = null; &#125; åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¾ªçŽ¯ç”³è¯·Objectå¯¹è±¡ï¼Œå¹¶å°†æ‰€ç”³è¯·çš„å¯¹è±¡æ”¾å…¥ä¸€ä¸ª Vector ä¸­ï¼Œå¦‚æžœæˆ‘ä»¬ä»…ä»…é‡Šæ”¾å¼•ç”¨æœ¬èº«ï¼Œé‚£ä¹ˆ Vector ä»ç„¶å¼•ç”¨è¯¥å¯¹è±¡ï¼Œæ‰€ä»¥è¿™ä¸ªå¯¹è±¡å¯¹ GC æ¥è¯´æ˜¯ä¸å¯å›žæ”¶çš„ã€‚å› æ­¤ï¼Œå¦‚æžœå¯¹è±¡åŠ å…¥åˆ°Vector åŽï¼Œè¿˜å¿…é¡»ä»Ž Vector ä¸­åˆ é™¤ï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯å°† Vector å¯¹è±¡è®¾ç½®ä¸º nullã€‚ è¯¦ç»†Javaä¸­çš„å†…å­˜æ³„æ¼ 1.Javaå†…å­˜å›žæ”¶æœºåˆ¶ ä¸è®ºå“ªç§è¯­è¨€çš„å†…å­˜åˆ†é…æ–¹å¼ï¼Œéƒ½éœ€è¦è¿”å›žæ‰€åˆ†é…å†…å­˜çš„çœŸå®žåœ°å€ï¼Œä¹Ÿå°±æ˜¯è¿”å›žä¸€ä¸ªæŒ‡é’ˆåˆ°å†…å­˜å—çš„é¦–åœ°å€ã€‚Javaä¸­å¯¹è±¡æ˜¯é‡‡ç”¨newæˆ–è€…åå°„çš„æ–¹æ³•åˆ›å»ºçš„ï¼Œè¿™äº›å¯¹è±¡çš„åˆ›å»ºéƒ½æ˜¯åœ¨å †ï¼ˆHeapï¼‰ä¸­åˆ†é…çš„ï¼Œæ‰€æœ‰å¯¹è±¡çš„å›žæ”¶éƒ½æ˜¯ç”±Javaè™šæ‹Ÿæœºé€šè¿‡åžƒåœ¾å›žæ”¶æœºåˆ¶å®Œæˆçš„ã€‚GCä¸ºäº†èƒ½å¤Ÿæ­£ç¡®é‡Šæ”¾å¯¹è±¡ï¼Œä¼šç›‘æŽ§æ¯ä¸ªå¯¹è±¡çš„è¿è¡ŒçŠ¶å†µï¼Œå¯¹ä»–ä»¬çš„ç”³è¯·ã€å¼•ç”¨ã€è¢«å¼•ç”¨ã€èµ‹å€¼ç­‰çŠ¶å†µè¿›è¡Œç›‘æŽ§ï¼ŒJavaä¼šä½¿ç”¨æœ‰å‘å›¾çš„æ–¹æ³•è¿›è¡Œç®¡ç†å†…å­˜ï¼Œå®žæ—¶ç›‘æŽ§å¯¹è±¡æ˜¯å¦å¯ä»¥è¾¾åˆ°ï¼Œå¦‚æžœä¸å¯åˆ°è¾¾ï¼Œåˆ™å°±å°†å…¶å›žæ”¶ï¼Œè¿™æ ·ä¹Ÿå¯ä»¥æ¶ˆé™¤å¼•ç”¨å¾ªçŽ¯çš„é—®é¢˜ã€‚åœ¨Javaè¯­è¨€ä¸­ï¼Œåˆ¤æ–­ä¸€ä¸ªå†…å­˜ç©ºé—´æ˜¯å¦ç¬¦åˆåžƒåœ¾æ”¶é›†æ ‡å‡†æœ‰ä¸¤ä¸ªï¼šä¸€ä¸ªæ˜¯ç»™å¯¹è±¡èµ‹äºˆäº†ç©ºå€¼nullï¼Œä»¥ä¸‹å†æ²¡æœ‰è°ƒç”¨è¿‡ï¼Œå¦ä¸€ä¸ªæ˜¯ç»™å¯¹è±¡èµ‹äºˆäº†æ–°å€¼ï¼Œè¿™æ ·é‡æ–°åˆ†é…äº†å†…å­˜ç©ºé—´ã€‚ 2.Javaå†…å­˜æ³„æ¼å¼•èµ·çš„åŽŸå›  å†…å­˜æ³„æ¼æ˜¯æŒ‡æ— ç”¨å¯¹è±¡ï¼ˆä¸å†ä½¿ç”¨çš„å¯¹è±¡ï¼‰æŒç»­å æœ‰å†…å­˜æˆ–æ— ç”¨å¯¹è±¡çš„å†…å­˜å¾—ä¸åˆ°åŠæ—¶é‡Šæ”¾ï¼Œä»Žè€Œé€ æˆå†…å­˜ç©ºé—´çš„æµªè´¹ç§°ä¸ºå†…å­˜æ³„æ¼ã€‚å†…å­˜æ³„éœ²æœ‰æ—¶ä¸ä¸¥é‡ä¸”ä¸æ˜“å¯Ÿè§‰ï¼Œè¿™æ ·å¼€å‘è€…å°±ä¸çŸ¥é“å­˜åœ¨å†…å­˜æ³„éœ²ï¼Œä½†æœ‰æ—¶ä¹Ÿä¼šå¾ˆä¸¥é‡ï¼Œä¼šæç¤ºä½ Out of memoryã€‚j Javaå†…å­˜æ³„æ¼çš„æ ¹æœ¬åŽŸå› æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿé•¿ç”Ÿå‘½å‘¨æœŸçš„å¯¹è±¡æŒæœ‰çŸ­ç”Ÿå‘½å‘¨æœŸå¯¹è±¡çš„å¼•ç”¨å°±å¾ˆå¯èƒ½å‘ç”Ÿå†…å­˜æ³„æ¼ï¼Œå°½ç®¡çŸ­ç”Ÿå‘½å‘¨æœŸå¯¹è±¡å·²ç»ä¸å†éœ€è¦ï¼Œä½†æ˜¯å› ä¸ºé•¿ç”Ÿå‘½å‘¨æœŸæŒæœ‰å®ƒçš„å¼•ç”¨è€Œå¯¼è‡´ä¸èƒ½è¢«å›žæ”¶ï¼Œè¿™å°±æ˜¯Javaä¸­å†…å­˜æ³„æ¼çš„å‘ç”Ÿåœºæ™¯ã€‚å…·ä½“ä¸»è¦æœ‰å¦‚ä¸‹å‡ å¤§ç±»ï¼š 1ã€é™æ€é›†åˆç±»å¼•èµ·å†…å­˜æ³„æ¼ï¼š åƒHashMapã€Vectorç­‰çš„ä½¿ç”¨æœ€å®¹æ˜“å‡ºçŽ°å†…å­˜æ³„éœ²ï¼Œè¿™äº›é™æ€å˜é‡çš„ç”Ÿå‘½å‘¨æœŸå’Œåº”ç”¨ç¨‹åºä¸€è‡´ï¼Œä»–ä»¬æ‰€å¼•ç”¨çš„æ‰€æœ‰çš„å¯¹è±¡Objectä¹Ÿä¸èƒ½è¢«é‡Šæ”¾ï¼Œå› ä¸ºä»–ä»¬ä¹Ÿå°†ä¸€ç›´è¢«Vectorç­‰å¼•ç”¨ç€ã€‚ ä¾‹å¦‚ 1234567Static Vector v = new Vector(10);for (int i = 1; i&lt;100; i++)&#123;Object o = new Object();v.add(o);o = null;&#125; åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¾ªçŽ¯ç”³è¯·Object å¯¹è±¡ï¼Œå¹¶å°†æ‰€ç”³è¯·çš„å¯¹è±¡æ”¾å…¥ä¸€ä¸ªVector ä¸­ï¼Œå¦‚æžœä»…ä»…é‡Šæ”¾å¼•ç”¨æœ¬èº«ï¼ˆo=nullï¼‰ï¼Œé‚£ä¹ˆVector ä»ç„¶å¼•ç”¨è¯¥å¯¹è±¡ï¼Œæ‰€ä»¥è¿™ä¸ªå¯¹è±¡å¯¹GC æ¥è¯´æ˜¯ä¸å¯å›žæ”¶çš„ã€‚å› æ­¤ï¼Œå¦‚æžœå¯¹è±¡åŠ å…¥åˆ°Vector åŽï¼Œè¿˜å¿…é¡»ä»ŽVector ä¸­åˆ é™¤ï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯å°†Vectorå¯¹è±¡è®¾ç½®ä¸ºnullã€‚ 2ã€å½“é›†åˆé‡Œé¢çš„å¯¹è±¡å±žæ€§è¢«ä¿®æ”¹åŽï¼Œå†è°ƒç”¨remove()æ–¹æ³•æ—¶ä¸èµ·ä½œç”¨ã€‚ ä¾‹å¦‚ï¼š 123456789101112131415161718192021public static void main(String[] args)&#123;Set&lt;Person&gt; set = new HashSet&lt;Person&gt;();Person p1 = new Person("å”åƒ§","pwd1",25);Person p2 = new Person("å­™æ‚Ÿç©º","pwd2",26);Person p3 = new Person("çŒªå…«æˆ’","pwd3",27);set.add(p1);set.add(p2);set.add(p3);System.out.println("æ€»å…±æœ‰:"+set.size()+" ä¸ªå…ƒç´ !"); //ç»“æžœï¼šæ€»å…±æœ‰:3 ä¸ªå…ƒç´ !p3.setAge(2); //ä¿®æ”¹p3çš„å¹´é¾„,æ­¤æ—¶p3å…ƒç´ å¯¹åº”çš„hashcodeå€¼å‘ç”Ÿæ”¹å˜set.remove(p3); //æ­¤æ—¶removeä¸æŽ‰ï¼Œé€ æˆå†…å­˜æ³„æ¼set.add(p3); //é‡æ–°æ·»åŠ ï¼Œå±…ç„¶æ·»åŠ æˆåŠŸSystem.out.println("æ€»å…±æœ‰:"+set.size()+" ä¸ªå…ƒç´ !"); //ç»“æžœï¼šæ€»å…±æœ‰:4 ä¸ªå…ƒç´ !for (Person person : set)&#123;System.out.println(person);&#125;&#125; 3ã€ç›‘å¬å™¨ åœ¨java ç¼–ç¨‹ä¸­ï¼Œæˆ‘ä»¬éƒ½éœ€è¦å’Œç›‘å¬å™¨æ‰“äº¤é“ï¼Œé€šå¸¸ä¸€ä¸ªåº”ç”¨å½“ä¸­ä¼šç”¨åˆ°å¾ˆå¤šç›‘å¬å™¨ï¼Œæˆ‘ä»¬ä¼šè°ƒç”¨ä¸€ä¸ªæŽ§ä»¶çš„è¯¸å¦‚addXXXListener()ç­‰æ–¹æ³•æ¥å¢žåŠ ç›‘å¬å™¨ï¼Œä½†å¾€å¾€åœ¨é‡Šæ”¾å¯¹è±¡çš„æ—¶å€™å´æ²¡æœ‰è®°ä½åŽ»åˆ é™¤è¿™äº›ç›‘å¬å™¨ï¼Œä»Žè€Œå¢žåŠ äº†å†…å­˜æ³„æ¼çš„æœºä¼šã€‚ 4ã€å„ç§è¿žæŽ¥ æ¯”å¦‚æ•°æ®åº“è¿žæŽ¥ï¼ˆdataSourse.getConnection()ï¼‰ï¼Œç½‘ç»œè¿žæŽ¥(socket)å’Œioè¿žæŽ¥ï¼Œé™¤éžå…¶æ˜¾å¼çš„è°ƒç”¨äº†å…¶closeï¼ˆï¼‰æ–¹æ³•å°†å…¶è¿žæŽ¥å…³é—­ï¼Œå¦åˆ™æ˜¯ä¸ä¼šè‡ªåŠ¨è¢«GC å›žæ”¶çš„ã€‚å¯¹äºŽResultset å’ŒStatement å¯¹è±¡å¯ä»¥ä¸è¿›è¡Œæ˜¾å¼å›žæ”¶ï¼Œä½†Connection ä¸€å®šè¦æ˜¾å¼å›žæ”¶ï¼Œå› ä¸ºConnection åœ¨ä»»ä½•æ—¶å€™éƒ½æ— æ³•è‡ªåŠ¨å›žæ”¶ï¼Œè€ŒConnectionä¸€æ—¦å›žæ”¶ï¼ŒResultset å’ŒStatement å¯¹è±¡å°±ä¼šç«‹å³ä¸ºNULLã€‚ä½†æ˜¯å¦‚æžœä½¿ç”¨è¿žæŽ¥æ± ï¼Œæƒ…å†µå°±ä¸ä¸€æ ·äº†ï¼Œé™¤äº†è¦æ˜¾å¼åœ°å…³é—­è¿žæŽ¥ï¼Œè¿˜å¿…é¡»æ˜¾å¼åœ°å…³é—­Resultset Statement å¯¹è±¡ï¼ˆå…³é—­å…¶ä¸­ä¸€ä¸ªï¼Œå¦å¤–ä¸€ä¸ªä¹Ÿä¼šå…³é—­ï¼‰ï¼Œå¦åˆ™å°±ä¼šé€ æˆå¤§é‡çš„Statement å¯¹è±¡æ— æ³•é‡Šæ”¾ï¼Œä»Žè€Œå¼•èµ·å†…å­˜æ³„æ¼ã€‚è¿™ç§æƒ…å†µä¸‹ä¸€èˆ¬éƒ½ä¼šåœ¨tryé‡Œé¢åŽ»çš„è¿žæŽ¥ï¼Œåœ¨finallyé‡Œé¢é‡Šæ”¾è¿žæŽ¥ã€‚ 5ã€å†…éƒ¨ç±»å’Œå¤–éƒ¨æ¨¡å—çš„å¼•ç”¨ å†…éƒ¨ç±»çš„å¼•ç”¨æ˜¯æ¯”è¾ƒå®¹æ˜“é—å¿˜çš„ä¸€ç§ï¼Œè€Œä¸”ä¸€æ—¦æ²¡é‡Šæ”¾å¯èƒ½å¯¼è‡´ä¸€ç³»åˆ—çš„åŽç»§ç±»å¯¹è±¡æ²¡æœ‰é‡Šæ”¾ã€‚æ­¤å¤–ç¨‹åºå‘˜è¿˜è¦å°å¿ƒå¤–éƒ¨æ¨¡å—ä¸ç»æ„çš„å¼•ç”¨ï¼Œä¾‹å¦‚ç¨‹åºå‘˜A è´Ÿè´£A æ¨¡å—ï¼Œè°ƒç”¨äº†B æ¨¡å—çš„ä¸€ä¸ªæ–¹æ³•å¦‚ï¼špublic void registerMsg(Object b);è¿™ç§è°ƒç”¨å°±è¦éžå¸¸å°å¿ƒäº†ï¼Œä¼ å…¥äº†ä¸€ä¸ªå¯¹è±¡ï¼Œå¾ˆå¯èƒ½æ¨¡å—Bå°±ä¿æŒäº†å¯¹è¯¥å¯¹è±¡çš„å¼•ç”¨ï¼Œè¿™æ—¶å€™å°±éœ€è¦æ³¨æ„æ¨¡å—B æ˜¯å¦æä¾›ç›¸åº”çš„æ“ä½œåŽ»é™¤å¼•ç”¨ã€‚ 6ã€å•ä¾‹æ¨¡å¼ ä¸æ­£ç¡®ä½¿ç”¨å•ä¾‹æ¨¡å¼æ˜¯å¼•èµ·å†…å­˜æ³„æ¼çš„ä¸€ä¸ªå¸¸è§é—®é¢˜ï¼Œå•ä¾‹å¯¹è±¡åœ¨åˆå§‹åŒ–åŽå°†åœ¨JVMçš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­å­˜åœ¨ï¼ˆä»¥é™æ€å˜é‡çš„æ–¹å¼ï¼‰ï¼Œå¦‚æžœå•ä¾‹å¯¹è±¡æŒæœ‰å¤–éƒ¨çš„å¼•ç”¨ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡å°†ä¸èƒ½è¢«JVMæ­£å¸¸å›žæ”¶ï¼Œå¯¼è‡´å†…å­˜æ³„æ¼ï¼Œè€ƒè™‘ä¸‹é¢çš„ä¾‹å­ï¼š 12345678910111213141516171819class A&#123;public A()&#123;B.getInstance().setA(this);&#125;....&#125;//Bç±»é‡‡ç”¨å•ä¾‹æ¨¡å¼class B&#123;private A a;private static B instance=new B();public B()&#123;&#125;public static B getInstance()&#123;return instance;&#125;public void setA(A a)&#123;this.a=a;&#125;//getter...&#125; æ˜¾ç„¶Bé‡‡ç”¨singletonæ¨¡å¼ï¼Œå®ƒæŒæœ‰ä¸€ä¸ªAå¯¹è±¡çš„å¼•ç”¨ï¼Œè€Œè¿™ä¸ªAç±»çš„å¯¹è±¡å°†ä¸èƒ½è¢«å›žæ”¶ã€‚æƒ³è±¡ä¸‹å¦‚æžœAæ˜¯ä¸ªæ¯”è¾ƒå¤æ‚çš„å¯¹è±¡æˆ–è€…é›†åˆç±»åž‹ä¼šå‘ç”Ÿä»€ä¹ˆæƒ…å†µ Androidä¸­å¸¸è§çš„å†…å­˜æ³„æ¼æ±‡æ€» é›†åˆç±»æ³„æ¼é›†åˆç±»å¦‚æžœä»…ä»…æœ‰æ·»åŠ å…ƒç´ çš„æ–¹æ³•ï¼Œè€Œæ²¡æœ‰ç›¸åº”çš„åˆ é™¤æœºåˆ¶ï¼Œå¯¼è‡´å†…å­˜è¢«å ç”¨ã€‚å¦‚æžœè¿™ä¸ªé›†åˆç±»æ˜¯å…¨å±€æ€§çš„å˜é‡ (æ¯”å¦‚ç±»ä¸­çš„é™æ€å±žæ€§ï¼Œå…¨å±€æ€§çš„ map ç­‰å³æœ‰é™æ€å¼•ç”¨æˆ– final ä¸€ç›´æŒ‡å‘å®ƒ)ï¼Œé‚£ä¹ˆæ²¡æœ‰ç›¸åº”çš„åˆ é™¤æœºåˆ¶ï¼Œå¾ˆå¯èƒ½å¯¼è‡´é›†åˆæ‰€å ç”¨çš„å†…å­˜åªå¢žä¸å‡ã€‚æ¯”å¦‚ä¸Šé¢çš„å…¸åž‹ä¾‹å­å°±æ˜¯å…¶ä¸­ä¸€ç§æƒ…å†µï¼Œå½“ç„¶å®žé™…ä¸Šæˆ‘ä»¬åœ¨é¡¹ç›®ä¸­è‚¯å®šä¸ä¼šå†™è¿™ä¹ˆ 2B çš„ä»£ç ï¼Œä½†ç¨ä¸æ³¨æ„è¿˜æ˜¯å¾ˆå®¹æ˜“å‡ºçŽ°è¿™ç§æƒ…å†µï¼Œæ¯”å¦‚æˆ‘ä»¬éƒ½å–œæ¬¢é€šè¿‡ HashMap åšä¸€äº›ç¼“å­˜ä¹‹ç±»çš„äº‹ï¼Œè¿™ç§æƒ…å†µå°±è¦å¤šç•™ä¸€äº›å¿ƒçœ¼ã€‚ å•ä¾‹é€ æˆçš„å†…å­˜æ³„æ¼ç”±äºŽå•ä¾‹çš„é™æ€ç‰¹æ€§ä½¿å¾—å…¶ç”Ÿå‘½å‘¨æœŸè·Ÿåº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸä¸€æ ·é•¿ï¼Œæ‰€ä»¥å¦‚æžœä½¿ç”¨ä¸æ°å½“çš„è¯ï¼Œå¾ˆå®¹æ˜“é€ æˆå†…å­˜æ³„æ¼ã€‚æ¯”å¦‚ä¸‹é¢ä¸€ä¸ªå…¸åž‹çš„ä¾‹å­ï¼Œ 12345678910111213public class AppManager &#123;private static AppManager instance;private Context context;private AppManager(Context context) &#123;this.context = context;&#125;public static AppManager getInstance(Context context) &#123;if (instance == null) &#123;instance = new AppManager(context);&#125;return instance;&#125;&#125; è¿™æ˜¯ä¸€ä¸ªæ™®é€šçš„å•ä¾‹æ¨¡å¼ï¼Œå½“åˆ›å»ºè¿™ä¸ªå•ä¾‹çš„æ—¶å€™ï¼Œç”±äºŽéœ€è¦ä¼ å…¥ä¸€ä¸ªContextï¼Œæ‰€ä»¥è¿™ä¸ªContextçš„ç”Ÿå‘½å‘¨æœŸçš„é•¿çŸ­è‡³å…³é‡è¦ï¼š 1ã€å¦‚æžœæ­¤æ—¶ä¼ å…¥çš„æ˜¯ Application çš„ Contextï¼Œå› ä¸º Application çš„ç”Ÿå‘½å‘¨æœŸå°±æ˜¯æ•´ä¸ªåº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸï¼Œæ‰€ä»¥è¿™å°†æ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚ 2ã€å¦‚æžœæ­¤æ—¶ä¼ å…¥çš„æ˜¯ Activity çš„ Contextï¼Œå½“è¿™ä¸ª Context æ‰€å¯¹åº”çš„ Activity é€€å‡ºæ—¶ï¼Œç”±äºŽè¯¥ Context çš„å¼•ç”¨è¢«å•ä¾‹å¯¹è±¡æ‰€æŒæœ‰ï¼Œå…¶ç”Ÿå‘½å‘¨æœŸç­‰äºŽæ•´ä¸ªåº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸï¼Œæ‰€ä»¥å½“å‰ Activity é€€å‡ºæ—¶å®ƒçš„å†…å­˜å¹¶ä¸ä¼šè¢«å›žæ”¶ï¼Œè¿™å°±é€ æˆæ³„æ¼äº†ã€‚ æ­£ç¡®çš„æ–¹å¼åº”è¯¥æ”¹ä¸ºä¸‹é¢è¿™ç§æ–¹å¼ï¼š 12345678910111213public class AppManager &#123;private static AppManager instance;private Context context;private AppManager(Context context) &#123;this.context = context.getApplicationContext();// ä½¿ç”¨Application çš„context&#125;public static AppManager getInstance(Context context) &#123;if (instance == null) &#123;instance = new AppManager(context);&#125;return instance;&#125;&#125; æˆ–è€…è¿™æ ·å†™ï¼Œè¿ž Context éƒ½ä¸ç”¨ä¼ è¿›æ¥äº†ï¼š 12345678910111213141516171819202122232425262728åœ¨ä½ çš„ Application ä¸­æ·»åŠ ä¸€ä¸ªé™æ€æ–¹æ³•ï¼ŒgetContext() è¿”å›ž Application çš„ contextï¼Œ...context = getApplicationContext();... /** * èŽ·å–å…¨å±€çš„context * @return è¿”å›žå…¨å±€contextå¯¹è±¡ */ public static Context getContext()&#123; return context; &#125;public class AppManager &#123;private static AppManager instance;private Context context;private AppManager() &#123;this.context = MyApplication.getContext();// ä½¿ç”¨Application çš„context&#125;public static AppManager getInstance() &#123;if (instance == null) &#123;instance = new AppManager();&#125;return instance;&#125;&#125; åŒ¿åå†…éƒ¨ç±»/éžé™æ€å†…éƒ¨ç±»å’Œå¼‚æ­¥çº¿ç¨‹éžé™æ€å†…éƒ¨ç±»åˆ›å»ºé™æ€å®žä¾‹é€ æˆçš„å†…å­˜æ³„æ¼ æœ‰çš„æ—¶å€™æˆ‘ä»¬å¯èƒ½ä¼šåœ¨å¯åŠ¨é¢‘ç¹çš„Activityä¸­ï¼Œä¸ºäº†é¿å…é‡å¤åˆ›å»ºç›¸åŒçš„æ•°æ®èµ„æºï¼Œå¯èƒ½ä¼šå‡ºçŽ°è¿™ç§å†™æ³•ï¼š 123456789101112131415public class MainActivity extends AppCompatActivity &#123;private static TestResource mResource = null;@Overrideprotected void onCreate(Bundle savedInstanceState) &#123;super.onCreate(savedInstanceState);setContentView(R.layout.activity_main);if(mManager == null)&#123;mManager = new TestResource();&#125;//...&#125;class TestResource &#123;//...&#125;&#125; è¿™æ ·å°±åœ¨Activityå†…éƒ¨åˆ›å»ºäº†ä¸€ä¸ªéžé™æ€å†…éƒ¨ç±»çš„å•ä¾‹ï¼Œæ¯æ¬¡å¯åŠ¨Activityæ—¶éƒ½ä¼šä½¿ç”¨è¯¥å•ä¾‹çš„æ•°æ®ï¼Œè¿™æ ·è™½ç„¶é¿å…äº†èµ„æºçš„é‡å¤åˆ›å»ºï¼Œä¸è¿‡è¿™ç§å†™æ³•å´ä¼šé€ æˆå†…å­˜æ³„æ¼ï¼Œå› ä¸ºéžé™æ€å†…éƒ¨ç±»é»˜è®¤ä¼šæŒæœ‰å¤–éƒ¨ç±»çš„å¼•ç”¨ï¼Œè€Œè¯¥éžé™æ€å†…éƒ¨ç±»åˆåˆ›å»ºäº†ä¸€ä¸ªé™æ€çš„å®žä¾‹ï¼Œè¯¥å®žä¾‹çš„ç”Ÿå‘½å‘¨æœŸå’Œåº”ç”¨çš„ä¸€æ ·é•¿ï¼Œè¿™å°±å¯¼è‡´äº†è¯¥é™æ€å®žä¾‹ä¸€ç›´ä¼šæŒæœ‰è¯¥Activityçš„å¼•ç”¨ï¼Œå¯¼è‡´Activityçš„å†…å­˜èµ„æºä¸èƒ½æ­£å¸¸å›žæ”¶ã€‚æ­£ç¡®çš„åšæ³•ä¸ºï¼š å°†è¯¥å†…éƒ¨ç±»è®¾ä¸ºé™æ€å†…éƒ¨ç±»æˆ–å°†è¯¥å†…éƒ¨ç±»æŠ½å–å‡ºæ¥å°è£…æˆä¸€ä¸ªå•ä¾‹ï¼Œå¦‚æžœéœ€è¦ä½¿ç”¨Contextï¼Œè¯·æŒ‰ç…§ä¸Šé¢æŽ¨èçš„ä½¿ç”¨Application çš„ Contextã€‚å½“ç„¶ï¼ŒApplication çš„ context ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œæ‰€ä»¥ä¹Ÿä¸èƒ½éšä¾¿ä¹±ç”¨ï¼Œå¯¹äºŽæœ‰äº›åœ°æ–¹åˆ™å¿…é¡»ä½¿ç”¨ Activity çš„ Contextï¼Œå¯¹äºŽApplicationï¼ŒServiceï¼ŒActivityä¸‰è€…çš„Contextçš„åº”ç”¨åœºæ™¯å¦‚ä¸‹ï¼š å…¶ä¸­ï¼š NO1è¡¨ç¤º Application å’Œ Service å¯ä»¥å¯åŠ¨ä¸€ä¸ª Activityï¼Œä¸è¿‡éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„ task ä»»åŠ¡é˜Ÿåˆ—ã€‚è€Œå¯¹äºŽ Dialog è€Œè¨€ï¼Œåªæœ‰åœ¨ Activity ä¸­æ‰èƒ½åˆ›å»º åŒ¿åå†…éƒ¨ç±»androidå¼€å‘ç»å¸¸ä¼šç»§æ‰¿å®žçŽ°Activity/Fragment/Viewï¼Œæ­¤æ—¶å¦‚æžœä½ ä½¿ç”¨äº†åŒ¿åç±»ï¼Œå¹¶è¢«å¼‚æ­¥çº¿ç¨‹æŒæœ‰äº†ï¼Œé‚£è¦å°å¿ƒäº†ï¼Œå¦‚æžœæ²¡æœ‰ä»»ä½•æŽªæ–½è¿™æ ·ä¸€å®šä¼šå¯¼è‡´æ³„éœ² 1234567891011public class MainActivity extends Activity &#123;...Runnable ref1 = new MyRunable();Runnable ref2 = new Runnable() &#123; @Override public void run() &#123; &#125;&#125;; ...&#125; ref1å’Œref2çš„åŒºåˆ«æ˜¯ï¼Œref2ä½¿ç”¨äº†åŒ¿åå†…éƒ¨ç±»ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹è¿è¡Œæ—¶è¿™ä¸¤ä¸ªå¼•ç”¨çš„å†…å­˜ï¼š å¯ä»¥çœ‹åˆ°ï¼Œref1æ²¡ä»€ä¹ˆç‰¹åˆ«çš„ã€‚ ä½†ref2è¿™ä¸ªåŒ¿åç±»çš„å®žçŽ°å¯¹è±¡é‡Œé¢å¤šäº†ä¸€ä¸ªå¼•ç”¨ï¼š this$0è¿™ä¸ªå¼•ç”¨æŒ‡å‘MainActivity.thisï¼Œä¹Ÿå°±æ˜¯è¯´å½“å‰çš„MainActivityå®žä¾‹ä¼šè¢«ref2æŒæœ‰ï¼Œå¦‚æžœå°†è¿™ä¸ªå¼•ç”¨å†ä¼ å…¥ä¸€ä¸ªå¼‚æ­¥çº¿ç¨‹ï¼Œæ­¤çº¿ç¨‹å’Œæ­¤Acitivityç”Ÿå‘½å‘¨æœŸä¸ä¸€è‡´çš„æ—¶å€™ï¼Œå°±é€ æˆäº†Activityçš„æ³„éœ²ã€‚ Handler é€ æˆçš„å†…å­˜æ³„æ¼Handler çš„ä½¿ç”¨é€ æˆçš„å†…å­˜æ³„æ¼é—®é¢˜åº”è¯¥è¯´æ˜¯æœ€ä¸ºå¸¸è§äº†ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä¸ºäº†é¿å… ANR è€Œä¸åœ¨ä¸»çº¿ç¨‹è¿›è¡Œè€—æ—¶æ“ä½œï¼Œåœ¨å¤„ç†ç½‘ç»œä»»åŠ¡æˆ–è€…å°è£…ä¸€äº›è¯·æ±‚å›žè°ƒç­‰apiéƒ½å€ŸåŠ©Handleræ¥å¤„ç†ï¼Œä½† Handler ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œå¯¹äºŽ Handler çš„ä½¿ç”¨ä»£ç ç¼–å†™ä¸€ä¸è§„èŒƒå³æœ‰å¯èƒ½é€ æˆå†…å­˜æ³„æ¼ã€‚å¦å¤–ï¼Œæˆ‘ä»¬çŸ¥é“ Handlerã€Message å’Œ MessageQueue éƒ½æ˜¯ç›¸äº’å…³è”åœ¨ä¸€èµ·çš„ï¼Œä¸‡ä¸€ Handler å‘é€çš„ Message å°šæœªè¢«å¤„ç†ï¼Œåˆ™è¯¥ Message åŠå‘é€å®ƒçš„ Handler å¯¹è±¡å°†è¢«çº¿ç¨‹ MessageQueue ä¸€ç›´æŒæœ‰ã€‚ ç”±äºŽ Handler å±žäºŽ TLS(Thread Local Storage) å˜é‡, ç”Ÿå‘½å‘¨æœŸå’Œ Activity æ˜¯ä¸ä¸€è‡´çš„ã€‚å› æ­¤è¿™ç§å®žçŽ°æ–¹å¼ä¸€èˆ¬å¾ˆéš¾ä¿è¯è·Ÿ View æˆ–è€… Activity çš„ç”Ÿå‘½å‘¨æœŸä¿æŒä¸€è‡´ï¼Œæ•…å¾ˆå®¹æ˜“å¯¼è‡´æ— æ³•æ­£ç¡®é‡Šæ”¾ã€‚ ä¸¾ä¸ªä¾‹å­ï¼š 1234567891011121314151617181920212223public class SampleActivity extends Activity &#123;private final Handler mLeakyHandler = new Handler() &#123;@Overridepublic void handleMessage(Message msg) &#123; // ...&#125;&#125;@Overrideprotected void onCreate(Bundle savedInstanceState) &#123;super.onCreate(savedInstanceState);// Post a message and delay its execution for 10 minutes.mLeakyHandler.postDelayed(new Runnable() &#123; @Override public void run() &#123; /* ... */ &#125;&#125;, 1000 * 60 * 10);// Go back to the previous Activity.finish();&#125;&#125; åœ¨è¯¥ SampleActivity ä¸­å£°æ˜Žäº†ä¸€ä¸ªå»¶è¿Ÿ10åˆ†é’Ÿæ‰§è¡Œçš„æ¶ˆæ¯ Messageï¼ŒmLeakyHandler å°†å…¶ push è¿›äº†æ¶ˆæ¯é˜Ÿåˆ— MessageQueue é‡Œã€‚å½“è¯¥ Activity è¢« finish() æŽ‰æ—¶ï¼Œå»¶è¿Ÿæ‰§è¡Œä»»åŠ¡çš„ Message è¿˜ä¼šç»§ç»­å­˜åœ¨äºŽä¸»çº¿ç¨‹ä¸­ï¼Œå®ƒæŒæœ‰è¯¥ Activity çš„ Handler å¼•ç”¨ï¼Œæ‰€ä»¥æ­¤æ—¶ finish() æŽ‰çš„ Activity å°±ä¸ä¼šè¢«å›žæ”¶äº†ä»Žè€Œé€ æˆå†…å­˜æ³„æ¼ï¼ˆå›  Handler ä¸ºéžé™æ€å†…éƒ¨ç±»ï¼Œå®ƒä¼šæŒæœ‰å¤–éƒ¨ç±»çš„å¼•ç”¨ï¼Œåœ¨è¿™é‡Œå°±æ˜¯æŒ‡ SampleActivityï¼‰ã€‚ ä¿®å¤æ–¹æ³•ï¼šåœ¨ Activity ä¸­é¿å…ä½¿ç”¨éžé™æ€å†…éƒ¨ç±»ï¼Œæ¯”å¦‚ä¸Šé¢æˆ‘ä»¬å°† Handler å£°æ˜Žä¸ºé™æ€çš„ï¼Œåˆ™å…¶å­˜æ´»æœŸè·Ÿ Activity çš„ç”Ÿå‘½å‘¨æœŸå°±æ— å…³äº†ã€‚åŒæ—¶é€šè¿‡å¼±å¼•ç”¨çš„æ–¹å¼å¼•å…¥ Activityï¼Œé¿å…ç›´æŽ¥å°† Activity ä½œä¸º context ä¼ è¿›åŽ»ï¼Œè§ä¸‹é¢ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344public class SampleActivity extends Activity &#123; /** * Instances of static inner classes do not hold an implicit * reference to their outer class. */ private static class MyHandler extends Handler &#123; private final WeakReference&lt;SampleActivity&gt; mActivity; public MyHandler(SampleActivity activity) &#123; mActivity = new WeakReference&lt;SampleActivity&gt;(activity); &#125; @Override public void handleMessage(Message msg) &#123; SampleActivity activity = mActivity.get(); if (activity != null) &#123; // ... &#125; &#125; &#125; private final MyHandler mHandler = new MyHandler(this); /** * Instances of anonymous classes do not hold an implicit * reference to their outer class when they are "static". */ private static final Runnable sRunnable = new Runnable() &#123; @Override public void run() &#123; /* ... */ &#125; &#125;; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); // Post a message and delay its execution for 10 minutes. mHandler.postDelayed(sRunnable, 1000 * 60 * 10); // Go back to the previous Activity. finish(); &#125;&#125; ç»¼è¿°ï¼Œå³æŽ¨èä½¿ç”¨é™æ€å†…éƒ¨ç±» + WeakReference è¿™ç§æ–¹å¼ã€‚æ¯æ¬¡ä½¿ç”¨å‰æ³¨æ„åˆ¤ç©ºã€‚ å‰é¢æåˆ°äº† WeakReferenceï¼Œæ‰€ä»¥è¿™é‡Œå°±ç®€å•çš„è¯´ä¸€ä¸‹ Java å¯¹è±¡çš„å‡ ç§å¼•ç”¨ç±»åž‹ã€‚ Javaå¯¹å¼•ç”¨çš„åˆ†ç±»æœ‰ Strong reference, SoftReference, WeakReference, PhatomReference å››ç§ã€‚ åœ¨Androidåº”ç”¨çš„å¼€å‘ä¸­ï¼Œä¸ºäº†é˜²æ­¢å†…å­˜æº¢å‡ºï¼Œåœ¨å¤„ç†ä¸€äº›å ç”¨å†…å­˜å¤§è€Œä¸”å£°æ˜Žå‘¨æœŸè¾ƒé•¿çš„å¯¹è±¡æ—¶å€™ï¼Œå¯ä»¥å°½é‡åº”ç”¨è½¯å¼•ç”¨å’Œå¼±å¼•ç”¨æŠ€æœ¯ã€‚ è½¯/å¼±å¼•ç”¨å¯ä»¥å’Œä¸€ä¸ªå¼•ç”¨é˜Ÿåˆ—ï¼ˆReferenceQueueï¼‰è”åˆä½¿ç”¨ï¼Œå¦‚æžœè½¯å¼•ç”¨æ‰€å¼•ç”¨çš„å¯¹è±¡è¢«åžƒåœ¾å›žæ”¶å™¨å›žæ”¶ï¼ŒJavaè™šæ‹Ÿæœºå°±ä¼šæŠŠè¿™ä¸ªè½¯å¼•ç”¨åŠ å…¥åˆ°ä¸Žä¹‹å…³è”çš„å¼•ç”¨é˜Ÿåˆ—ä¸­ã€‚åˆ©ç”¨è¿™ä¸ªé˜Ÿåˆ—å¯ä»¥å¾—çŸ¥è¢«å›žæ”¶çš„è½¯/å¼±å¼•ç”¨çš„å¯¹è±¡åˆ—è¡¨ï¼Œä»Žè€Œä¸ºç¼“å†²å™¨æ¸…é™¤å·²å¤±æ•ˆçš„è½¯/å¼±å¼•ç”¨ã€‚ å‡è®¾æˆ‘ä»¬çš„åº”ç”¨ä¼šç”¨åˆ°å¤§é‡çš„é»˜è®¤å›¾ç‰‡ï¼Œæ¯”å¦‚åº”ç”¨ä¸­æœ‰é»˜è®¤çš„å¤´åƒï¼Œé»˜è®¤æ¸¸æˆå›¾æ ‡ç­‰ç­‰ï¼Œè¿™äº›å›¾ç‰‡å¾ˆå¤šåœ°æ–¹ä¼šç”¨åˆ°ã€‚å¦‚æžœæ¯æ¬¡éƒ½åŽ»è¯»å–å›¾ç‰‡ï¼Œç”±äºŽè¯»å–æ–‡ä»¶éœ€è¦ç¡¬ä»¶æ“ä½œï¼Œé€Ÿåº¦è¾ƒæ…¢ï¼Œä¼šå¯¼è‡´æ€§èƒ½è¾ƒä½Žã€‚æ‰€ä»¥æˆ‘ä»¬è€ƒè™‘å°†å›¾ç‰‡ç¼“å­˜èµ·æ¥ï¼Œéœ€è¦çš„æ—¶å€™ç›´æŽ¥ä»Žå†…å­˜ä¸­è¯»å–ã€‚ä½†æ˜¯ï¼Œç”±äºŽå›¾ç‰‡å ç”¨å†…å­˜ç©ºé—´æ¯”è¾ƒå¤§ï¼Œç¼“å­˜å¾ˆå¤šå›¾ç‰‡éœ€è¦å¾ˆå¤šçš„å†…å­˜ï¼Œå°±å¯èƒ½æ¯”è¾ƒå®¹æ˜“å‘ç”ŸOutOfMemoryå¼‚å¸¸ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘ä½¿ç”¨è½¯/å¼±å¼•ç”¨æŠ€æœ¯æ¥é¿å…è¿™ä¸ªé—®é¢˜å‘ç”Ÿã€‚ä»¥ä¸‹å°±æ˜¯é«˜é€Ÿç¼“å†²å™¨çš„é›å½¢ï¼š é¦–å…ˆå®šä¹‰ä¸€ä¸ªHashMapï¼Œä¿å­˜è½¯å¼•ç”¨å¯¹è±¡ã€‚ 1private Map &lt;String, SoftReference&lt;Bitmap&gt;&gt; imageCache = new HashMap &lt;String, SoftReference&lt;Bitmap&gt;&gt; (); å†æ¥å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œä¿å­˜Bitmapçš„è½¯å¼•ç”¨åˆ°HashMapã€‚ ä½¿ç”¨è½¯å¼•ç”¨ä»¥åŽï¼Œåœ¨OutOfMemoryå¼‚å¸¸å‘ç”Ÿä¹‹å‰ï¼Œè¿™äº›ç¼“å­˜çš„å›¾ç‰‡èµ„æºçš„å†…å­˜ç©ºé—´å¯ä»¥è¢«é‡Šæ”¾æŽ‰çš„ï¼Œä»Žè€Œé¿å…å†…å­˜è¾¾åˆ°ä¸Šé™ï¼Œé¿å…Crashå‘ç”Ÿã€‚ å¦‚æžœåªæ˜¯æƒ³é¿å…OutOfMemoryå¼‚å¸¸çš„å‘ç”Ÿï¼Œåˆ™å¯ä»¥ä½¿ç”¨è½¯å¼•ç”¨ã€‚å¦‚æžœå¯¹äºŽåº”ç”¨çš„æ€§èƒ½æ›´åœ¨æ„ï¼Œæƒ³å°½å¿«å›žæ”¶ä¸€äº›å ç”¨å†…å­˜æ¯”è¾ƒå¤§çš„å¯¹è±¡ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å¼±å¼•ç”¨ã€‚ å¦å¤–å¯ä»¥æ ¹æ®å¯¹è±¡æ˜¯å¦ç»å¸¸ä½¿ç”¨æ¥åˆ¤æ–­é€‰æ‹©è½¯å¼•ç”¨è¿˜æ˜¯å¼±å¼•ç”¨ã€‚å¦‚æžœè¯¥å¯¹è±¡å¯èƒ½ä¼šç»å¸¸ä½¿ç”¨çš„ï¼Œå°±å°½é‡ç”¨è½¯å¼•ç”¨ã€‚å¦‚æžœè¯¥å¯¹è±¡ä¸è¢«ä½¿ç”¨çš„å¯èƒ½æ€§æ›´å¤§äº›ï¼Œå°±å¯ä»¥ç”¨å¼±å¼•ç”¨ã€‚ okï¼Œç»§ç»­å›žåˆ°ä¸»é¢˜ã€‚å‰é¢æ‰€è¯´çš„ï¼Œåˆ›å»ºä¸€ä¸ªé™æ€Handlerå†…éƒ¨ç±»ï¼Œç„¶åŽå¯¹ Handler æŒæœ‰çš„å¯¹è±¡ä½¿ç”¨å¼±å¼•ç”¨ï¼Œè¿™æ ·åœ¨å›žæ”¶æ—¶ä¹Ÿå¯ä»¥å›žæ”¶ Handler æŒæœ‰çš„å¯¹è±¡ï¼Œä½†æ˜¯è¿™æ ·åšè™½ç„¶é¿å…äº† Activity æ³„æ¼ï¼Œä¸è¿‡ Looper çº¿ç¨‹çš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­è¿˜æ˜¯å¯èƒ½ä¼šæœ‰å¾…å¤„ç†çš„æ¶ˆæ¯ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ Activity çš„ Destroy æ—¶æˆ–è€… Stop æ—¶åº”è¯¥ç§»é™¤æ¶ˆæ¯é˜Ÿåˆ— MessageQueue ä¸­çš„æ¶ˆæ¯ã€‚ ä¸‹é¢å‡ ä¸ªæ–¹æ³•éƒ½å¯ä»¥ç§»é™¤ Messageï¼š 123456789public final void removeCallbacks(Runnable r);public final void removeCallbacks(Runnable r, Object token);public final void removeCallbacksAndMessages(Object token);public final void removeMessages(int what);public final void removeMessages(int what, Object object); å°½é‡é¿å…ä½¿ç”¨ static æˆå‘˜å˜é‡å¦‚æžœæˆå‘˜å˜é‡è¢«å£°æ˜Žä¸º staticï¼Œé‚£æˆ‘ä»¬éƒ½çŸ¥é“å…¶ç”Ÿå‘½å‘¨æœŸå°†ä¸Žæ•´ä¸ªappè¿›ç¨‹ç”Ÿå‘½å‘¨æœŸä¸€æ ·ã€‚ è¿™ä¼šå¯¼è‡´ä¸€ç³»åˆ—é—®é¢˜ï¼Œå¦‚æžœä½ çš„appè¿›ç¨‹è®¾è®¡ä¸Šæ˜¯é•¿é©»å†…å­˜çš„ï¼Œé‚£å³ä½¿appåˆ‡åˆ°åŽå°ï¼Œè¿™éƒ¨åˆ†å†…å­˜ä¹Ÿä¸ä¼šè¢«é‡Šæ”¾ã€‚æŒ‰ç…§çŽ°åœ¨æ‰‹æœºappå†…å­˜ç®¡ç†æœºåˆ¶ï¼Œå å†…å­˜è¾ƒå¤§çš„åŽå°è¿›ç¨‹å°†ä¼˜å…ˆå›žæ”¶ï¼Œyiâ€™weiå¦‚æžœæ­¤appåšè¿‡è¿›ç¨‹äº’ä¿ä¿æ´»ï¼Œé‚£ä¼šé€ æˆappåœ¨åŽå°é¢‘ç¹é‡å¯ã€‚å½“æ‰‹æœºå®‰è£…äº†ä½ å‚ä¸Žå¼€å‘çš„appä»¥åŽä¸€å¤œæ—¶é—´æ‰‹æœºè¢«æ¶ˆè€—ç©ºäº†ç”µé‡ã€æµé‡ï¼Œä½ çš„appä¸å¾—ä¸è¢«ç”¨æˆ·å¸è½½æˆ–è€…é™é»˜ã€‚ è¿™é‡Œä¿®å¤çš„æ–¹æ³•æ˜¯ï¼š ä¸è¦åœ¨ç±»åˆå§‹æ—¶åˆå§‹åŒ–é™æ€æˆå‘˜ã€‚å¯ä»¥è€ƒè™‘lazyåˆå§‹åŒ–ã€‚æž¶æž„è®¾è®¡ä¸Šè¦æ€è€ƒæ˜¯å¦çœŸçš„æœ‰å¿…è¦è¿™æ ·åšï¼Œå°½é‡é¿å…ã€‚å¦‚æžœæž¶æž„éœ€è¦è¿™ä¹ˆè®¾è®¡ï¼Œé‚£ä¹ˆæ­¤å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸä½ æœ‰è´£ä»»ç®¡ç†èµ·æ¥ã€‚ é¿å… override finalize()1ã€finalize æ–¹æ³•è¢«æ‰§è¡Œçš„æ—¶é—´ä¸ç¡®å®šï¼Œä¸èƒ½ä¾èµ–ä¸Žå®ƒæ¥é‡Šæ”¾ç´§ç¼ºçš„èµ„æºã€‚æ—¶é—´ä¸ç¡®å®šçš„åŽŸå› æ˜¯ï¼š è™šæ‹Ÿæœºè°ƒç”¨GCçš„æ—¶é—´ä¸ç¡®å®š Finalize daemonçº¿ç¨‹è¢«è°ƒåº¦åˆ°çš„æ—¶é—´ä¸ç¡®å®š 2ã€finalize æ–¹æ³•åªä¼šè¢«æ‰§è¡Œä¸€æ¬¡ï¼Œå³ä½¿å¯¹è±¡è¢«å¤æ´»ï¼Œå¦‚æžœå·²ç»æ‰§è¡Œè¿‡äº† finalize æ–¹æ³•ï¼Œå†æ¬¡è¢« GC æ—¶ä¹Ÿä¸ä¼šå†æ‰§è¡Œäº†ï¼ŒåŽŸå› æ˜¯ï¼š å«æœ‰ finalize æ–¹æ³•çš„ object æ˜¯åœ¨ new çš„æ—¶å€™ç”±è™šæ‹Ÿæœºç”Ÿæˆäº†ä¸€ä¸ª finalize reference åœ¨æ¥å¼•ç”¨åˆ°è¯¥Objectçš„ï¼Œè€Œåœ¨ finalize æ–¹æ³•æ‰§è¡Œçš„æ—¶å€™ï¼Œè¯¥ object æ‰€å¯¹åº”çš„ finalize Reference ä¼šè¢«é‡Šæ”¾æŽ‰ï¼Œå³ä½¿åœ¨è¿™ä¸ªæ—¶å€™æŠŠè¯¥ object å¤æ´»(å³ç”¨å¼ºå¼•ç”¨å¼•ç”¨ä½è¯¥ object )ï¼Œå†ç¬¬äºŒæ¬¡è¢« GC çš„æ—¶å€™ç”±äºŽæ²¡æœ‰äº† finalize reference ä¸Žä¹‹å¯¹åº”ï¼Œæ‰€ä»¥ finalize æ–¹æ³•ä¸ä¼šå†æ‰§è¡Œã€‚ 3ã€å«æœ‰Finalizeæ–¹æ³•çš„objectéœ€è¦è‡³å°‘ç»è¿‡ä¸¤è½®GCæ‰æœ‰å¯èƒ½è¢«é‡Šæ”¾ã€‚ èµ„æºæœªå…³é—­é€ æˆçš„å†…å­˜æ³„æ¼å¯¹äºŽä½¿ç”¨äº†BraodcastReceiverï¼ŒContentObserverï¼ŒFileï¼Œæ¸¸æ ‡ Cursorï¼ŒStreamï¼ŒBitmapç­‰èµ„æºçš„ä½¿ç”¨ï¼Œåº”è¯¥åœ¨Activityé”€æ¯æ—¶åŠæ—¶å…³é—­æˆ–è€…æ³¨é”€ï¼Œå¦åˆ™è¿™äº›èµ„æºå°†ä¸ä¼šè¢«å›žæ”¶ï¼Œé€ æˆå†…å­˜æ³„æ¼ã€‚ ä¸€äº›ä¸è‰¯ä»£ç é€ æˆçš„å†…å­˜åŽ‹åŠ›æœ‰äº›ä»£ç å¹¶ä¸é€ æˆå†…å­˜æ³„éœ²ï¼Œä½†æ˜¯å®ƒä»¬ï¼Œæˆ–æ˜¯å¯¹æ²¡ä½¿ç”¨çš„å†…å­˜æ²¡è¿›è¡Œæœ‰æ•ˆåŠæ—¶çš„é‡Šæ”¾ï¼Œæˆ–æ˜¯æ²¡æœ‰æœ‰æ•ˆçš„åˆ©ç”¨å·²æœ‰çš„å¯¹è±¡è€Œæ˜¯é¢‘ç¹çš„ç”³è¯·æ–°å†…å­˜ã€‚ æ¯”å¦‚ï¼š Bitmap æ²¡è°ƒç”¨ recycle()æ–¹æ³•ï¼Œå¯¹äºŽ Bitmap å¯¹è±¡åœ¨ä¸ä½¿ç”¨æ—¶,æˆ‘ä»¬åº”è¯¥å…ˆè°ƒç”¨ recycle() é‡Šæ”¾å†…å­˜ï¼Œç„¶åŽæ‰å®ƒè®¾ç½®ä¸º null. å› ä¸ºåŠ è½½ Bitmap å¯¹è±¡çš„å†…å­˜ç©ºé—´ï¼Œä¸€éƒ¨åˆ†æ˜¯ java çš„ï¼Œä¸€éƒ¨åˆ† C çš„ï¼ˆå› ä¸º Bitmap åˆ†é…çš„åº•å±‚æ˜¯é€šè¿‡ JNI è°ƒç”¨çš„ )ã€‚ è€Œè¿™ä¸ª recyle() å°±æ˜¯é’ˆå¯¹ C éƒ¨åˆ†çš„å†…å­˜é‡Šæ”¾ã€‚ æž„é€  Adapter æ—¶ï¼Œæ²¡æœ‰ä½¿ç”¨ç¼“å­˜çš„ convertView ,æ¯æ¬¡éƒ½åœ¨åˆ›å»ºæ–°çš„ converViewã€‚è¿™é‡ŒæŽ¨èä½¿ç”¨ ViewHolderã€‚ æ€»ç»“å¯¹ Activity ç­‰ç»„ä»¶çš„å¼•ç”¨åº”è¯¥æŽ§åˆ¶åœ¨ Activity çš„ç”Ÿå‘½å‘¨æœŸä¹‹å†…ï¼› å¦‚æžœä¸èƒ½å°±è€ƒè™‘ä½¿ç”¨ getApplicationContext æˆ–è€… getApplicationï¼Œä»¥é¿å… Activity è¢«å¤–éƒ¨é•¿ç”Ÿå‘½å‘¨æœŸçš„å¯¹è±¡å¼•ç”¨è€Œæ³„éœ²ã€‚ å°½é‡ä¸è¦åœ¨é™æ€å˜é‡æˆ–è€…é™æ€å†…éƒ¨ç±»ä¸­ä½¿ç”¨éžé™æ€å¤–éƒ¨æˆå‘˜å˜é‡ï¼ˆåŒ…æ‹¬context )ï¼Œå³ä½¿è¦ä½¿ç”¨ï¼Œä¹Ÿè¦è€ƒè™‘é€‚æ—¶æŠŠå¤–éƒ¨æˆå‘˜å˜é‡ç½®ç©ºï¼›ä¹Ÿå¯ä»¥åœ¨å†…éƒ¨ç±»ä¸­ä½¿ç”¨å¼±å¼•ç”¨æ¥å¼•ç”¨å¤–éƒ¨ç±»çš„å˜é‡ã€‚ å¯¹äºŽç”Ÿå‘½å‘¨æœŸæ¯”Activityé•¿çš„å†…éƒ¨ç±»å¯¹è±¡ï¼Œå¹¶ä¸”å†…éƒ¨ç±»ä¸­ä½¿ç”¨äº†å¤–éƒ¨ç±»çš„æˆå‘˜å˜é‡ï¼Œå¯ä»¥è¿™æ ·åšé¿å…å†…å­˜æ³„æ¼ï¼š å°†å†…éƒ¨ç±»æ”¹ä¸ºé™æ€å†…éƒ¨ç±» é™æ€å†…éƒ¨ç±»ä¸­ä½¿ç”¨å¼±å¼•ç”¨æ¥å¼•ç”¨å¤–éƒ¨ç±»çš„æˆå‘˜å˜é‡ Handler çš„æŒæœ‰çš„å¼•ç”¨å¯¹è±¡æœ€å¥½ä½¿ç”¨å¼±å¼•ç”¨ï¼Œèµ„æºé‡Šæ”¾æ—¶ä¹Ÿå¯ä»¥æ¸…ç©º Handler é‡Œé¢çš„æ¶ˆæ¯ã€‚æ¯”å¦‚åœ¨ Activity onStop æˆ–è€… onDestroy çš„æ—¶å€™ï¼Œå–æ¶ˆæŽ‰è¯¥ Handler å¯¹è±¡çš„ Messageå’Œ Runnable. åœ¨ Java çš„å®žçŽ°è¿‡ç¨‹ä¸­ï¼Œä¹Ÿè¦è€ƒè™‘å…¶å¯¹è±¡é‡Šæ”¾ï¼Œæœ€å¥½çš„æ–¹æ³•æ˜¯åœ¨ä¸ä½¿ç”¨æŸå¯¹è±¡æ—¶ï¼Œæ˜¾å¼åœ°å°†æ­¤å¯¹è±¡èµ‹å€¼ä¸º nullï¼Œæ¯”å¦‚ä½¿ç”¨å®ŒBitmap åŽå…ˆè°ƒç”¨ recycle()ï¼Œå†èµ‹ä¸ºnull,æ¸…ç©ºå¯¹å›¾ç‰‡ç­‰èµ„æºæœ‰ç›´æŽ¥å¼•ç”¨æˆ–è€…é—´æŽ¥å¼•ç”¨çš„æ•°ç»„ï¼ˆä½¿ç”¨ array.clear() ; array = nullï¼‰ç­‰ï¼Œæœ€å¥½éµå¾ªè°åˆ›å»ºè°é‡Šæ”¾çš„åŽŸåˆ™ã€‚ æ­£ç¡®å…³é—­èµ„æºï¼Œå¯¹äºŽä½¿ç”¨äº†BraodcastReceiverï¼ŒContentObserverï¼ŒFileï¼Œæ¸¸æ ‡ Cursorï¼ŒStreamï¼ŒBitmapç­‰èµ„æºçš„ä½¿ç”¨ï¼Œåº”è¯¥åœ¨Activityé”€æ¯æ—¶åŠæ—¶å…³é—­æˆ–è€…æ³¨é”€ã€‚ ä¿æŒå¯¹å¯¹è±¡ç”Ÿå‘½å‘¨æœŸçš„æ•æ„Ÿï¼Œç‰¹åˆ«æ³¨æ„å•ä¾‹ã€é™æ€å¯¹è±¡ã€å…¨å±€æ€§é›†åˆç­‰çš„ç”Ÿå‘½å‘¨æœŸã€‚]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[æ¡†æž¶æºç åˆ†æž]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FAndroid%2F%E5%BC%80%E6%BA%90%E6%A1%86%E6%9E%B6%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%2F</url>
    <content type="text"><![CDATA[æ¡†æž¶æºç åˆ†æž Retrofit EventBus Glide]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[äº‹ä»¶åˆ†å‘æœºåˆ¶]]></title>
    <url>%2F2019%2F05%2F11%2FGuideBook%2FAndroid%2F%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91%E6%9C%BA%E5%88%B6%2F</url>
    <content type="text"><![CDATA[äº‹ä»¶åˆ†å‘æœºåˆ¶ å¯¹äºŽä¸€ä¸ªæ ¹ViewGroupæ¥è¯´,å‘ç”Ÿç‚¹å‡»äº‹ä»¶é¦–å…ˆè°ƒç”¨dispatchTouchEvent å¦‚æžœè¿™ä¸ªViewGroupçš„onIterceptTouchEventè¿”å›žtrueå°±è¡¨ç¤ºå®ƒè¦æ‹¦æˆªå½“å‰äº‹ä»¶,æŽ¥ç€è¿™ä¸ªViewGroupçš„onTouchEventå°±ä¼šè¢«è°ƒç”¨.å¦‚æžœonIterceptTouchEventè¿”å›žfalse,é‚£ä¹ˆå°±ä¼šç»§ç»­å‘ä¸‹è°ƒç”¨å­Viewçš„dispatchTouchEventæ–¹æ³• å½“ä¸€ä¸ªViewéœ€è¦å¤„ç†äº‹ä»¶çš„æ—¶å€™,å¦‚æžœå®ƒæ²¡æœ‰è®¾ç½®onTouchListener,é‚£ä¹ˆç›´æŽ¥è°ƒç”¨onTouchEvent.å¦‚æžœè®¾ç½®äº†Listenter é‚£ä¹ˆå°±è¦çœ‹Listenerçš„onTouchæ–¹æ³•è¿”å›žå€¼.ä¸ºtrueå°±ä¸è°ƒ,ä¸ºfalseå°±è°ƒonTouchEvent Viewçš„é»˜è®¤å®žçŽ°ä¼šåœ¨onTouchEventé‡Œé¢æŠŠtouchäº‹ä»¶è§£æžæˆClickä¹‹ç±»çš„äº‹ä»¶ ç‚¹å‡»äº‹ä»¶ä¼ é€’é¡ºåº Activity -&gt; Window -&gt; View ä¸€æ—¦ä¸€ä¸ªå…ƒç´ æ‹¦æˆªäº†æŸäº‹ä»¶,é‚£ä¹ˆä¸€ä¸ªäº‹ä»¶åºåˆ—é‡Œé¢åŽç»­çš„Move,Downäº‹ä»¶éƒ½ä¼šäº¤ç»™å®ƒå¤„ç†.å¹¶ä¸”å®ƒçš„onInterceptTouchEventä¸ä¼šå†è°ƒç”¨ Viewçš„onTouchEventé»˜è®¤éƒ½ä¼šæ¶ˆè€—äº‹ä»¶,é™¤éžå®ƒçš„clickableå’ŒlongClickableéƒ½æ˜¯false(ä¸å¯ç‚¹å‡»),ä½†æ˜¯enableå±žæ€§ä¸ä¼šå½±å“]]></content>
      <categories>
        <category>GuideBook</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[è½¯å·¥ç»éªŒæ±‡æ€»ï¼š]]></title>
    <url>%2F2019%2F05%2F11%2FMess%2F%E8%BD%AF%E5%B7%A5%E7%BB%8F%E9%AA%8C%E6%B1%87%E6%80%BB%EF%BC%9A%2F</url>
    <content type="text"><![CDATA[è½¯å·¥ç»éªŒæ±‡æ€»ï¼š ä¿å­˜æ¯æ¬¡çš„ä¼šè®®è®°å½•ï¼Œæ¯æ¬¡å¼€ä¼šæ‰¾ä¸€ä¸ªä¼šè®®è®°å½•å‘˜ï¼ˆQ&amp;Aï¼ŒToDoListï¼Œè®¨è®ºå†…å®¹ã€‚ç›®æ ‡ï¼Œè®¨è®ºç»“æžœï¼Œåˆ†å·¥å®‰æŽ’ é¡¹ç›®åˆæœŸå¯»æ‰¾ä¸€ä¸ªåˆé€‚çš„é¡¹ç›®ç®¡ç†å¹³å°ï¼ŒåŒ…æ‹¬é¡¹ç›®éœ€æ±‚è·Ÿè¸ªã€ä»»åŠ¡å®Œæˆè¿›åº¦ç­‰ç­‰ æ‰¾æ–‡æ¡£çš„æ¨¡ç‰ˆï¼ å·¥ä½œé‡çš„åˆç†é¢„ä¼°ï¼ç»™ä¸€ä¸ªå¼¹æ€§çš„æ—¶é—´ï¼ï¼ˆå“­äº†ï¼Œå¿½ç•¥çš„å‰åŽç«¯çš„æ•´åˆè®©äººå¤´ç§ƒ é˜¶æ®µæ€§çš„é¡¹ç›®æ£€æŸ¥ï¼ï¼ˆæ¯”å¦‚ï¼Œå‰ç«¯çš„å­©å­å†™çš„æ˜¯çº¯é™æ€çš„ï¼Œä½¿ç”¨çš„ä½ç½®éƒ½æ˜¯ç»å¯¹ä½ç½®ï¼ŒåŽæœŸè°ƒèµ·æ¥ç›¸å½“ä¸æ–¹ä¾¿ æ‰¾ç›¸å…³çš„å·¥å…·ï¼š é¡¹ç›®è¿›åº¦ï¼šones.ai è®¨è®ºï¼šåœ¨çº¿è…¾è®¯æ–‡æ¡£ umlç»˜åˆ¶ï¼šstaruml å¼€å‘å·¥å…·ï¼Œæ±‚é—®æœ‰æ²¡æœ‰ä»£ç ç›´æŽ¥å¯¼å‡ºå›¾çš„ æ•°æ®åº“å›¾ï¼špowerDesign]]></content>
      <categories>
        <category>Mess</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[é¢è¯•]]></title>
    <url>%2F2019%2F05%2F11%2FMess%2F%E9%9D%A2%E8%AF%95%2F</url>
    <content type="text"><![CDATA[é¢è¯• TCPåè®®ä¸­ç¬¬ä¸‰æ¬¡æ¡æ‰‹å¤±è´¥ä¼šæ€Žæ ·ï¼Ÿ httpå’ŒhttpsåŒºåˆ«ï¼Œä¸ºä»€ä¹ˆhttpså®‰å…¨ï¼Œï¼ˆç­”äº†æ•°æ®åŠ å¯†ï¼‰ï¼ŒåŠ å¯†è¿‡ç¨‹ï¼Œå¯¹ç§°è¿˜æ˜¯éžå¯¹ç§° å®‰å“activityç”Ÿå‘½å‘¨æœŸ å®‰å“è·¨è¿›ç¨‹é€šä¿¡ï¼Œè¿›ç¨‹é—´é€šä¿¡æœºåˆ¶ äº‹åŠ¡çš„ç‰¹æ€§ï¼Œæè¿°ä¸€ä¸‹ä¸€è‡´æ€§æ˜¯ä»€ä¹ˆ é™¤äº†å…³ç³»åž‹æ•°æ®åº“ï¼Œå¯¹äºŽå…¶ä»–çš„æ•°æ®åº“è¿˜æœ‰ä»€ä¹ˆäº†è§£å— C++çš„newå’Œmallocæœ‰ä»€ä¹ˆåŒºåˆ« å¤šæ€æ˜¯å¦‚ä½•å®žçŽ°çš„ å›¾çš„éåŽ†æ–¹å¼ï¼Œæ€Žä¹ˆéåŽ† æŽ’åºæ–¹æ³•ï¼Œå“ªä¸ªæœ€æ…¢ï¼Œå“ªä¸ªæœ€è´¹ç©ºé—´ï¼Œå“ªä¸ªæœ€ä¸è´¹ç©ºé—´ leetcode53ï¼Œç”¨äº†åŠ¨è§„ï¼Œé—®ä½ è§‰å¾—è¿™ä¸ªæ–¹æ³•çš„åˆ†æ²»æ€æƒ³ä½“çŽ°åœ¨å“ª to knowï¼š webï¼š android æ•°æ®åº“ï¼š C++ï¼š ç®—æ³•ï¼š é¢è¯•ç»éªŒå°ç»“ï¼Ÿ æ˜Žç¡®ä¸€ä¸‹è‡ªå·±é¢è¯•çš„å²—ä½éœ€è¦ä»€ä¹ˆæŠ€èƒ½ï¼Ÿ æ¯”å¦‚æˆ‘é¢åŽå°ä¼šé—®æ•°æ®åº“ã€æ“ä½œç³»ç»Ÿã€æœåŠ¡å™¨ã€C++ç›¸å…³çš„çŸ¥è¯† çœ‹é¢ç»ï¼Œæœ‰äº›é—®é¢˜é‡å¤çŽ‡è¿˜æ˜¯è›®é«˜çš„ï¼Œå¯ä»¥é¢„å…ˆæƒ³ä¸€ä¸‹ç­”æ¡ˆï¼Œæ€»å½’æœ‰ç‚¹è°± é¢ç»å¤§æ¦‚ä¸»è¦çœ‹ï¼š é¢è¯•æµç¨‹ é¢è¯•é¢˜ç›® å¯¹äº†é¢è¯•å®Œä¹‹åŽå¦‚æžœé¢è¯•å®˜è¯´æœ‰ä»€ä¹ˆé—®é¢˜æƒ³é—®ä»–çš„ï¼Œå¯ä»¥é—®ä¸€ä¸‹è‡ªå·±çš„é¢è¯•è¡¨çŽ°å¦‚ä½•ï¼Œè¿˜æœ‰ä»€ä¹ˆæŠ€èƒ½éœ€è¦æå‡ä¹‹ç±»ï¼Œè¡¨è¾¾ä¸€ä¸‹è‡ªå·±çš„å¥½å­¦ä¹‹å¿ƒï¼ é’ˆå¯¹ç®€åŽ† æˆ‘ä»¬ä¸€èˆ¬ä¼šé—®è‡ªå·±åœ¨ç®€åŽ†ä¸Šçš„ç»åŽ†ï¼Œç®€åŽ†ä¸Šçš„é¡¹ç›®ï¼Œä¼šç»†è‡´é—®è‡ªå·±å†™çš„é¡¹ç›®]]></content>
      <categories>
        <category>Mess</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[CNN]]></title>
    <url>%2F2019%2F05%2F11%2FSLAM%2FCNN%2F</url>
    <content type="text"><![CDATA[CNN å·ç§¯å±‚åŽŸå›¾åƒç»è¿‡å·ç§¯æ¨¡ç‰ˆä¹‹åŽå¾—åˆ°çš„ï¼Ÿ æ± åŒ–å±‚è¿™é‡Œå†å±•å¼€å™è¿°æ± åŒ–å±‚çš„å…·ä½“ä½œç”¨ã€‚ ç‰¹å¾ä¸å˜æ€§ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åœ¨å›¾åƒå¤„ç†ä¸­ç»å¸¸æåˆ°çš„ç‰¹å¾çš„å°ºåº¦ä¸å˜æ€§ï¼Œæ± åŒ–æ“ä½œå°±æ˜¯å›¾åƒçš„resizeï¼Œå¹³æ—¶ä¸€å¼ ç‹—çš„å›¾åƒè¢«ç¼©å°äº†ä¸€å€æˆ‘ä»¬è¿˜èƒ½è®¤å‡ºè¿™æ˜¯ä¸€å¼ ç‹—çš„ç…§ç‰‡ï¼Œè¿™è¯´æ˜Žè¿™å¼ å›¾åƒä¸­ä»ä¿ç•™ç€ç‹—æœ€é‡è¦çš„ç‰¹å¾ï¼Œæˆ‘ä»¬ä¸€çœ‹å°±èƒ½åˆ¤æ–­å›¾åƒä¸­ç”»çš„æ˜¯ä¸€åªç‹—ï¼Œå›¾åƒåŽ‹ç¼©æ—¶åŽ»æŽ‰çš„ä¿¡æ¯åªæ˜¯ä¸€äº›æ— å…³ç´§è¦çš„ä¿¡æ¯ï¼Œè€Œç•™ä¸‹çš„ä¿¡æ¯åˆ™æ˜¯å…·æœ‰å°ºåº¦ä¸å˜æ€§çš„ç‰¹å¾ï¼Œæ˜¯æœ€èƒ½è¡¨è¾¾å›¾åƒçš„ç‰¹å¾ã€‚ ç‰¹å¾é™ç»´ï¼Œæˆ‘ä»¬çŸ¥é“ä¸€å¹…å›¾åƒå«æœ‰çš„ä¿¡æ¯æ˜¯å¾ˆå¤§çš„ï¼Œç‰¹å¾ä¹Ÿå¾ˆå¤šï¼Œä½†æ˜¯æœ‰äº›ä¿¡æ¯å¯¹äºŽæˆ‘ä»¬åšå›¾åƒä»»åŠ¡æ—¶æ²¡æœ‰å¤ªå¤šç”¨é€”æˆ–è€…æœ‰é‡å¤ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿™ç±»å†—ä½™ä¿¡æ¯åŽ»é™¤ï¼ŒæŠŠæœ€é‡è¦çš„ç‰¹å¾æŠ½å–å‡ºæ¥ï¼Œè¿™ä¹Ÿæ˜¯æ± åŒ–æ“ä½œçš„ä¸€å¤§ä½œç”¨ã€‚ åœ¨ä¸€å®šç¨‹åº¦ä¸Šé˜²æ­¢è¿‡æ‹Ÿåˆï¼Œæ›´æ–¹ä¾¿ä¼˜åŒ–ã€‚ æ¿€æ´»å‡½æ•° å…¨è¿žæŽ¥å±‚ å·ç§¯ç¥žç»ç½‘ç»œä¹‹ fine-tuningä½•è°“fine-tuningï¼Ÿfine-tuningå°±æ˜¯ä½¿ç”¨å·²ç”¨äºŽå…¶ä»–ç›®æ ‡ã€é¢„è®­ç»ƒå¥½æ¨¡åž‹çš„æƒé‡æˆ–è€…éƒ¨åˆ†æƒé‡ï¼Œä½œä¸ºåˆå§‹å€¼å¼€å§‹è®­ç»ƒã€‚ é‚£ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸ç”¨éšæœºé€‰å–é€‰å‡ ä¸ªæ•°ä½œä¸ºæƒé‡åˆå§‹å€¼ï¼ŸåŽŸå› å¾ˆç®€å•ï¼Œç¬¬ä¸€ï¼Œè‡ªå·±ä»Žå¤´è®­ç»ƒå·ç§¯ç¥žç»ç½‘ç»œå®¹æ˜“å‡ºçŽ°é—®é¢˜ï¼›ç¬¬äºŒï¼Œfine-tuningèƒ½å¾ˆå¿«æ”¶æ•›åˆ°ä¸€ä¸ªè¾ƒç†æƒ³çš„çŠ¶æ€ï¼Œçœæ—¶åˆçœå¿ƒã€‚ é‚£fine-tuningçš„å…·ä½“åšæ³•æ˜¯ï¼Ÿ â€¢ å¤ç”¨ç›¸åŒå±‚çš„æƒé‡ï¼Œæ–°å®šä¹‰å±‚å–éšæœºæƒé‡åˆå§‹å€¼ â€¢ è°ƒå¤§æ–°å®šä¹‰å±‚çš„çš„å­¦ä¹ çŽ‡ï¼Œè°ƒå°å¤ç”¨å±‚å­¦ä¹ çŽ‡]]></content>
      <categories>
        <category>SLAM</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[R-CNN]]></title>
    <url>%2F2019%2F05%2F11%2FSLAM%2FR-CNN%2F</url>
    <content type="text"><![CDATA[R-CNNR-CNNè®ºæ–‡è§£æž]]></content>
      <categories>
        <category>SLAM</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[SLAM]]></title>
    <url>%2F2019%2F05%2F11%2FSLAM%2FSLAM%2F</url>
    <content type="text"><![CDATA[SLAMæ¼«è°ˆSLAMæŠ€æœ¯ï¼ˆä¸Šï¼‰ æ¼«è°ˆSLAMæŠ€æœ¯ï¼ˆä¸‹ï¼‰ SLAMæŠ€æœ¯åœ¨å›½å†…çš„å‘å±•çŽ°çŠ¶ SLAMä»‹ç»ï¼ˆç®—æ³•åŸºæœ¬æµç¨‹ï¼‰ è¯¦ç»†åˆ†æžSLAMçš„å®žçŽ°å’Œåº”ç”¨ ç‰¹å¾ç‚¹çš„åŒ¹é… åˆ—ä¸¾å‡ ä¸ªç›®å‰æ¯”è¾ƒæœ‰åçš„SLAMç®—æ³•ï¼šPTAM,MonoSLAM, ORB-SLAM,RGBD-SLAM,RTAB-SLAM,LSD-SLAMã€‚ SLAMçš„ä¸¤å¤§ç±»åˆ«ï¼š æ ¹æ®ä¼ æ„Ÿå™¨ç±»åˆ«ï¼ˆæ¿€å…‰é›·è¾¾å’Œæ‘„åƒå¤´ï¼‰åˆ†ä¸ºæ¿€å…‰SLAMå’Œè§†è§‰SLAM ä¼ æ„Ÿå™¨ï¼š æ¿€å…‰é›·è¾¾ï¼šå•çº¿å¤šçº¿ æ‘„åƒå¤´ï¼šå•ç›®ã€åŒç›®ã€å•ç›®ç»“æž„å…‰ã€åŒç›®ç»“æž„å…‰ã€ToF ä¸åŒç›¸æœºçš„åŒºåˆ«ï¼Ÿ åŸºäºŽå•ç›®ã€åŒç›®ã€å…¨æ™¯ç›¸æœºçš„ç®—æ³•ï¼Ÿ IMU åè¯ä»‹ç»ï¼š1ã€è§†è§‰SLAMæ–¹æ³•ï¼šï¼ˆ1ï¼‰å›¾åƒä¿¡æ¯ä½¿ç”¨ è§†è§‰SLAMæ–¹æ³•æ ¹æ®ä½¿ç”¨å›¾åƒä¿¡æ¯çš„ä¸åŒå¯åˆ†ä¸ºç›´æŽ¥æ³•ï¼Œé—´æŽ¥æ³•ã€‚ ç›´æŽ¥æ³•ï¼Œå¸¸è§äºŽç¨ å¯†æˆ–åŠç¨ å¯†çš„SLAMä¸­ï¼ŒæŒ‡çš„æ˜¯é‡‡ç”¨å›¾åƒä¸Šæ¯ä¸ªåƒç´ çš„ä¿¡æ¯ï¼ˆäº®åº¦å€¼ï¼‰æ¥ä¼°è®¡ç›¸æœºä½å§¿ï¼›é—´æŽ¥æ³•ï¼Œå¸¸ç”¨äºŽç¨€ç–çš„SLAMä¸­ï¼Œåªä½¿ç”¨æ˜¾è‘—çš„å›¾åƒéƒ¨ä½ï¼ˆå³ç‰¹å¾ï¼‰ç”¨äºŽä½å§¿ä¼°è®¡çš„è®¡ç®—ã€‚ ç›´æŽ¥æ³•æœ€åŸºæœ¬çš„åŽŸç†æ˜¯äº®åº¦ä¸€è‡´æ€§çº¦æŸï¼Œç”±äºŽæ‘„åƒæœºå¯ä»¥ç›´æŽ¥æµ‹é‡å…‰çš„äº®åº¦ï¼Œé‚£ä¹ˆå®ƒçš„ä¼˜åŒ–ç›®æ ‡å‡½æ•°æ˜¯å…‰åº¦è¯¯å·®ï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œä¼˜åŒ–å˜é‡å¯ä»¥æ˜¯ä¸¤å¹…å›¾åƒä¹‹é—´çš„ä½å§¿å…³ç³»ï¼Œä¹Ÿå¯ä»¥æ˜¯ç‰¹å¾Patchçš„ä½ç½®ã€‚ æ ¹æ®ç›´æŽ¥æ³•ä½¿ç”¨çš„åƒç´ çš„ä¸åŒï¼Œå¯ä»¥åˆ†ä¸ºç¨ å¯†ç›´æŽ¥æ³•å’ŒåŠç¨ å¯†ç›´æŽ¥æ³•ã€‚åœ¨ä¸Šè¿°ä»‹ç»çš„SLAMç³»ç»Ÿä¸­ï¼ŒDTAMä¸ºç¨ å¯†ç›´æŽ¥æ³•ï¼Œå®ƒä½¿ç”¨äº†æ‰€æœ‰çš„åƒç´ ï¼›LSD-SLAMå’ŒDSOä¸ºåŠç¨ å¯†ç›´æŽ¥æ³•ï¼Œå®ƒä½¿ç”¨äº†æ¢¯åº¦æ˜Žæ˜¾çš„åƒç´ ï¼›SVOä¹Ÿä¸ºåŠç¨ å¯†ç›´æŽ¥æ³•ï¼Œå®ƒä½¿ç”¨äº†FASTç‰¹å¾ç‚¹å‘¨å›´é‚»åŸŸçš„åƒç´ ã€‚ç›´æŽ¥æ–¹æ³•è¾ƒå¤šçš„ä½¿ç”¨äº†å›¾åƒä¸Šåƒç´ çš„ä¿¡æ¯ï¼Œåœ¨çº¹ç†è¾ƒå·®çš„éƒ¨åˆ†æ¯”é—´æŽ¥æ³•æ›´é²æ£’ã€‚ä½†å½“åœºæ™¯ä¸­çš„å…‰ç…§å˜åŒ–åŽï¼Œç›´æŽ¥æ³•å®¹æ˜“å¤±æ•ˆï¼Œäº®åº¦ä¸€è‡´æ€§çº¦æŸè¦æ±‚ä¸¤å¹…å›¾åƒä¹‹é—´çš„å…‰åº¦è¯¯å·®å°½å¯èƒ½åœ°å°ã€‚ é—´æŽ¥æ³•ä½¿ç”¨å›¾åƒä¸­çš„ç‰¹å¾ï¼ˆç‚¹æˆ–è€…çº¿ï¼‰è¿›è¡ŒåŒ¹é…ï¼Œç„¶åŽæ ¹æ®åŒ¹é…å…³ç³»æ±‚è§£ï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œå®ƒçš„ä¼˜åŒ–ç›®æ ‡å‡½æ•°æ˜¯ç‰¹å¾çš„é‡æŠ•å½±è¯¯å·®ï¼Œä¼˜åŒ–çš„å˜é‡ä¸€èˆ¬ä¸ºç›¸å¯¹ä½å§¿ã€‚é—´æŽ¥æ³•é€‰å–çš„ç‰¹å¾ä¸€èˆ¬è¦æ±‚æ¯”è¾ƒæ˜¾è‘—ï¼Œå¯¹è§†è§’å’Œå…‰ç…§å˜åŒ–å…·æœ‰ä¸å˜æ€§ï¼Œå¯¹æ¨¡ç³Šå’Œå™ªå£°æœ‰ä¸€å®šçš„å¼¹æ€§ï¼Œè¿™éœ€è¦åœ¨è®¡ç®—é€Ÿåº¦å’Œç‰¹å¾è´¨é‡ä¸Šå–å¾—å¹³è¡¡ã€‚è®¡ç®—æœºè§†è§‰é¢†åŸŸç ”ç©¶äº†å¾ˆå¤šä¸åŒçš„ç‰¹å¾æå–å’Œç‰¹å¾æè¿°ï¼Œå®ƒä»¬å¯¹æ—‹è½¬ã€å°ºåº¦ä¸å˜ï¼Œå’Œè®¡ç®—é€Ÿåº¦çš„æ€§èƒ½éƒ½ä¸ä¸€æ ·ã€‚é€‰æ‹©åˆé€‚çš„ç‰¹å¾ä¾èµ–äºŽå¹³å°çš„è®¡ç®—èƒ½åŠ›ï¼Œè§†è§‰SLAMç®—æ³•è¿è¡Œçš„çŽ¯å¢ƒï¼Œè¿˜æœ‰å›¾åƒçš„å¸§çŽ‡ã€‚å¯é€‰çš„è§’ç‚¹æå–å™¨å¦‚Harrisè§’ç‚¹ï¼ˆHarris and Stephens, 1988ï¼‰ã€Shi-Tomasiè§’ç‚¹ï¼ˆShi and Tomasi, 1994ï¼‰ï¼ŒFASTè§’ç‚¹ï¼ˆMair et al, 2010ï¼‰ç­‰ï¼Œç‰¹å¾æè¿°åŒ…æ‹¬ä½†ä¸é™äºŽBRIEFï¼ŒBRISKï¼ŒSURFï¼ŒSIFTï¼ŒFREAKï¼ŒORBå’Œåƒç´ çº§åˆ«å±€éƒ¨åŒºå—ç‰¹å¾ç­‰ã€‚ 2ã€è§’ç‚¹æå–å™¨Harris è§’ç‚¹ï¼šShi-Tomasiè§’ç‚¹ï¼šShi-Tomasi ç®—æ³•æ˜¯Harris ç®—æ³•çš„æ”¹è¿›ã€‚Harris ç®—æ³•æœ€åŽŸå§‹çš„å®šä¹‰æ˜¯å°†çŸ©é˜µ M çš„è¡Œåˆ—å¼å€¼ä¸Ž M çš„è¿¹ç›¸å‡ï¼Œå†å°†å·®å€¼åŒé¢„å…ˆç»™å®šçš„é˜ˆå€¼è¿›è¡Œæ¯”è¾ƒã€‚åŽæ¥Shi å’ŒTomasi æå‡ºæ”¹è¿›çš„æ–¹æ³•ï¼Œè‹¥ä¸¤ä¸ªç‰¹å¾å€¼ä¸­è¾ƒå°çš„ä¸€ä¸ªå¤§äºŽæœ€å°é˜ˆå€¼ï¼Œåˆ™ä¼šå¾—åˆ°å¼ºè§’ç‚¹ã€‚ å¦‚ä¸Šé¢ç¬¬äºŒå¹…å›¾ä¸­ï¼Œå¯¹è‡ªç›¸å…³çŸ©é˜µ M è¿›è¡Œç‰¹å¾å€¼åˆ†æžï¼Œäº§ç”Ÿä¸¤ä¸ªç‰¹å¾å€¼å’Œä¸¤ä¸ªç‰¹å¾æ–¹å‘å‘é‡ã€‚å› ä¸ºè¾ƒå¤§çš„ä¸ç¡®å®šåº¦å–å†³äºŽè¾ƒå°çš„ç‰¹å¾å€¼ï¼Œä¹Ÿå°±æ˜¯ï¼Œæ‰€ä»¥é€šè¿‡å¯»æ‰¾æœ€å°ç‰¹å¾å€¼çš„æœ€å¤§å€¼æ¥å¯»æ‰¾å¥½çš„ç‰¹å¾ç‚¹ä¹Ÿå°±è§£é‡Šçš„é€šäº†ã€‚Shi å’ŒTomasi çš„æ–¹æ³•æ¯”è¾ƒå……åˆ†ï¼Œå¹¶ä¸”åœ¨å¾ˆå¤šæƒ…å†µä¸‹å¯ä»¥å¾—åˆ°æ¯”ä½¿ç”¨Harris ç®—æ³•æ›´å¥½çš„ç»“æžœã€‚ FASTè§’ç‚¹:Shi-Tomasi ç®—æ³•æ˜¯Harris ç®—æ³•çš„æ”¹è¿›ã€‚Harris ç®—æ³•æœ€åŽŸå§‹çš„å®šä¹‰æ˜¯å°†çŸ©é˜µ M çš„è¡Œåˆ—å¼å€¼ä¸Ž M çš„è¿¹ç›¸å‡ï¼Œå†å°†å·®å€¼åŒé¢„å…ˆç»™å®šçš„é˜ˆå€¼è¿›è¡Œæ¯”è¾ƒã€‚åŽæ¥Shi å’ŒTomasi æå‡ºæ”¹è¿›çš„æ–¹æ³•ï¼Œè‹¥ä¸¤ä¸ªç‰¹å¾å€¼ä¸­è¾ƒå°çš„ä¸€ä¸ªå¤§äºŽæœ€å°é˜ˆå€¼ï¼Œåˆ™ä¼šå¾—åˆ°å¼ºè§’ç‚¹ã€‚ å¦‚ä¸Šé¢ç¬¬äºŒå¹…å›¾ä¸­ï¼Œå¯¹è‡ªç›¸å…³çŸ©é˜µ M è¿›è¡Œç‰¹å¾å€¼åˆ†æžï¼Œäº§ç”Ÿä¸¤ä¸ªç‰¹å¾å€¼å’Œä¸¤ä¸ªç‰¹å¾æ–¹å‘å‘é‡ã€‚å› ä¸ºè¾ƒå¤§çš„ä¸ç¡®å®šåº¦å–å†³äºŽè¾ƒå°çš„ç‰¹å¾å€¼ï¼Œä¹Ÿå°±æ˜¯ï¼Œæ‰€ä»¥é€šè¿‡å¯»æ‰¾æœ€å°ç‰¹å¾å€¼çš„æœ€å¤§å€¼æ¥å¯»æ‰¾å¥½çš„ç‰¹å¾ç‚¹ä¹Ÿå°±è§£é‡Šçš„é€šäº†ã€‚Shi å’ŒTomasi çš„æ–¹æ³•æ¯”è¾ƒå……åˆ†ï¼Œå¹¶ä¸”åœ¨å¾ˆå¤šæƒ…å†µä¸‹å¯ä»¥å¾—åˆ°æ¯”ä½¿ç”¨Harris ç®—æ³•æ›´å¥½çš„ç»“æžœã€‚ 3ã€ç‰¹å¾æè¿°SIFTæåˆ°ç‰¹å¾ç‚¹ç®—æ³•ï¼Œé¦–å…ˆå°±æ˜¯å¤§åé¼Žé¼Žçš„SIFTç®—æ³•äº†ã€‚SIFTçš„å…¨ç§°æ˜¯Scale Invariant Feature Transformï¼Œå°ºåº¦ä¸å˜ç‰¹å¾å˜æ¢ï¼Œ2004å¹´ç”±åŠ æ‹¿å¤§æ•™æŽˆDavid G.Loweæå‡ºçš„ã€‚SIFTç‰¹å¾å¯¹æ—‹è½¬ã€å°ºåº¦ç¼©æ”¾ã€äº®åº¦å˜åŒ–ç­‰ä¿æŒä¸å˜æ€§ï¼Œæ˜¯ä¸€ç§éžå¸¸ç¨³å®šçš„å±€éƒ¨ç‰¹å¾ã€‚SIFTç®—æ³•ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š é«˜æ–¯å·®åˆ†é‡‘å­—å¡”çš„æž„å»ºä½¿ç”¨ç»„å’Œå±‚çš„ç»“æž„æž„å»ºäº†ä¸€ä¸ªå…·æœ‰çº¿æ€§å…³ç³»çš„é‡‘å­—å¡”ï¼ˆå°ºåº¦ç©ºé—´ï¼‰ï¼Œè¿™æ ·å¯ä»¥åœ¨è¿žç»­çš„é«˜æ–¯æ ¸å°ºåº¦ä¸ŠæŸ¥æ‰¾å›¾åƒçš„ç‰¹å¾ç‚¹ï¼›å¦å¤–ï¼Œå®ƒä½¿ç”¨ä¸€é˜¶çš„é«˜æ–¯å·®åˆ†æ¥è¿‘ä¼¼é«˜æ–¯çš„æ‹‰æ™®æ‹‰æ–¯æ ¸ï¼Œå¤§å¤§çš„å‡å°‘äº†è¿ç®—é‡ã€‚ å°ºåº¦ç©ºé—´çš„æžå€¼æ£€æµ‹åŠç‰¹å¾ç‚¹çš„å®šä½æœç´¢ä¸Šä¸€æ­¥å»ºç«‹çš„é«˜æ–¯å°ºåº¦ç©ºé—´ï¼Œé€šè¿‡é«˜æ–¯å·®åˆ†æ¥è¯†åˆ«æ½œåœ¨çš„å¯¹å°ºåº¦å’Œæ—‹è½¬ä¸å˜çš„ç‰¹å¾ç‚¹ã€‚ä½†æ˜¯ï¼Œåœ¨ç¦»æ•£ç©ºé—´ä¸­ï¼Œå±€éƒ¨æžå€¼ç‚¹å¯èƒ½å¹¶ä¸æ˜¯çœŸæ­£æ„ä¹‰çš„æžå€¼ç‚¹ï¼ŒçœŸæ­£çš„æžå€¼ç‚¹æœ‰å¯èƒ½è½åœ¨ç¦»æ•£ç‚¹çš„é—´éš™ä¸­ï¼ŒSIFTé€šè¿‡å°ºåº¦ç©ºé—´DoGå‡½æ•°è¿›è¡Œæ›²çº¿æ‹Ÿåˆå¯»æ‰¾æžå€¼ç‚¹ã€‚ ç‰¹å¾æ–¹å‘èµ‹å€¼åŸºäºŽå›¾åƒå±€éƒ¨çš„æ¢¯åº¦æ–¹å‘ï¼Œåˆ†é…ç»™æ¯ä¸ªå…³é”®ç‚¹ä½ç½®ä¸€ä¸ªæˆ–å¤šä¸ªæ–¹å‘ï¼ŒåŽç»­çš„æ‰€æœ‰æ“ä½œéƒ½æ˜¯å¯¹äºŽå…³é”®ç‚¹çš„æ–¹å‘ã€å°ºåº¦å’Œä½ç½®è¿›è¡Œå˜æ¢ï¼Œä»Žè€Œæä¾›è¿™äº›ç‰¹å¾çš„ä¸å˜æ€§ã€‚ ç‰¹å¾æè¿°å­çš„ç”Ÿæˆé€šè¿‡ä¸Šé¢çš„æ­¥éª¤å·²ç»æ‰¾åˆ°çš„SIFTç‰¹å¾ç‚¹çš„ä½ç½®ã€æ–¹å‘ã€å°ºåº¦ä¿¡æ¯ï¼Œæœ€åŽä½¿ç”¨ä¸€ç»„å‘é‡æ¥æè¿°ç‰¹å¾ç‚¹åŠå…¶å‘¨å›´é‚»åŸŸåƒç´ çš„ä¿¡æ¯ã€‚ SIFTç®—æ³•ä¸­åŠåŒ…å«äº†ç‰¹å¾ç‚¹çš„æå–ç®—æ³•ï¼Œä¹Ÿæœ‰å¦‚ä½•ç”Ÿæˆæè¿°å­çš„ç®—æ³•ï¼Œæ›´è¿›ä¸€æ­¥çš„SIFTç®—æ³•ä»‹ç»å¯å‚çœ‹SIFTç‰¹å¾è¯¦è§£ SURFSURFå…¨ç§° Speeded Up Robust Featuresï¼Œæ˜¯åœ¨SIFTç®—æ³•çš„åŸºç¡€ä¸Šæå‡ºçš„ï¼Œä¸»è¦é’ˆå¯¹SIFTç®—æ³•è¿ç®—é€Ÿåº¦æ…¢ï¼Œè®¡ç®—é‡å¤§çš„ç¼ºç‚¹è¿›è¡Œäº†æ”¹è¿›ã€‚SURFçš„æµç¨‹å’ŒSIFTæ¯”è¾ƒç±»ä¼¼ï¼Œè¿™äº›æ”¹è¿›ä½“çŽ°åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š ç‰¹å¾ç‚¹æ£€æµ‹æ˜¯åŸºäºŽHessiançŸ©é˜µï¼Œä¾æ®HessiançŸ©é˜µè¡Œåˆ—å¼çš„æžå€¼æ¥å®šä½ç‰¹å¾ç‚¹çš„ä½ç½®ã€‚å¹¶ä¸”å°†Hessionç‰¹å¾è®¡ç®—ä¸Žé«˜æ–¯å¹³æ»‘ç»“åˆåœ¨ä¸€èµ·ï¼Œä¸¤ä¸ªæ“ä½œé€šè¿‡è¿‘ä¼¼å¤„ç†å¾—åˆ°ä¸€ä¸ªæ ¸æ¨¡æ¿ã€‚ åœ¨æž„å»ºå°ºåº¦ç©ºé—´æ—¶ï¼Œä½¿ç”¨box filterä¸Žæºå›¾åƒå·ç§¯ï¼Œè€Œä¸æ˜¯ä½¿ç”¨DoGç®—å­ã€‚ SURFä½¿ç”¨ä¸€é˜¶Haarå°æ³¢åœ¨xã€yä¸¤ä¸ªæ–¹å‘çš„å“åº”ä½œä¸ºæž„å»ºç‰¹å¾å‘é‡çš„åˆ†å¸ƒä¿¡æ¯ã€‚ FASTç‰¹å¾ç‚¹æå–ç®—æ³•SIFTå’ŒSURFæ˜¯éžå¸¸å¥½çš„ï¼Œç¨³å®šçš„ç‰¹å¾ç‚¹ç®—æ³•ï¼Œä½†è¿ç®—é€Ÿåº¦æ˜¯å…¶ä¸€å¤§å¼Šç«¯ï¼Œæ— æ³•åšåˆ°å®žæ—¶çš„ç‰¹å¾æå–å’ŒåŒ¹é…ï¼Œå…¶åº”ç”¨å°±æœ‰äº†å¾ˆå¤§çš„å±€é™æ€§ã€‚FASTç‰¹å¾æå–ç®—æ³•å¼¥è¡¥äº†è¿™ä¸€å±€é™ï¼Œæ£€æµ‹å±€éƒ¨åƒç´ ç°åº¦å˜åŒ–æ˜Žæ˜¾çš„åœ°æ–¹ï¼Œä»¥é€Ÿåº¦å¿«è€Œè‘—ç§°ï¼Œå…¶å…¨ç§°ä¸ºï¼šFeatures From Accelerated Segment Testã€‚åœ¨FASTç®—æ³•çš„æ€æƒ³å¾ˆç®€å•ï¼šå¦‚æžœä¸€ä¸ªåƒç´ ä¸Žå‘¨å›´é‚»åŸŸçš„åƒç´ å·®åˆ«è¾ƒå¤§ï¼ˆè¿‡äº®æˆ–è€…è¿‡æš—ï¼‰ï¼Œé‚£ä¹ˆå¯ä»¥è®¤ä¸ºè¯¥åƒç´ æ˜¯ä¸€ä¸ªè§’ç‚¹ã€‚å’Œå…¶ä»–çš„ç‰¹å¾ç‚¹æå–ç®—æ³•ç›¸æ¯”ï¼ŒFASTç®—æ³•åªéœ€è¦æ¯”è¾ƒåƒç´ å’Œå…¶é‚»åŸŸåƒç´ çš„ç°åº¦å€¼å¤§å°ï¼Œååˆ†ä¾¿æ·ã€‚FASTç®—æ³•æå–è§’ç‚¹çš„æ­¥éª¤ï¼š åœ¨å›¾åƒä¸­é€‰æ‹©åƒç´ pï¼Œå‡è®¾å…¶ç°åº¦å€¼ä¸ºï¼šIpIp è®¾ç½®ä¸€ä¸ªé˜ˆå€¼Tï¼Œä¾‹å¦‚ï¼šIpIpçš„20% é€‰æ‹©på‘¨å›´åŠå¾„ä¸º3çš„åœ†ä¸Šçš„16ä¸ªåƒç´ ï¼Œä½œä¸ºæ¯”è¾ƒåƒç´  å‡è®¾é€‰å–çš„åœ†ä¸Šæœ‰è¿žç»­çš„Nä¸ªåƒç´ å¤§äºŽIp+TIp+Tæˆ–è€…Ipâˆ’TIpâˆ’Tï¼Œé‚£ä¹ˆå¯ä»¥è®¤ä¸ºåƒç´ på°±æ˜¯ä¸€ä¸ªç‰¹å¾ç‚¹ã€‚ï¼ˆNé€šå¸¸å–12ï¼Œå³ä¸ºFAST-12ï¼›å¸¸ç”¨çš„è¿˜æœ‰FAST-9,FAST-11ï¼‰ã€‚ FASTç®—æ³•åªæ£€æµ‹åƒç´ çš„ç°åº¦å€¼ï¼Œå…¶è¿ç®—é€Ÿåº¦æžå¿«ï¼ŒåŒæ—¶ä¸å¯é¿å…çš„ä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹ æ£€æµ‹åˆ°çš„ç‰¹å¾ç‚¹è¿‡å¤šå¹¶ä¸”ä¼šå‡ºçŽ°â€œæ‰Žå †â€çš„çŽ°è±¡ã€‚è¿™å¯ä»¥åœ¨ç¬¬ä¸€éæ£€æµ‹å®ŒæˆåŽï¼Œä½¿ç”¨éžæœ€å¤§å€¼æŠ‘åˆ¶ï¼ˆNon-maximal suppressionï¼‰ï¼Œåœ¨ä¸€å®šåŒºåŸŸå†…ä»…ä¿ç•™å“åº”æžå¤§å€¼çš„è§’ç‚¹ï¼Œé¿å…è§’ç‚¹é›†ä¸­çš„æƒ…å†µã€‚ FASTæå–åˆ°çš„è§’ç‚¹æ²¡æœ‰æ–¹å‘å’Œå°ºåº¦ä¿¡æ¯ ä¸Šé¢çš„ä»‹ç»çš„SIFTå’ŒSURFç®—æ³•éƒ½åŒ…å«æœ‰å„è‡ªçš„ç‰¹å¾ç‚¹æè¿°å­çš„è®¡ç®—æ–¹æ³•ï¼Œè€ŒFASTä¸åŒ…å«ç‰¹å¾ç‚¹æè¿°å­çš„è®¡ç®—ï¼Œä»…ä»…åªæœ‰ç‰¹å¾ç‚¹çš„æå–æ–¹æ³•ï¼Œè¿™å°±éœ€è¦ä¸€ä¸ªç‰¹å¾ç‚¹æè¿°æ–¹æ³•æ¥æè¿°FASTæå–åˆ°çš„ç‰¹å¾ç‚¹ï¼Œä»¥æ–¹ä¾¿ç‰¹å¾ç‚¹çš„åŒ¹é…ã€‚ä¸‹é¢ä»‹ç»ä¸€ä¸ªä¸“é—¨çš„ç‰¹å¾ç‚¹æè¿°å­çš„è®¡ç®—ç®—æ³•ã€‚ BRIEFæè¿°å­BRIEFæ˜¯ä¸€ç§äºŒè¿›åˆ¶çš„æè¿°å­ï¼Œå…¶æè¿°å‘é‡æ˜¯0å’Œ1è¡¨ç¤ºçš„äºŒè¿›åˆ¶ä¸²ã€‚0å’Œ1è¡¨ç¤ºç‰¹å¾ç‚¹é‚»åŸŸå†…ä¸¤ä¸ªåƒç´ ï¼ˆpå’Œqï¼‰ç°åº¦å€¼çš„å¤§å°ï¼šå¦‚æžœpæ¯”qå¤§åˆ™é€‰æ‹©1ï¼Œåæ­£å°±å–0ã€‚åœ¨ç‰¹å¾ç‚¹çš„å‘¨å›´é€‰æ‹©128å¯¹è¿™æ ·çš„på’Œqçš„åƒç´ å¯¹ï¼Œå°±å¾—åˆ°äº†128ç»´ç”±0ï¼Œ1ç»„æˆçš„å‘é‡ã€‚é‚£ä¹ˆpå’Œqçš„åƒç´ å¯¹æ˜¯æ€Žä¹ˆé€‰æ‹©çš„å‘¢ï¼Ÿé€šå¸¸éƒ½æ˜¯æŒ‰ç…§æŸç§æ¦‚çŽ‡æ¥éšæœºçš„æŒ‘é€‰åƒç´ å¯¹çš„ä½ç½®ã€‚BRIEFä½¿ç”¨éšæœºé€‰ç‚¹çš„æ¯”è¾ƒï¼Œé€Ÿåº¦å¾ˆå¿«ï¼Œè€Œä¸”ä½¿ç”¨äºŒè¿›åˆ¶ä¸²è¡¨ç¤ºæœ€ç»ˆç”Ÿæˆçš„æè¿°å­å‘é‡ï¼Œåœ¨å­˜å‚¨ä»¥åŠç”¨äºŽåŒ¹é…çš„æ¯”è¾ƒæ—¶éƒ½æ˜¯éžå¸¸æ–¹ä¾¿çš„ï¼Œå…¶å’ŒFASTçš„æ­é…èµ·æ¥å¯ä»¥ç»„æˆéžå¸¸å¿«é€Ÿçš„ç‰¹å¾ç‚¹æå–å’Œæè¿°ç®—æ³•ã€‚ ORBç®—æ³•ORBçš„å…¨ç§°æ˜¯Oriented FAST and Rotated BRIEFï¼Œæ˜¯ç›®å‰æ¥è¯´éžå¸¸å¥½çš„èƒ½å¤Ÿè¿›è¡Œçš„å®žæ—¶çš„å›¾åƒç‰¹å¾æå–å’Œæè¿°çš„ç®—æ³•ï¼Œå®ƒæ”¹è¿›äº†FASTç‰¹å¾æå–ç®—æ³•ï¼Œå¹¶ä½¿ç”¨é€Ÿåº¦æžå¿«çš„äºŒè¿›åˆ¶æè¿°å­BRIEFã€‚é’ˆå¯¹FASTç‰¹å¾æå–çš„ç®—æ³•çš„ä¸€äº›ç¡®å®šï¼ŒORBä¹Ÿåšäº†ç›¸åº”çš„æ”¹è¿›ã€‚ ä½¿ç”¨éžæœ€å¤§å€¼æŠ‘åˆ¶ï¼Œåœ¨ä¸€å®šåŒºåŸŸå†…ä»…ä»…ä¿ç•™å“åº”æžå¤§å€¼çš„è§’ç‚¹ï¼Œé¿å…FASTæå–åˆ°çš„è§’ç‚¹è¿‡äºŽé›†ä¸­ã€‚ FASTæå–åˆ°çš„è§’ç‚¹æ•°é‡è¿‡å¤šä¸”ä¸æ˜¯å¾ˆç¨³å®šï¼ŒORBä¸­å¯ä»¥æŒ‡å®šéœ€è¦æå–åˆ°çš„è§’ç‚¹çš„æ•°é‡Nï¼Œç„¶åŽå¯¹FASTæå–åˆ°çš„è§’ç‚¹åˆ†åˆ«è®¡ç®—Harriså“åº”å€¼ï¼Œé€‰æ‹©å‰Nä¸ªå…·æœ‰æœ€å¤§å“åº”å€¼çš„è§’ç‚¹ä½œä¸ºæœ€ç»ˆæå–åˆ°çš„ç‰¹å¾ç‚¹é›†åˆã€‚ FASTæå–åˆ°çš„è§’ç‚¹ä¸å…·æœ‰å°ºåº¦ä¿¡æ¯ï¼Œåœ¨ORBä¸­ä½¿ç”¨å›¾åƒé‡‘å­—å¡”ï¼Œå¹¶ä¸”åœ¨æ¯ä¸€å±‚é‡‘å­—å¡”ä¸Šæ£€æµ‹è§’ç‚¹ï¼Œä»¥æ­¤æ¥ä¿æŒå°ºåº¦çš„ä¸å˜æ€§ã€‚ FASTæå–åˆ°çš„è§’ç‚¹ä¸å…·æœ‰æ–¹å‘ä¿¡æ¯ï¼Œåœ¨ORBä¸­ä½¿ç”¨ç°åº¦è´¨å¿ƒæ³•(Intensity Centroid)æ¥ä¿æŒç‰¹å¾çš„æ—‹è½¬ä¸å˜æ€§ã€‚ åƒç´ çº§åˆ«å±€éƒ¨åŒºå—ç‰¹å¾4ã€ç›¸æœºå•ç›®åªéœ€è¦ä¸€ä¸ªæ“ä½œæ•°ï¼ŒèŽ·å–æ·±åº¦å›¾çš„åŽŸç†ä¸åŒã€‚ åŒç›®éœ€è¦ä¸¤ä¸ªæ“ä½œæ•°ï¼ŒåŒç›®è§†è§‰ç³»ç»Ÿï¼Œæ˜¯é€šè¿‡å·¦å³ä¸¤ä¸ªå¯¹é½çš„æ‘„åƒæœºçš„æˆåƒç»“æžœï¼ŒåŸºäºŽæžé™çº¦æŸè®¡ç®—è§†å·®å›¾ï¼Œå†ç”±å‡ ä½•å…³ç³»å¾—åˆ°æ·±åº¦æ•°æ®çš„ï¼Œä½†æ˜¯è¿™æ ·åšçš„å±€é™æ˜¯ï¼š1ã€ä¸¤ä¸ªæ‘„åƒæœºçš„ä½ç½®è·ç¦»é™åˆ¶äº†æ·±åº¦æ•°æ®çš„èŽ·å–ã€‚2ã€ç”±äºŽæŠ–åŠ¨ç­‰ä¸ç¨³å®šå› ç´ ä½¿å¾—ä¸¤ä¸ªæ‘„åƒæœºçš„å¯¹é½å›°éš¾ã€‚ åŒç›®åŒç›®å¯ä»¥é€šè¿‡æ ‡å®šï¼ˆå‡ ä½•ï¼‰æˆ–å®žæ—¶åŒ¹é…ï¼ˆè§†è§‰åŒ¹é…ï¼‰å¾—åˆ°ç›¸æœºçš„ï¼ˆä¸€èˆ¬ä¸ºç›¸å¯¹çš„ï¼‰ä½å§¿ï¼ˆç¨€ç–ç‚¹äº‘ï¼‰å†é€šè¿‡åŒ¹é…åŒåç‚¹ï¼Œå‰æ–¹äº¤ä¼šï¼Œå¾—åˆ°æ·±åº¦ã€‚ï¼ˆæ‘„å½±æµ‹é‡ï¼‰æ ¹æ®æ ¸çº¿å’ŒåŒ¹é…ä»£ä»·ï¼Œäº¤ä¼šæ‰€æœ‰ç‚¹ï¼Œå¾—åˆ°æ‰€æœ‰ç‚¹æ·±åº¦ã€‚ï¼ˆå¯†é›†åŒ¹é…ï¼‰å„ç§å¯†é›†åŒ¹é…ç®—æ³•æˆ–ç­–ç•¥å’ŒåŒ¹é…ä»£ä»·ï¼Œäº¤ä¼šæ‰€æœ‰ç‚¹ï¼Œå¾—åˆ°æ·±åº¦ã€‚ å•ç›®1.RGDB2.åŸºäºŽç‰¹å¾ï¼ˆå¦‚ç­ç‚¹ç‰¹å¾ï¼‰ç¡®å®šè¦æ±‚æ·±åº¦çš„å¯¹è±¡ï¼Œè®¾è®¡å˜æ¢å‡½æ•°å’Œç›¸å¯¹åº”çš„å˜æ¢å‚æ•°ï¼Œé€šè¿‡ç‰¹å¾æå–æå–ç‰¹å¾ï¼Œæ ¹æ®ç‰¹å¾è®¡ç®—å˜åŒ–å‚æ•°ï¼Œæ ¹æ®å¤šä¸ªç‰¹å¾è§‚æµ‹ï¼Œä¼°è®¡å¾—åˆ°å˜æ¢å‡½æ•°ï¼Œå¯¹å¯¹è±¡ä½¿ç”¨å˜æ¢å‡½æ•°è®¡ç®—å…¶æ·±åº¦ã€‚ å¦‚ï¼Œæ‹ä¸€ä¸ªæ­£æ–¹ä½“ï¼Œæˆ‘å·²çŸ¥å…¶åœ¨ç‰©æ–¹çš„è§„åˆ™å½¢æ€ï¼Œå¦‚æžœåœ¨å•ç›®ä¸­ä¹Ÿæå–äº†æ­¤æ­£æ–¹ä½“çš„ç‰¹å¾ï¼ˆå¦‚çº¿ç‰¹å¾ï¼‰ï¼Œæ ¹æ®è¿™ä¸ªç‰¹å¾çš„æˆåƒç»“åˆé€è§†æˆåƒå…³ç³»ï¼Œè®¡ç®—å¾—åˆ°ç‰¹å¾çš„å˜æ¢å‡½æ•°ï¼Œç„¶åŽå¯¹æ•´ä¸ªæ­£æ–¹ä½“çš„æ¯ä¸ªåƒç´ ï¼Œéƒ½å¸¦å…¥è¿™ä¸€ç‰¹å¾å…³ç³»ï¼Œå¾—åˆ°æ•´ä¸ªæ­£æ–¹å½¢çš„æ·±åº¦ã€‚3.æ·±åº¦å­¦ä¹  ç±»åž‹ç¬¬äºŒç§ï¼Œåªä¸è¿‡ï¼Œè¿™ä¸ªç‰¹å¾å’Œå‡½æ•°æˆ‘ä»¬éƒ½ä¸æ˜¾ç¤ºçš„æ‰¾åˆ°å®ƒï¼Œè€Œæ˜¯è®©è¶…å‚åŽ»è‡ªå·±æ‰¾ï¼Œè‡ªå·±æ‹Ÿåˆï¼Œé€šè¿‡å¤§é‡çš„æ ·æœ¬è®­ç»ƒ ï¼Œå°±å¯ä»¥å¾—åˆ°è¿‘ä¼¼çš„ç»“æžœã€‚ to doï¼š SLAMå‘å±•çš„åŽ†å² å…³äºŽSLAMçš„ä¸€äº›åè¯è§£é‡Šï¼Œè¾“å…¥è¾“å‡ºæ˜¯ä»€ä¹ˆ è§†è§‰é‡Œç¨‹è®¡ã€IMU 2d-2då¯¹çº§å‡ ä½• pnpï¼Œicpï¼ˆè¾“å…¥è¾“å‡ºã€ä½œç”¨ï¼‰ï¼Œ è¦å…·ä½“ç†è§£æ¯ä¸ªåç§°çš„æ„ä¹‰ ä¸€äº›SLAMæ¡†æž¶çš„ä»‹ç»ï¼Œå„è‡ªçš„ä¼˜åŠ£æ¯”è¾ƒ åŽç«¯ä¼˜åŒ–çš„æ–¹å¼ï¼ˆEKFï¼Œ æ•°å­¦æŽ¨å¯¼å¼ï¼ˆå¼å­å‚æ•°çš„æ„ä¹‰ã€æ€Žä¹ˆæ¥çš„ é›…å¯æ¯”çŸ©é˜µæ˜¯ä»€ä¹ˆ opencvä¸­å¸¸ç”¨çš„å‡½æ•° kèšç±» è¯­ä¹‰SLAMæ˜¯ä»€ä¹ˆ ç¼©å†™çš„å…¨ç§° å‚è€ƒï¼šä½œè€…ï¼Œè®ºæ–‡åç§°ï¼Œå‘è¡¨æ—¶é—´ï¼Œå‘è¡¨åˆŠç‰© SLAMéƒ¨åˆ†ï¼š åŽ†å²å‘å±•ï¼Œç»¼è¿° åŸºæœ¬åŽŸç†ï¼š]]></content>
      <categories>
        <category>SLAM</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[SLAM_0 SLAM for dummies]]></title>
    <url>%2F2019%2F05%2F11%2FSLAM%2FSLAM_0_forDummies%2F</url>
    <content type="text"><![CDATA[SLAM_0 SLAM for dummiesConcept: SLAM is concerned with the problem of building a map of an unknown environmentby a mobile robot while at the same time navigating the environment using the map. SLAM consists of: Landmark extraction Data association State estimation state update landmark update]]></content>
      <categories>
        <category>SLAM</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[SLAM_2_çŸ©é˜µç›¸å…³çŸ¥è¯†]]></title>
    <url>%2F2019%2F05%2F11%2FSLAM%2FSLAM_2_%E7%9F%A9%E9%98%B5%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86%2F</url>
    <content type="text"><![CDATA[SLAM_2_çŸ©é˜µç›¸å…³çŸ¥è¯†å‚è€ƒï¼š çŸ©é˜µåˆ†æžï¼ŒRoger A.Hornï¼ŒCharles R.Johnson çŸ©é˜µåˆ†æžä¸Žåº”ç”¨ï¼Œå¼ è´¤è¾¾ å•åº”çŸ©é˜µåŠå…¶åˆ†è§£ SVDåˆ†è§£ æœ¬è´¨çŸ©é˜µåŠå…¶åˆ†è§£ å¥‡å¼‚å€¼çŸ©é˜µ æœ€å°äºŒä¹˜å’Œéšæœºé‡‡æ ·ä¸€è‡´æ€§ï¼ˆRANSACï¼‰ ä¸‰è§’æµ‹é‡ å•Šå•Šå•Šå•Šï¼çº¿ä»£ä»¤äººå¿§ä¼¤ â€‹]]></content>
      <categories>
        <category>SLAM</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Mask R-CNN]]></title>
    <url>%2F2019%2F05%2F11%2FSLAM%2FMask%20R-CNN%2F</url>
    <content type="text"><![CDATA[Mask R-CNN1. Framework 2. Algorithm é¦–å…ˆï¼Œè¾“å…¥ä¸€å¹…ä½ æƒ³å¤„ç†çš„å›¾ç‰‡ï¼Œç„¶åŽè¿›è¡Œå¯¹åº”çš„é¢„å¤„ç†æ“ä½œï¼Œæˆ–è€…é¢„å¤„ç†åŽçš„å›¾ç‰‡ï¼› ç„¶åŽï¼Œå°†å…¶è¾“å…¥åˆ°ä¸€ä¸ªé¢„è®­ç»ƒå¥½çš„ç¥žç»ç½‘ç»œä¸­ï¼ˆResNeXtç­‰ï¼‰èŽ·å¾—å¯¹åº”çš„feature mapï¼› æŽ¥ç€ï¼Œå¯¹è¿™ä¸ªfeature mapä¸­çš„æ¯ä¸€ç‚¹è®¾å®šé¢„å®šä¸ªçš„ROIï¼Œä»Žè€ŒèŽ·å¾—å¤šä¸ªå€™é€‰ROIï¼› æŽ¥ç€ï¼Œå°†è¿™äº›å€™é€‰çš„ROIé€å…¥RPNç½‘ç»œè¿›è¡ŒäºŒå€¼åˆ†ç±»ï¼ˆå‰æ™¯æˆ–èƒŒæ™¯ï¼‰å’ŒBBå›žå½’ï¼Œè¿‡æ»¤æŽ‰ä¸€éƒ¨åˆ†å€™é€‰çš„ROIï¼› æŽ¥ç€ï¼Œå¯¹è¿™äº›å‰©ä¸‹çš„ROIè¿›è¡ŒROIAlignæ“ä½œï¼ˆå³å…ˆå°†åŽŸå›¾å’Œfeature mapçš„pixelå¯¹åº”èµ·æ¥ï¼Œç„¶åŽå°†feature mapå’Œå›ºå®šçš„featureå¯¹åº”èµ·æ¥ï¼‰ï¼› æœ€åŽï¼Œå¯¹è¿™äº›ROIè¿›è¡Œåˆ†ç±»ï¼ˆNç±»åˆ«åˆ†ç±»ï¼‰ã€BBå›žå½’å’ŒMASKç”Ÿæˆï¼ˆåœ¨æ¯ä¸€ä¸ªROIé‡Œé¢è¿›è¡ŒFCNæ“ä½œï¼‰ã€‚ 3. Detail3.1 Faster-rcnn3.2 FCN3.3 ROIAlignReference]]></content>
      <categories>
        <category>SLAM</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[SLAM_3_è¿›åº¦æ±‡æŠ¥]]></title>
    <url>%2F2019%2F05%2F11%2FSLAM%2FSLAM_3_%E8%BF%9B%E5%BA%A6%E6%B1%87%E6%8A%A5%2F</url>
    <content type="text"><![CDATA[SLAM_3_è¿›åº¦æ±‡æŠ¥pptæ±‡æŠ¥å†…å®¹ï¼š ç¬¦å·å®šä¹‰ï¼š$t = 0 ,â€¦ ,N$ æ—¶é—´å†…ï¼Œæœºå™¨äººçš„ä½å§¿ä¸ºï¼š$x_0 , \dots , x_N$ ï¼ŒåŒæ—¶æœ‰è·¯æ ‡ $y_1, \dots , y_M$è¿åŠ¨å’Œè§‚æµ‹æ–¹ç¨‹è®°ä¸ºï¼š \begin{matrix}x_k = f(x_{k-1},u_k) + w_k \\ z_{k,j} = h(y_j,x_k) + v_{k,j} \end{matrix} \space \space k = 1,\dots ,N, j = 1,\dots,MåŽ»é™¤å™ªå£°çš„ç†æƒ³æƒ…å†µä¸‹ï¼š \begin{matrix}x_k = f(x_{k-1},u_k) \\ z_{k,j} = h(y_j,x_k) \end{matrix} \space \space k = 1,\dots ,N, j = 1,\dots,Mçº¯è§†è§‰SLAMï¼ˆ$z_{k,j}â€‹$ ä¸ºåƒç´ åæ ‡ï¼‰ï¼š \begin{matrix} z_{k,j} = h(y_j,x_k) \end{matrix} \space \space k = 1,\dots ,N, j = 1,\dots,Mçº¯è§†è§‰SLAMï¼ˆ$y_{k,j}$ä¸ºç›¸æœºåæ ‡ï¼‰ï¼š \begin{matrix} y'_{k,j} = h(y_j,x_k) \end{matrix} \space \space k = 1,\dots ,N, j = 1,\dots,Må¯¹äºŽæ–¹ç¨‹ï¼ˆ4ï¼‰å·²çŸ¥ä»»æ„ä¸¤ä¸ªé‡å¯æ±‚ç¬¬ä¸‰ä¸ªé‡ï¼Œ$y_jï¼Œx_kâ€‹$ å¾…æ±‚ åˆå§‹åŒ–ï¼šé›¶æ—¶åˆ»ç›¸æœºåæ ‡ä¸Žä¸–ç•Œåæ ‡é‡åˆï¼Œå³ $y_{0,j} = yâ€™_{0,j}$ åŽç«¯ä¼˜åŒ–ï¼ˆè€ƒè™‘å™ªå£°å½±å“ï¼‰ï¼š \begin{matrix}x_k = f(x_{k-1},u_k) + w_k \\ z_{k,j} = h(y_j,x_k) + v_{k,j} \end{matrix} \space \space k = 1,\dots ,N, j = 1,\dots,Måˆå§‹åŒ–å·²çŸ¥3dä¿¡æ¯â€”â€”ICPâ€”â€”å•ç›®ä¸­ï¼Œåªå¾—åˆ°åƒç´ åæ ‡ï¼ŒäºŒç»´å’Œä¸‰ç»´èŽ·å–ä½å§¿â€”â€”å¯¹çº§å‡ ä½•]]></content>
      <categories>
        <category>SLAM</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[SoftwareManagement_ 0 overview]]></title>
    <url>%2F2019%2F05%2F11%2FSoftwareManagement%2FManagement_0%2F</url>
    <content type="text"><![CDATA[SoftwareManagement_ 0 overviewSoftware Engineering Management Cell: 15000215319 Email: caobuyang@tongji.edu.cn Success criteria Schedule Budget Scope General issues affecting most software Heterogeneity Business and social change Security wage microservers Project management knowledge areaScope management Risk management Time management Cost management Human Resources management Communications management Quality management Procurement management]]></content>
      <categories>
        <category>SoftwareManagement</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Concepts]]></title>
    <url>%2F2019%2F05%2F11%2FSLAM%2FbasicConcepts%2F</url>
    <content type="text"><![CDATA[Concepts1. Image ClassificationIt consists of classifying an image into one of many different categories. Known Dateset: ImageNet 2. LocalizationSimilar to classification, localization finds the location of a single object inside the image. Known Dateset: Application: smart scropping 3. Instance segmentation4. Object detectionObject detection is the problem of finding and classifying a variable number of objects on an image. 4.1 Practical uses Face detection Counting Visual Search Engine Aerial image analysis 4.2 Problems and challenges Variable number of objects sizing modeling 4.3 Classical approach4.4 Deep learning approach OverFeat R-CNN Fast R-CNN 5. Datasets Name # Images (trainval) # Classes Last updated ImageNet 450k 200 2015 COCO 120k 80 2014 Pascal VOC 12k 20 2012 Oxford-IIIT Pet 7k 37 2012 KITTI Vision 7k 3 2014 Detection: Authentication: Verifycation:]]></content>
      <categories>
        <category>SLAM</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Case Study]]></title>
    <url>%2F2019%2F05%2F11%2FSoftwareManagement%2FCaseStudy_0%2F</url>
    <content type="text"><![CDATA[Case Studyrisk Identification: Weather cooking fuel Transportation analysis: Plan: Monitor: äº¤é€šã€å†³ç­–ã€å¤©æ°”]]></content>
      <categories>
        <category>SoftwareManagement</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Management_1 Software Process]]></title>
    <url>%2F2019%2F05%2F11%2FSoftwareManagement%2FManagement_1%2F</url>
    <content type="text"><![CDATA[Management_1 Software ProcessSoftware process modelSoftware Processstructured process : such as waterfall model , Agile model etc basic activities: specification, development, validation and evolution Some modelswaterfall model incremetntal development reuse-oriented software engineering: the systems is assembled from existing components. May be plan-driven or agile. waterfallinflexible, Agile/scrumProcess activitiesCoping with changethe Rational Unified process1234graph LR inception--&gt;elaboration elaboration--&gt;construction construction--&gt;transaction configuration management]]></content>
      <categories>
        <category>SoftwareManagement</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[SLAM_1 è§†è§‰SLAMåå››è®²]]></title>
    <url>%2F2019%2F05%2F11%2FSLAM%2FSLAM_1_%E8%A7%86%E8%A7%89SLAM%E5%8D%81%E5%9B%9B%E8%AE%B2%2F</url>
    <content type="text"><![CDATA[SLAM_1 è§†è§‰SLAMåå››è®²ç¬¬äºŒè®²ï¼šåˆè¯†SLAM2.1 ç›¸æœºï¼š2.1.1 ç›¸æœºçš„æœ¬è´¨ï¼š ä»¥äºŒç»´æŠ•å½±å½¢å¼è®°å½•äº†ä¸‰ç»´ä¸–ç•Œçš„ä¿¡æ¯ æ­¤è¿‡ç¨‹ä¸¢æŽ‰äº†ä¸€ä¸ªç»´åº¦ï¼šè·ç¦» 2.1.2 å„ç±»ç›¸æœºä¸»è¦åŒºåˆ«ï¼šæœ‰æ²¡æœ‰æ·±åº¦ä¿¡æ¯ å•ç›®ï¼šæ²¡æœ‰æ·±åº¦ï¼Œå¿…é¡»é€šè¿‡ç§»åŠ¨ç›¸æœºäº§ç”Ÿæ·±åº¦ Moving View Stereo åŒç›®ï¼šé€šè¿‡è§†å·®è®¡ç®—æ·±åº¦Stereo RGBDï¼šé€šè¿‡ç‰©ç†æ–¹æ³•æµ‹é‡æ·±åº¦ æ·±åº¦ç›¸æœºï¼š ç‰©ç†æ‰‹æ®µæµ‹é‡æ·±åº¦ ç»“æž„å…‰ToF ä¸»åŠ¨æµ‹é‡ï¼ŒåŠŸè€—å¤§ æ·±åº¦å€¼è¾ƒå‡†ç¡® é‡ç¨‹è¾ƒå°ï¼Œæ˜“å—å¹²æ‰° å•ç›®ç›¸æœºè®¡ç®—é‡æ¯”è¾ƒå¤§ï¼Œéœ€è¦åˆå§‹åŒ–ã€‚å•å¼ å›¾åƒä¸å…·å¤‡å°ºåº¦ä¿¡æ¯ã€‚ 2.1.3 ç›¸æœºå…¬å…±ç‚¹ï¼š åˆ©ç”¨å›¾åƒå’Œåœºæ™¯çš„å‡ ä½•å…³ç³»ï¼Œè®¡ç®—ç›¸æœºè¿åŠ¨å’Œåœºæ™¯ç»“æž„Motion &amp; Structure ä¸‰ç»´ç©ºé—´çš„è¿åŠ¨å’Œç»“æž„ å›¾åƒæ¥è‡ªè¿žç»­çš„è§†é¢‘ ç¬¬ä¸‰è®² ï¼š ä¸‰ç»´ç©ºé—´åˆšä½“è¿åŠ¨å‘é‡ï¼š å†…ç§¯ã€å¤–ç§¯ Qï¼šåæ ‡ç³»ä¹‹é—´çš„è½¬æ¢ï¼Ÿ æ—‹è½¬çŸ©é˜µ 3.3ã€æ—‹è½¬å‘é‡ï¼Œæ¬§æ‹‰è§’Qï¼šè§’è½´æè¿°æ—‹è½¬ï¼Œå’Œæ—‹è½¬çŸ©é˜µçš„ç›¸äº’è½¬æ¢ï¼Ÿ æè¿°ä¸¤ä¸ªåæ ‡ç³»ä¹‹é—´çš„è½¬æ¢ï¼š æ—‹è½¬çŸ©é˜µ è§’è½´ æ¬§æ‹‰è§’ï¼ˆZ-Y-Xè½´åˆ†åˆ«è½¬å¤šå°‘åº¦ï¼‰å­˜åœ¨å¥‡å¼‚æ€§é—®é¢˜ 3.4ã€å››å…ƒæ•°eigenå¼€æºåº“ ç¬¬ä¸‰è®²è¯¾åŽä¹ é¢˜ ç¬¬å››è®²ï¼šæŽä»£æ•°å’ŒæŽç¾¤ç¬¬å››è®²è¯¾åŽä¹ é¢˜ é›…å¯æ¯”çŸ©é˜µ ç¬¬äº”è®²ï¼šç›¸æœºçš„æˆåƒç¬¬å…­è®²ï¼šéžçº¿æ€§ä¼˜åŒ–å…³äºŽå‡½æ•°çš„æ±‚å¯¼ï¼Ÿ ç¬¬ä¸ƒè®²ï¼šè§†è§‰é‡Œç¨‹è®¡å›¾åƒç‰¹å¾ç‚¹æ€§è´¨ï¼š å¯é‡å¤æ€§ å¯åŒºåˆ«æ€§ é«˜æ•ˆçŽ‡ æœ¬åœ°æ€§ ç‰¹å¾ç‚¹ç”±å…³é”®ç‚¹å’Œæè¿°å­ç»„æˆã€‚ FASTè§’ç‚¹æ£€æµ‹ ç°åº¦è´¨å¿ƒæ³• å¿«é€Ÿè¿‘ä¼¼æœ€è¿‘é‚»ï¼ˆFLANNï¼‰ RANSAC(éšæœºé‡‡æ ·ä¸€è‡´æ€§) ä¸‰è§’æµ‹é‡ 7.7 3D-2Dï¼š PnP7.7.1 ç›´æŽ¥çº¿æ€§å˜æ¢7.7.2 Bundle Adjustment7.9 3D-3Dï¼šICP7.9.1 SVDçŸ©é˜µçš„èŒƒæ•° ç¬¬å…«è®²ï¼šè§†è§‰é‡Œç¨‹è®¡ 2ç›´æŽ¥æ³•Lucas-Kanade å…‰æµ]]></content>
      <categories>
        <category>SLAM</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[SoftwareManagement_4 Risk management]]></title>
    <url>%2F2019%2F05%2F11%2FSoftwareManagement%2FManagement_4%2F</url>
    <content type="text"><![CDATA[SoftwareManagement_4 Risk managementrisk list]]></content>
      <categories>
        <category>SoftwareManagement</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Management_5 Software Economy]]></title>
    <url>%2F2019%2F05%2F11%2FSoftwareManagement%2FManagement_5%2F</url>
    <content type="text"><![CDATA[Management_5 Software Economy [ ] Exerciseï¼šexplain goods and services in software scope in â€œwhat, how, for whomâ€ [ ] Exercise: Economy as policy tool Q1: Goods are items that are tangible, such as pens, salt, apples, and hats. Services are activities provided by other people, who include doctors, lawn care workers, dentists, barbers, waiters, or online servers. Taken together, it is the production), distribution), and consumption) of goods and services which underpins all economic activity and trade. According to economic theory, consumption) of goods and services is assumed to provide utility (satisfaction) to the consumer or end-user, although businesses also consume goods and services in the course of producing other goods and services.#Channels_and_intermediaries) Difference: ownership intangibility Involvement quality evaluation of service inventories are absent time is very important in services]]></content>
      <categories>
        <category>SoftwareManagement</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Management_6]]></title>
    <url>%2F2019%2F05%2F11%2FSoftwareManagement%2FManagement_6%2F</url>
    <content type="text"><![CDATA[Management_6PreviewQuestions for thinking Referring the relationship of demand and supply, trying to think the law of software demand and supply. This exercises will be discussed in the next lessons. You should not submit this exercise to the teacher. Preview Chapter 2 Core Concepts and Principles Chapter 3 Why Platform Businesses Are Unlike Product or Service Businesses from the reference bookâ€œPlatform Ecosystems Aligning Architecture, Governance, and Strategy, written by Amrit Tiwana. Exercise Clicker Questions of Chapter Four, in the file Ch04_Clicker Questions. æˆæœ¬å’Œè´¹ç”¨]]></content>
      <categories>
        <category>SoftwareManagement</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ppt]]></title>
    <url>%2F2019%2F05%2F11%2FSoftwareManagement%2FMgtPro_1%2F</url>
    <content type="text"><![CDATA[pptto do: overviewï¼š ä¸»è¦åŠŸèƒ½ï¼Ÿåº”ç”¨é¢†åŸŸï¼Ÿ é¡¹ç›®èŒƒå›´ç®¡ç†ï¼š 1. Overview é¡¹ç›®æ¦‚è¿° å°†å†…å®¹æ‰©å……ï¼Œå› ä¸ºä¸€äº›ç»†èŠ‚æ²¡æœ‰å®šä¹‰å¥½ï¼Œæ¯”å¦‚è¯´ç³»ç»ŸåŠŸèƒ½æ²¡æœ‰é‚£ä¹ˆæ˜Žç¡®ï¼Œåº”ç”¨é¢†åŸŸä¹Ÿä¸æ˜Žç¡®ã€‚ 2. Inception è¿™éƒ¨åˆ†æˆ‘ä»¬çš„å·¥ä½œæ˜¯ï¼š ç¡®å®šåˆ©ç›Šç›¸å…³è€… -&gt; å‘åˆ©ç›Šç›¸å…³è€…æé—® -&gt; æ¯ä¸ªäººé˜è¿°è‡ªå·±è§‚ç‚¹ -&gt; ç¡®å®šé¡¹ç›®å†…å®¹ç­‰ å…¶ä¸­ç”¨åˆ°çš„æ–¹æ³•ï¼šRole play æé—®å¼ requirements gathering:Types:User requirement definition:System requirement specification:Constraints:method: Role-play Scenario-based (describe by use case diagram) homogeneous comparison (amazon, dangdang) 3. Elicitation è¿™éƒ¨åˆ†çš„å·¥ä½œï¼š åˆ©ç›Šç›¸å…³è€…æå–éœ€æ±‚ -&gt; å¼€ä¼šå®¡æŸ¥éœ€æ±‚ -&gt; ç¡®å®šéœ€æ±‚ -&gt; QFD -&gt; åˆæ­¥åœºæ™¯å»ºæ¨¡? -&gt; è§„çº¦è‰ç¨¿ é‡ç‚¹æ˜¯ï¼š åˆ©ç›Šç›¸å…³è€…çš„è§‚ç‚¹æå–æˆéœ€æ±‚ QFDQFD æ–¹æ³• FAQï¼š ä¸çŸ¥é“è¿™ä¸ªè¦ä¸è¦è€ƒè™‘ â€¢ Stages include: Requirements discovery, Requirements classification and organization, Requirements prioritization and negotiation, Requirements specification 4. Elaboration å¼€å‘ç”¨ä¾‹ -&gt; æž„å»ºåˆ†æžæ¨¡åž‹ ç”¨ä¾‹å›¾ï¼Ÿ 5. Negotiation è°ˆåˆ¤æ¡ä»¶(å¤šå°‘é’±å•Šæ€Žä¹ˆçš„) è¿™ä¸ªä¼°è®¡å°±æ˜¯åšåšæ ·å­ 6. Validation è¿™é‡Œæˆ‘ä»¬å¯ä»¥æŒ‘å‡ ä¸ªé—®é¢˜è®¨è®ºï¼Œç„¶åŽç»™å‡ºé—®é¢˜åŠç­”æ¡ˆ Method: Requirement reviews prototyping test-case generation 7.?managementTo 8? 7. æ–‡æ¡£å†…å®¹123graph LRA(Overview &amp; Inception) --&gt; B(Introduction)C(others) --&gt; D(Overall Descripption &amp; External Interface Requirements &amp; ...) é™„å›¾]]></content>
      <categories>
        <category>SoftwareManagement</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[MgtPro_3 requirement elicitation]]></title>
    <url>%2F2019%2F05%2F11%2FSoftwareManagement%2FMgtPro_3%2F</url>
    <content type="text"><![CDATA[MgtPro_3 requirement elicitationstep 3ï¼šprioritizationéœ€æ±‚æŽ’åºç»´åº¦æ¨¡åž‹ï¼š8ä¸ªç»´åº¦ æŽ’åºæ–¹æ³•ï¼šæ¯ä¸ªç»´åº¦ä¸º10åˆ†åˆ¶ï¼Œæœ€ç»ˆç»“æžœä¸ºåŠ æƒåŽæ±‚å¾—çš„è¯„ä¼°å€¼ã€‚æ¯ä¸ªç»´åº¦åº”æœ‰å¤šäººè¿›è¡Œæ‰“åˆ†éšåŽå–å¹³å‡å€¼ã€‚ 8ä¸ªç»´åº¦è¯´æ˜Žï¼š1. ç›®æ ‡å¥‘åˆåº¦ï¼ˆ20%ï¼‰ç›®æ ‡å¯¹éœ€æ±‚ä¼˜å…ˆçº§çš„å½±å“éžå¸¸å…³é”®ï¼Œå› ä¸ºç›®æ ‡ä½“çŽ°äº†éœ€æ±‚å®žçŽ°çš„æœ€ç»ˆä»·å€¼ã€‚æˆ‘ä»¬éœ€è¦ç»“åˆäº§å“å½“å‰é˜¶æ®µå’ŒRoadmapï¼Œè¿›è¡Œéœ€æ±‚å¥‘åˆç¨‹åº¦çš„åˆ¤æ–­ã€‚ 2. éœ€æ±‚ä»·å€¼ï¼ˆ10%ï¼‰ éœ€æ±‚ä»·å€¼åˆ†ä¸ºç”¨æˆ·ä»·å€¼ï¼Œå…¬å¸ä»·å€¼ä¸¤å—æ¥åˆ†æžï¼Œä½¿ç”¨å››è±¡é™æ³•è¿›è¡Œåˆ†æ•°æŒ‡æ ‡çš„ç¡®å®šã€‚åœ¨ä¸åŒçš„äº§å“ç±»åž‹ä¾§é‡çš„ä»·å€¼æ–¹å‘ä¸åŒï¼Œæ‰€ä»¥ç©¶ç«Ÿæ˜¯ç”¨æˆ·ä»·å€¼æ›´é‡è¦è¿˜æ˜¯å…¬å¸ä»·å€¼æ›´é‡è¦æ˜¯éœ€è¦é€šè¿‡è‡ªå·±åˆ¤æ–­çš„ã€‚ä½†å¦‚æžœä¸¤è€…éƒ½ä½“çŽ°äº†å¾ˆå¥½çš„ä»·å€¼ï¼Œé‚£ä¹ˆè¯„åˆ†è‡ªç„¶å¯ä»¥è¾ƒé«˜ã€‚ 3. Kanoæ¨¡åž‹ï¼ˆ10%ï¼‰ Kanoæ¨¡åž‹æ˜¯éžå¸¸ç»å…¸çš„åˆ¤æ–­æ¨¡åž‹ï¼ŒåŒ…å«åŸºæœ¬åž‹éœ€æ±‚&gt;æœŸæœ›åž‹éœ€æ±‚&gt;å…´å¥‹åž‹éœ€æ±‚ å®žé™…è¿ç”¨ä¸­éœ€è¦æ ¹æ®çŽ°æœ‰éœ€æ±‚çš„åˆ†å¸ƒæƒ…å†µè¿›è¡Œç»¼åˆåˆ¤æ–­ï¼Œæœ‰æ—¶æœŸæœ›å½¢çš„éœ€æ±‚å¯ä»¥æ¯”å¿…é¡»éœ€æ±‚æ›´é‡è¦ã€‚å› ä¸ºå¿…é¡»éœ€æ±‚ä¹Ÿè¦çœ‹ç”¨æˆ·ç¾¤èŒƒå›´ï¼Œå¦‚æžœå¿…é¡»éœ€æ±‚çš„ç”¨æˆ·ç¾¤å¹¶ä¸å¤§ï¼Œæˆ–è€…çŽ°æœ‰äº§å“é˜¶æ®µçš„å¿…é¡»éœ€æ±‚è¦†ç›–é¢å·²ç»è¾ƒå¹¿æ—¶ï¼ŒæœŸæœ›éœ€æ±‚è¯„åˆ†å¯ä»¥æ›´é«˜ã€‚ 4. é‡è¦ç´§æ€¥ç¨‹åº¦ï¼ˆ10%ï¼‰ é‡è¦ç´§æ€¥ç¨‹åº¦çš„åˆ†æžå¯ä»¥è¿ç”¨åœ¨ä¼—å¤šé¢†åŸŸï¼ŒåŒ…å«é‡è¦ä¸”ç´§æ€¥&gt;é‡è¦ä¸ç´§æ€¥&gt;ç´§æ€¥ä¸é‡è¦&gt;ä¸é‡è¦ä¹Ÿä¸ç´§æ€¥ã€‚æ¯”è¾ƒç®€å•ï¼Œä¸åšèµ˜è¿°ã€‚ 5. ROIæŠ•å…¥äº§å‡ºæ¯”ï¼ˆ20%ï¼‰æŠ•å…¥äº§å‡ºå»ºè®®å°†æŠ•å…¥åˆ†ä¸¤éƒ¨åˆ†è¿›è¡Œåˆ†æžï¼ŒæŠ•å…¥åŒ…å«äº§å“è®¾è®¡å’Œäº§å“å®žçŽ°ä¸¤ä¸ªé˜¶æ®µï¼Œè¿™ä¸¤ä¸ªé˜¶æ®µæœ‰æ—¶å¹¶ä¸ä¼šç­‰ä»·ã€‚äº§å‡ºä¹Ÿéœ€è¦è¿›è¡Œç»†è‡´åˆ†æžï¼Œå› ä¸ºé€šå¸¸è€Œè¨€ï¼Œäº§å‡ºå’Œæ—¶é—´çš„å…³ç³»éžå¸¸å¤§ï¼Œæœ‰äº›äº§å“çš„é•¿å°¾æ•ˆåº”éžå¸¸ä¸¥é‡ã€‚ 6. éœ€æ±‚æ¥æºï¼ˆ10%ï¼‰éœ€æ±‚æ¥æºä¹Ÿæ˜¯ä¸€ä¸ªå‚è€ƒç»´åº¦ï¼Œå› ä¸ºè°æçš„éœ€æ±‚å¯ä»¥ç”¨æ¥åˆ¤æ–­éœ€æ±‚çš„çœŸå®žåœºæ™¯å’Œç¼˜ç”±ã€‚å…¶ä¸­è€æ¿çš„éœ€æ±‚ï¼Œæˆ–è€…æ˜¯ç”¨æˆ·ç›´æŽ¥çš„è¢«éªŒçœŸçš„éœ€æ±‚æ˜¯æœ€é«˜åˆ†ï¼Œä½†ä¸€å®šæ˜¯è¦ç»è¿‡ç»†è‡´çš„éœ€æ±‚åˆ†æžï¼Œç¡®è®¤æ˜¯çœŸå®žéœ€æ±‚çš„éœ€æ±‚ã€‚å…¶ä½™åƒäº§å“è§„åˆ’ï¼Œç”¨æˆ·éžç›´æŽ¥éœ€æ±‚çš„åˆ†æ•°ç›¸å¯¹è¾ƒä½Žã€‚ 7. éœ€æ±‚ä¾èµ–ï¼ˆçº¦æŸï¼‰ï¼ˆ10%ï¼‰è¿™é‡Œçš„éœ€æ±‚ä¾èµ–ä¸»è¦æŒ‡çš„æ˜¯æœ¬éœ€è¦æ±‚æ˜¯å¦æ˜¯å…¶ä»–éœ€æ±‚çš„å‰ç½®éœ€æ±‚ï¼Œæˆ–åŽç½®éœ€æ±‚ã€‚è¿™ä½“çŽ°äº†å¼€å‘ä¸­çš„å‰åŽæŽ’æœŸå…³ç³»ï¼Œéžå¸¸é‡è¦ã€‚ä¸€èˆ¬åŒ…å«å‰ç½®éœ€æ±‚çš„ä¼˜å…ˆçº§ ï¼ž åŽç½®éœ€æ±‚çš„ä¼˜å…ˆçº§ï¼›å‰ç½®éœ€æ±‚çš„é‡è¦æ€§å’Œç´§è¿«æ€§ ï¼ž åŽç½®éœ€æ±‚çš„é‡è¦æ€§å’Œç´§è¿«æ€§ã€‚ 8. æŠ€æœ¯é£Žé™©ï¼ˆ10%ï¼‰å¼€å‘çš„éš¾åº¦ï¼Œå¯èƒ½å‡ºçŽ°çš„å¼€å‘é£Žé™©ç¨‹åº¦ã€‚æ³¨æ„å·¥æœŸè¿‡é•¿ï¼Œä¹Ÿä¼šå¯¼è‡´é£Žé™©å¢žåŠ ï¼Œæ‰€ä»¥åªè¦å¼€å‘ä¸Šçš„ä¸ç¡®å®šå› ç´ è¶Šå¤šï¼ˆå¦‚æœåŠ¡å™¨èµ„æºï¼Œå¼€æºç³»ç»Ÿæ€§èƒ½ç­‰ï¼‰ï¼Œæ­¤å€¼è¶Šä½Žã€‚ 8ä¸ªç»´åº¦å…·ä½“è¡¡é‡æ ‡å‡†åŠå®žé™…æ“ä½œæ–¹æ³•ï¼š1ã€ç›®æ ‡å¥‘åˆåº¦ï¼šé¦–å…ˆæ˜Žç¡®äº§å“çš„å®šä½å’Œå¸‚åœºçš„å®šä½ï¼ŒéšåŽç¡®å®šæ ¸å¿ƒè¦æ±‚ã€‚ 2ã€éœ€æ±‚ä»·å€¼ï¼šåŸºäºŽä¸¤ç‚¹ï¼š æ˜¯å¦æ˜¯æ ¸å¿ƒç”¨æˆ·çš„ï¼šäººæ•°*å•ç”¨æˆ·ä»·å€¼ æ˜¯å¦æ˜¯åˆšæ€§éœ€æ±‚ï¼š æœ‰æ— æ›¿ä»£æ–¹æ¡ˆ å‘ç”Ÿé¢‘çŽ‡ æŒç»­æ—¶é—´ 3ã€KANOæ¨¡åž‹ï¼š é€‰å–éœ€æ±‚å¹¶é€‰æ‹©é€‚åˆçš„ç”¨æˆ· ä¸Žç”¨æˆ·äº¤æµèŽ·å¾—åé¦ˆ åˆ†æžç»“æžœå¹¶è¿›è¡Œéœ€æ±‚æŽ’åº 4ã€é‡è¦ç´§æ€¥ç¨‹åº¦ï¼šé‡è¦ç¨‹åº¦è¯„åˆ¤çš„åŽŸåˆ™ï¼š 1 ä¸åšä¼šé€ æˆä¸¥é‡çš„é—®é¢˜å’Œæ¶åŠ£çš„å½±å“çš„ 2 åšäº†ä¼šäº§ç”Ÿå·¨å¤§å¥½å¤„å’Œæžä½³æ•ˆæžœçš„ 3 è·Ÿé‡è¦åˆä½œå¯¹è±¡æˆ–æŠ•èµ„äººæœ‰å…³çš„ 4 è·Ÿæ ¸å¿ƒç”¨æˆ·åˆ©ç›Šæœ‰å…³çš„ 5 è·Ÿå¤§éƒ¨åˆ†ç”¨æˆ·æƒç›Šæœ‰å…³çš„ 6 è·Ÿæ•ˆçŽ‡æˆ–æˆæœ¬æœ‰å…³çš„ 7 è·Ÿç”¨æˆ·ä½“éªŒæœ‰å…³çš„ åˆ¤æ–­ç´§æ€¥ç¨‹åº¦æŒ‰ç…§ä»¥ä¸‹åŽŸåˆ™ï¼š 1 ä¸åšé”™è¯¯ä¼šæŒç»­å‘ç”Ÿï¼Œé€ æˆä¸¥é‡å½±å“ 2 åœ¨ä¸€å®šæ—¶é—´å†…å¯æŽ§ï¼Œä½†é•¿æœŸä¼šæœ‰ç³Ÿç³•çš„å½±å“ 3 åšäº†ç«‹åˆ»èƒ½è§£å†³å¾ˆå¤šé—®é¢˜ã€äº§ç”Ÿæ­£é¢çš„å½±å“ 4 åšäº†åœ¨ä¸€æ®µæ—¶é—´åŽå¯ä»¥æœ‰è‰¯å¥½çš„æ•ˆæžœ 5ã€ROIæŠ•å…¥äº§å‡ºæ¯”ï¼šæŠ•å…¥äº§å‡ºæ¯”ä¸»è¦è€ƒé‡æ•ˆç›Šå’Œæˆæœ¬ã€‚æ•ˆç›Šå¯ä»¥åŒ…å«ç›´æŽ¥æ”¶å…¥ï¼Œè¿è¥æ•ˆçŽ‡åŠæŽ¨å¹¿æˆæœ¬ï¼Œç”¨æˆ·çš„æ•ˆç›Šç­‰ã€‚æˆæœ¬ä¸»è¦æ˜¯äººåŠ›æˆæœ¬ã€æ—¶é—´æˆæœ¬å’Œé‡‘é’±æˆæœ¬ç­‰ã€‚æ½œåœ¨é£Žé™©æœ‰æ—¶å€™ä¹Ÿæ˜¯æœªæ¥çš„ä¸€ç§æˆæœ¬ã€‚è¾ƒå°çš„æˆæœ¬èŽ·å–è¾ƒé«˜æ”¶ç›Šçš„éœ€æ±‚ä¸€èˆ¬ä¼˜å…ˆçº§è¾ƒé«˜ã€‚ 6ã€éœ€æ±‚æ¥æºï¼šéœ€æ±‚çš„ä¸»è¦å‚ä¸Žè€… 7ã€éœ€æ±‚ä¾èµ–ï¼šç”¨ä¾‹è¯´æ˜Žä¸­ï¼Œè‹¥è¯¥ç”¨ä¾‹å­˜åœ¨å‰ç½®éœ€æ±‚ï¼Œåˆ™å‰ç½®éœ€æ±‚çš„ä¼˜å…ˆçº§åº”é«˜äºŽåŽç½®éœ€æ±‚çš„ä¼˜å…ˆçº§ã€‚ 8ã€æŠ€æœ¯é£Žé™©ï¼šåº”ç”±æŠ€æœ¯éƒ¨é—¨ç»™å‡ºè¯¥éƒ¨åˆ†çš„è¯„ä¼°ï¼Œå¯æ ¹æ®ä»¥ä¸‹ä¿¡æ¯ï¼š è¿™ä¸ªåŠŸèƒ½å’±ä»¬èƒ½ä¸èƒ½å®žçŽ°ï¼Ÿ èƒ½å®žçŽ°çš„è¯ï¼Œéœ€è¦å¤šå°‘äººå¤šé•¿æ—¶é—´ï¼Ÿ æœ‰æ²¡æœ‰å…¶ä»–å®žçŽ°çš„å»ºè®®æˆ–è€…æ–¹æ¡ˆï¼Ÿ å‚è€ƒï¼š éœ€æ±‚ä¼˜å…ˆçº§æŽ’å®šçš„å…«ä¸ªç»´åº¦ KANOæ¨¡åž‹ ç½‘ä¸Šä¹¦åº—è¡Œä¸šå¸‚åœºè°ƒæŸ¥åˆ†æžæŠ¥å‘Š å››è±¡é™æ³•åˆ™ step 4ï¼šspecificationå…¶å®žæˆ‘æ„Ÿè§‰å°±æ˜¯å…·ä½“çš„æ–‡æ¡£è¯´æ˜Žï¼Œäº§å‡ºä¸ºéœ€æ±‚åˆ†æžæ–‡æ¡£ è½¯ä»¶åŠŸèƒ½ï¼šä½¿ç”¨ç”¨ä¾‹å›¾ä»¥åŠç”¨ä¾‹è¯´æ˜Žæ¥å±•ç¤º è½¯ä»¶å¤–éƒ¨æŽ¥å£è¯´æ˜Ž è½¯ä»¶æ€§èƒ½è¯´æ˜Ž è½¯ä»¶å±žæ€§è¯´æ˜Ž æ˜¯å¦æœ‰ä½¿ç”¨æ ‡å‡†ã€ç¼–ç¨‹è¯­è¨€ã€æ•°æ®åº“å®Œæ•´æ€§æ–¹é’ˆã€èµ„æºé™åˆ¶ã€è¿è¡ŒçŽ¯å¢ƒæ–¹é¢çš„è¦æ±‚ å‚è€ƒçš„SRSæ–‡æ¡£ç»“æž„ part 2ï¼švalidation review prototyping test-case]]></content>
      <categories>
        <category>SoftwareManagement</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[MgtPro_2 requirement gathering]]></title>
    <url>%2F2019%2F05%2F11%2FSoftwareManagement%2FMgtPro_2%2F</url>
    <content type="text"><![CDATA[MgtPro_2 requirement gatheringby role-play 1ã€role-play game1.1ã€é¡¹ç›®ç»ç†ï¼š éžåŠŸèƒ½æ€§éœ€æ±‚ 1.2ã€ç®¡ç†å‘˜ï¼š ä¸‹æž¶å•†å“ æ¶ˆæ¯æé†’ æŸ¥çœ‹é”€é‡ï¼ˆåªèƒ½æŸ¥è¯¢ä»Žè¯¥å‡ºç‰ˆç¤¾è¿›å£çš„ä¹¦ç±çš„é”€é‡ è°ƒæ•´è¿›ä»· 1.3ã€å®¢æœï¼š æ›´æ”¹è®¢å•çš„ä¸€å®šå†…å®¹ï¼ˆä¾‹å¦‚æ”¶è´§åœ°å€ æŸ¥è¯¢è®¢å•ä¿¡æ¯ ä¸¾æŠ¥ è½¬æŽ¥å¦ä¸€ä¸ªå®¢æœ å’Œä¹°å®¶æ²Ÿé€š è‡ªåŠ¨å›žå¤ 1.4ã€ç”¨æˆ·ï¼š æŸ¥è¯¢ä¹¦ è´­ç‰©è½¦ æ”¶è—ä¹¦ æŽ¨èä¹¦ è®¢å•ç”Ÿæˆã€ä¿®æ”¹ã€æŸ¥è¯¢ã€åˆ é™¤ã€ç»Ÿè®¡ é€€æ¢è´§ æœç´¢ä¹¦ æ¶ˆæ¯æé†’ ç‰©æµè·Ÿè¸ª æ”¯ä»˜ è·Ÿå®¢æœäº¤æµã€æŠ•è¯‰ é’ˆå¯¹è®¢å•çš„è¯„ä»· 2ã€scenario-based2.1ã€åŠŸèƒ½æ€§éœ€æ±‚ å›¾ä¹¦ç³»ç»Ÿ å›¾ä¹¦ä¿¡æ¯ç®¡ç† ä¹¦ç±ä¸Šæž¶/ä¸‹æž¶ ä¹¦ç±ä¿¡æ¯ä¿®æ”¹ ä¹¦ç±æŸ¥è¯¢(æ‰€æœ‰çš„è®¢å•çš„ä¿¡æ¯) åº“å­˜ç®¡ç† å¢ž/å‡ æŸ¥è¯¢ è®¢å•ç³»ç»Ÿ äº¤æ˜“æ¨¡å— æ”¯ä»˜(å¾®ä¿¡ã€æ”¯ä»˜å®ã€ç½‘é“¶) è®¡ç®—ä»·æ ¼ è®¢å•ç®¡ç†æ¨¡å— è®¢å•åˆ›å»º è®¢å•ä¿®æ”¹ å–æ¶ˆè®¢å• è®¢å•æŸ¥è¯¢ æœåŠ¡ç³»ç»Ÿ é”€å”®æœåŠ¡ å®¢æœå’Œç”¨æˆ·æ²Ÿé€š ç‰©æµè·Ÿè¸ª é€€æ¢è´§ æŠ•è¯‰ ä¹¦ç±æœåŠ¡ æŽ¨è æ”¶è— è¯„è®º ä¸¾æŠ¥ æ¶ˆæ¯é€šçŸ¥ å‡ºç‰ˆç¤¾é€šçŸ¥ ç”¨æˆ·é€šçŸ¥ ç®¡ç†å‘˜é€šçŸ¥ ç»Ÿè®¡åˆ†æžç³»ç»Ÿ é”€é‡ ä¹¦ç±åˆ†æž ç”¨æˆ·ç³»ç»Ÿ ç®¡ç†å‘˜ è¶…çº§ç®¡ç†å‘˜ å°ç¦ç”¨æˆ· ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯ åˆ é™¤è¯„è®º å®¢æœ(è®¢å•ç®¡ç†å‘˜) å›¾ä¹¦ç®¡ç†å‘˜ æ™®é€šç”¨æˆ· è´­ç‰©è½¦ æ·»åŠ ä¹¦ åˆ é™¤ä¹¦ ä¸ªäººä¿¡æ¯ç®¡ç† 2.2ã€éžåŠŸèƒ½æ€§éœ€æ±‚ æ€§èƒ½ å“åº”æ—¶é—´ åžåé‡ å¹¶å‘ç”¨æˆ·æ•° å®‰å…¨æ€§ ç½‘ç«™å®‰å…¨ äº¤æ˜“/èµ„é‡‘å®‰å…¨ æ•°æ®å®‰å…¨ ç”¨æˆ·ä¿¡æ¯å®‰å…¨ å¯é æ€§ å¤±æ•ˆçŽ‡ å¥å£®æ€§ ç³»ç»Ÿå¤±æ•ˆåŽæ¢å¤æ—¶é—´ æ•°æ®å‡ºé”™çŽ‡ æ˜“ä½¿ç”¨æ€§ æ˜“ç†è§£æ€§ æ˜“æ“ä½œæ€§ æ˜“å­¦ä¹ æ€§ å¯ç»´æŠ¤æ€§ æ˜“åˆ†æžæ€§ å·²æµ‹è¯•æ€§ å¯ç§»æ¤æ€§ é€‚åº”çš„å¹³å°æ•° å¯å¤ç”¨æ¿å—æ¯”çŽ‡ å¯é‡ç”¨æ€§ å¯å¤ç”¨çŽ‡ å¯æ¢å¤æ€§ ç³»ç»Ÿå¤±æ•ˆåŽèƒ½å¦è‡ªåŠ¨ä¿®å¤ çº¦æŸ æˆæœ¬ ç¡¬ä»¶çŽ¯å¢ƒã€è½¯ä»¶çŽ¯å¢ƒ å•†ä¸šè§„åˆ™ å¼€å‘æ—¶é—´ æ³•å¾‹ èµ„æº]]></content>
      <categories>
        <category>SoftwareManagement</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[SRS part2]]></title>
    <url>%2F2019%2F05%2F11%2FSoftwareManagement%2FMgtPro_4_SRS_part2%2F</url>
    <content type="text"><![CDATA[SRS part22. Overall DescriptionThis section of the SRS gives an overview description of the general factors that affectthe product and its requirements. This section does not state specific requirements.Instead, it provides a background for those requirements. 2.1 Product Perspective\ äº§å“ä¸Šä¸‹æ–‡å…³è”ï¼ˆæ˜¯å¦æ˜¯äº§å“ç³»åˆ—çš„åŽç»­æˆå‘˜etc Online bookstore system is a new, web-based product design to provide online bookselling. While the web-based application is the main focus of the project, there is also a server- side component which will be responsible for database and synchronization services. And there should be a client-side smart phone application to provide necessary working information to drivers. The scope of the project encompasses both server- and client- side functionalities. The diagram shown above demonstrates the interactions between the user and the system, including the system structure. 2.2 Product Functions\ äº§å“çš„ä¸»è¦åŠŸèƒ½ï¼ˆè¯¦ç»†è¯´æ˜Žåœ¨åŽé¢ï¼‰ å¯ç”¨ç±»å›¾è¯´æ˜Ž å›¾ä¹¦ç³»ç»Ÿ å›¾ä¹¦ä¿¡æ¯ç®¡ç† ä¹¦ç±ä¸Šæž¶/ä¸‹æž¶ï¼šå›¾ä¹¦ç®¡ç†å‘˜å¯ä»¥ä¸Šæž¶ä¸‹æž¶ä¹¦ç±ï¼Œä¹¦ç±ä¸‹æž¶åŽï¼Œå®¢æˆ·æ— æ³•è´­ä¹°è¯¥ä¹¦ç±ã€‚ ä¹¦ç±ä¿¡æ¯ä¿®æ”¹ï¼šå›¾ä¹¦ç®¡ç†å‘˜å¯æ›´æ”¹æŸæœ¬ä¹¦ç±çš„å…·ä½“ä¿¡æ¯ï¼Œå¦‚ä¹¦çš„ä»·æ ¼ã€æ ‡ç­¾ã€æ‰“æŠ˜ä¿¡æ¯ã€ä¿ƒé”€ä¿¡æ¯ã€ä¹¦çš„ç®€ä»‹ç­‰ ä¹¦ç±æŸ¥è¯¢ï¼šç³»ç»Ÿæ‰€æœ‰ç”¨æˆ·å‡å¯æŸ¥æ‰¾ä¹¦ç±çš„ç›¸å…³ä¿¡æ¯ åº“å­˜ç®¡ç† å¢ž/å‡ï¼šã€ï¼Ÿä»“åº“ç®¡ç†å‘˜ã€‘å¯ä»¥å¢žåŠ å‡å°‘æŸæœ¬ä¹¦çš„ä»“åº“å®¹é‡ æŸ¥è¯¢ï¼šã€ï¼Ÿä»“åº“ç®¡ç†å‘˜ã€‘å¯ä»¥æŸ¥è¯¢ä¹¦ç±çš„ä»“åº“å®¹é‡ è®¢å•ç³»ç»Ÿ äº¤æ˜“æ¨¡å— æ”¯ä»˜(å¾®ä¿¡ã€æ”¯ä»˜å®ã€ç½‘é“¶)ï¼šcustomers would pay by credit card, Alipay, or WeChat. è®¡ç®—ä»·æ ¼ï¼šThe system must calculate taxes and delivery fee as well as applying discounts to the sale when applicable. è®¢å•ç®¡ç†æ¨¡å— è®¢å•åˆ›å»ºï¼šå®¢æˆ·å¯é€šè¿‡ç³»ç»Ÿå¯ä»¥åˆ›å»ºè®¢å• è®¢å•ä¿®æ”¹ï¼šå®¢æœå¯é€šè¿‡ç³»ç»Ÿä¿®æ”¹è®¢å•çš„éƒ¨åˆ†ä¿¡æ¯ï¼ˆå¦‚è®¢å•çš„æ”¶è´§åœ°å€ å–æ¶ˆè®¢å•ï¼šåœ¨ä¹¦ç±æœªå‘è´§å‰ï¼Œå®¢æˆ·å¯é€šè¿‡ç³»ç»Ÿå–æ¶ˆè‡ªèº«çš„è®¢å• è®¢å•æŸ¥è¯¢ï¼š å®¢æˆ·å¯é€šè¿‡ç³»ç»ŸæŸ¥è¯¢è‡ªèº«äº§ç”Ÿçš„è®¢å•çŠ¶æ€ å®¢æœå¯é€šè¿‡ç³»ç»ŸæŸ¥è¯¢è‡ªå·±æ‰€è´Ÿè´£åŒºåŸŸçš„å®¢æˆ·æ‰€äº§ç”Ÿçš„æ‰€æœ‰è®¢å• æœåŠ¡ç³»ç»Ÿ é”€å”®æœåŠ¡ å®¢æœå’Œç”¨æˆ·æ²Ÿé€šï¼šå®¢æœå¯ä¸Žå®¢æˆ·æ²Ÿé€šï¼Œå¸®åŠ©å®¢æˆ·è´­ä¹°åˆ°æƒ³è¦çš„ä¹¦ç± ç‰©æµè·Ÿè¸ªï¼šç³»ç»Ÿæä¾›æ¯ä¸ªè®¢å•çš„ç‰©æµçŠ¶å†µ é€€æ¢è´§ï¼šç³»ç»Ÿæ”¯æŒå®¢æˆ·é€€æ¢è´­ä¹°çš„ä¹¦ç± æŠ•è¯‰ï¼šç³»ç»Ÿæ”¯æŒå®¢æˆ·æŠ•è¯‰å®¢æœçš„æœåŠ¡æ€åº¦ ä¹¦ç±æœåŠ¡ æŽ¨èï¼šç³»ç»Ÿæä¾›æŽ¨èä¹¦å•ï¼Œå¦‚å¹´åº¦æ¦œå•ã€æœ¬æœˆ/æœ¬å­£åº¦æœ€çƒ­é”€ä¹¦ç± æ”¶è—ï¼šå®¢æˆ·å¯å°†ä¹¦ç±æ·»åŠ åˆ°è‡ªå·±çš„æ”¶è—ä¹¦å•å†… è¯„è®ºï¼šå®¢æˆ·å¯å¯¹æŸæœ¬ä¹¦ç±ç¼–å†™ä¹¦è¯„ ä¸¾æŠ¥ï¼šå®¢æˆ·å¯ä¸¾æŠ¥ä¹¦ç± æ¶ˆæ¯é€šçŸ¥ å‡ºç‰ˆç¤¾é€šçŸ¥ï¼šå½“æŸæœ¬ä¹¦çš„åº“å­˜åˆ°è¾¾æŸä¸€é˜ˆå€¼æ—¶ï¼Œç³»ç»Ÿå°†ä¼šç»™å‡ºç‰ˆç¤¾å‘é€è¿›è´§é€šçŸ¥ ç”¨æˆ·é€šçŸ¥ï¼š ç³»ç»Ÿå‘é€æµç¨‹ä¿¡æ¯æç¤ºï¼ˆå¦‚ç™»é™†æˆåŠŸã€è®¢å•åˆ›å»ºæˆåŠŸ è‹¥ä¹¦ç±ç¼ºè´§ï¼Œç³»ç»Ÿåº”å‘é€ç¼ºè´§æé†’å¹¶ç»™å‡ºç¡®åˆ‡çš„deadlineï¼Œa compatible deadline is informed to the customer. ç®¡ç†å‘˜é€šçŸ¥ï¼šï¼Ÿ ç»Ÿè®¡åˆ†æžç³»ç»Ÿ é”€é‡ï¼šThe system must allow a manager to generate reports on bestselling books, and on most profitable customers ä¹¦ç±åˆ†æžï¼š ç”¨æˆ·ç³»ç»Ÿ ç®¡ç†å‘˜ è¶…çº§ç®¡ç†å‘˜ å°ç¦ç”¨æˆ·ï¼šè¶…çº§ç®¡ç†å‘˜å¯ä»¥å°ç¦æ™®é€šç”¨æˆ·è´¦å· ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯ï¼šè¶…çº§ç®¡ç†å‘˜å¯ä»¥ä¿®æ”¹æ™®é€šç”¨æˆ·ä¿¡æ¯ åˆ é™¤è¯„è®ºï¼šè¶…çº§ç®¡ç†å‘˜å¯ä»¥åˆ é™¤å«æ•æ„Ÿä¿¡æ¯çš„æˆ–ä¸é€‚å®œçš„ä¹¦ç±è¯„è®º å®¢æœ(è®¢å•ç®¡ç†å‘˜) å›¾ä¹¦ç®¡ç†å‘˜ æ™®é€šç”¨æˆ· è´­ç‰©è½¦ æ·»åŠ ä¹¦ï¼š åˆ é™¤ä¹¦ ä¸ªäººä¿¡æ¯ç®¡ç†ï¼šä¿®æ”¹ä¸ªäººåŸºæœ¬ä¿¡æ¯ After requirement classification, we got some subsystems mainly based on the entity that function is related to. Details of functions that each subsystem implements are listed as follows. Book system Book Information Management Books on shelves / off shelves: Librarians can put books on the shelves. If a book is off shelves, customers could not buy the book via the system. Book information modification: The librarian can change the specific information of a book, such as book price, label, discount information, promotion information, book introduction, etc. Book search: All users of the system can find information about books. Inventory management Increase/decrease: [? Warehouse administrator] can increase the warehouse capacity of a book Inquire:ã€? Warehouse administrator] can query the warehouse capacity of books Order System Trading module Payment (WeChat, Alipay, online banking): customers would pay by credit card, Alipay, or WeChat. The system must calculate taxes and delivery fee as well as applying discounts to the sale when applicable. Order Management Module Order creation: Customers can create orders through the system Order modification: Customer service can modify part of the order information through the system (such as the order receipt address) Cancellation of orders: Customers can cancel their orders through the system before the books are shipped. Order Tracking: Customers can check the status of their own orders through the system Customer service can query all orders generated from the area where customers work in through the system service system Sales service Customer service and user communication: Customer service can communicate with customers to help customers purchase the books they want. Logistics tracking: the system provides the logistics status of each order Return and exchange: the system supports customers to return or exchange the purchased books Complaint: System support customer complaints Customer service attitude Book service Recommendation: The system provides a list of book recommendations, such as the annual list, the best selled books during this month / this quarter Collection: Customers can add books to their collections Comments: Customers can write a book review of a book Report: Customers can report a book if the book has some sensitive content. notification Publisher notice: When the inventory of a book reaches a certain threshold, the system will send a delivery notice to the publisher. User notification: The system sends a process information prompt (if the login is successful, the order is created successfully) If the book is out of stock, the system should send a stockout reminder and a compatible deadline is informed to the customer. Administrator notification:? Statistical Analysis System Sales: The system must allow a manager to generate reports on bestselling books, and on most profitable customers ï¼Ÿ Book analysis: ï¼Ÿ User system Administrator Super administrator Blocked users: Super administrators can block ordinary user accounts Modify user information: Super administrator can modify common user information Delete comments: Super administrators can delete book comments with sensitive information or inappropriate content. Customer Service (Order Administrator) ? librarian ? general user shopping cart Add a book: customers can add books to their shopping cart delete the book: customers can delete books from their shopping cart. Personal Information Management: Customers can modifying personal basic information through the system. 2.2.2 Features The system should run on an internet-based environment. The system is a web-service-based application. The system should have a centralized database. The system should have authentication functionality. The system should be scalable and extendable, e.g. extend Mobile APP. The system should have reasonable external interface, e.g. add new interface for PayPal. The system should have a user-friendly UI and be easy to use. The driver should be able to download his working schedule, see the routes, and commit the work when he is done via his smart phone. 2.3 User Classes and Characteristics\ ç”¨æˆ·ç±» ç”¨æˆ·ç‰¹å¾ ç”¨æˆ·ï¼š å®¢æˆ·ï¼šå¯ä»¥æŸ¥è¯¢ä¹¦ç±ä¿¡æ¯ï¼Œè´­ä¹°ä¹¦ç± ä»“åº“ç®¡ç†å‘˜ï¼šå¯æŸ¥è¯¢ä¹¦ç±çš„åº“å­˜ä¿¡æ¯ï¼Œæ›´æ”¹ä¹¦ç±çš„åº“å­˜ä¿¡æ¯ è¶…çº§ç®¡ç†å‘˜ï¼šå¯ä»¥ä¿®æ”¹ç”¨æˆ· å®¢æœï¼šå¯ä»¥ä¸Žç”¨æˆ·æ²Ÿé€šï¼Œä¿®æ”¹è®¢å•çš„éƒ¨åˆ†ä¿¡æ¯ Customer can inquiry the information of book through the system without any particular prerequisite. But customer must log in the system before buying books, query orders or return book. Warehouse administrator can query the inventory information of books and change the inventory information of books Super administrator take charge of the common users and book reviews in the system. They can block the common users, modify user information and delete inappropriate book review. Customer service can communicate with users and modify part of the order information. 2.4 Operating Environment\ æ“ä½œçŽ¯å¢ƒï¼šç¡¬ä»¶å¹³å°ã€æ“ä½œç³»ç»Ÿã€ç‰ˆæœ¬ 2.5 Design and Implementation Constraints\&lt;Describe any items or issues that will limit the options available to the developers. These might include: corporate or regulatory policies; hardware limitations (timing requirements, memory requirements); interfaces to other applications; specific technologies, tools, and databases to be used; parallel operations; language requirements; communications protocols; security considerations; design conventions or programming standards (for example, if the customerâ€™s organization will be responsible for maintaining the delivered software).> é¡¹ç›®è®¾è®¡å’Œå®žçŽ°çº¦æŸ 2.6 User Documentation\ ç”¨æˆ·æ‰‹å†Œ 2.7 Assumptions and Dependencies\ å‡è®¾å’Œä¾èµ–ï¼Œå¯èƒ½ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹ç»„ä»¶]]></content>
      <categories>
        <category>SoftwareManagement</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[MgtPro_5]]></title>
    <url>%2F2019%2F05%2F11%2FSoftwareManagement%2FMgtPro_5%2F</url>
    <content type="text"><![CDATA[MgtPro_51. risk identification1.1 DiagrammingEquipment è®¾å¤‡æœªåˆ°ä½ï¼ˆç¼ºå¤±ã€ä¸è¶³ è®¾å¤‡å› ä¸å¯å‘å› ç´ æŸå ProcessPeopleMaterialsEnvironment æ–°çš„å¼€å‘å·¥å…·å­¦ä¹ æœŸæ¯”é¢„æœŸé•¿ å¼€å‘å·¥å…·ä¸å¦‚æœŸæœ›çš„é‚£æ ·æœ‰æ•ˆï¼Œå¼€å‘äººå‘˜éœ€è¦æ—¶é—´åˆ›å»ºå·¥ä½œçŽ¯å¢ƒæˆ–è€…åˆ‡æ¢æ–°çš„å·¥å…·ï¼› Management Type Possible risk Technology People Organizational Tools Requirements Estimation 1.2 type-basedTechnology ç³»ç»Ÿæž¶æž„ä¸åˆç† å¯å¤ç”¨ç»„ä»¶ä¸é€‚ç”¨ æ•°æ®åº“ å¯¹äºŽå¹¶å‘æ€§çš„æ”¯æŒ äº‹ä»¶çš„å››å¤§ç‰¹æ€§ï¼ˆä¸€è‡´æ€§ã€æŒä¹…æ€§ã€åŽŸå­æ€§ã€éš”ç¦»æ€§ï¼‰ æ•°æ®åº“æ•°æ®ä¸¢å¤±ï¼ˆ æ•°æ®åº“æ•°æ®å®‰å…¨ï¼ˆæ¶æ„æ”»å‡»ï¼Œæ¶æ„å…¥ä¾µæ•°æ®åº“ï¼Œå¤‡ä»½æ•°æ®çš„ä¿æŠ¤ æœåŠ¡å™¨ è®¾å¤‡å¤±æ•ˆï¼Œå®•æœº è®¾è®¡è´¨é‡ä½Žä¸‹ï¼Œå¯¼è‡´é‡å¤è®¾è®¡ï¼› ä¸€äº›å¿…è¦çš„åŠŸèƒ½æ— æ³•ä½¿ç”¨çŽ°æœ‰çš„ä»£ç å’Œåº“å®žçŽ°ï¼Œå¼€å‘äººå‘˜å¿…é¡»ä½¿ç”¨æ–°çš„åº“æˆ–è€…è‡ªè¡Œå¼€å‘æ–°çš„åŠŸèƒ½ï¼› ä»£ç å’Œåº“è´¨é‡ä½Žä¸‹ï¼Œå¯¼è‡´éœ€è¦è¿›è¡Œé¢å¤–çš„æµ‹è¯•ï¼Œä¿®æ­£é”™è¯¯ï¼Œæˆ–é‡æ–°åˆ¶ä½œï¼› è¿‡é«˜ä¼°è®¡äº†å¢žå¼ºåž‹å·¥å…·å¯¹è®¡åˆ’è¿›åº¦çš„èŠ‚çœé‡ï¼› åˆ†åˆ«å¼€å‘çš„æ¨¡å—æ— æ³•æœ‰æ•ˆé›†æˆï¼Œéœ€è¦é‡æ–°è®¾è®¡æˆ–åˆ¶ä½œã€‚ People äººå‘˜çš„å˜æ›´ï¼šäººå‘˜è¾žèŒï¼ˆåº•å±‚ç¨‹åºå‘˜ã€ç®¡ç†å±‚äººå‘˜ï¼‰ï¼Œå…³é”®äººå‘˜å› ä¸å¯æŠ—å› ç´ æ²¡åŠžæ³•å·¥ä½œï¼Œæ–°çš„äººå‘˜çš„åŠ å…¥ äººå‘˜æŠ€æœ¯æ°´å¹³ä¸å¤Ÿ äººå‘˜åŸ¹è®­æ•ˆæžœä¸è¶³ äººå‘˜æ¶ˆæžæ€ å·¥ äººå‘˜ä¹‹é—´æ²Ÿé€šä¸è¶³å¼•å‘å†²çªï¼Œå¯¼è‡´å·¥ä½œå› æ²Ÿé€šä¸å¤Ÿå‡ºçŽ°é”™è¯¯æˆ–é¢å¤–çš„é‡å¤å·¥ä½œ Organizational åˆ†å·¥ä¸åˆç†ï¼ˆå·¥ä½œéš¾åº¦åˆ†é…ä¸åˆç†ã€å·¥ä½œç§ç±»åˆ†å·¥ä¸åˆç†ï¼‰ è¿è½¬èµ„é‡‘ä¸è¶³ ä»…ç”±ç®¡ç†å±‚æˆ–å¸‚åœºäººå‘˜è¿›è¡ŒæŠ€æœ¯å†³ç­–ï¼Œå¯¼è‡´è®¡åˆ’è¿›åº¦ç¼“æ…¢ï¼Œè®¡åˆ’æ—¶é—´å»¶é•¿ï¼› ä½Žæ•ˆçš„é¡¹ç›®ç»„ç»“æž„é™ä½Žç”Ÿäº§çŽ‡ï¼› ç®¡ç†å±‚å®¡æŸ¥ å†³ç­–çš„å‘¨æœŸæ¯”é¢„æœŸçš„æ—¶é—´é•¿ï¼› é¢„ç®—å‰Šå‡ï¼Œæ‰“ä¹±é¡¹ç›®è®¡åˆ’ï¼› ç¼ºä¹å¿…è¦çš„è§„èŒƒï¼Œå¯¼è‡´å·¥ä½œå¤±è¯¯ä¸Žé‡å¤å·¥ä½œï¼› éžæŠ€æœ¯çš„ç¬¬ä¸‰æ–¹çš„å·¥ä½œ(é¢„ç®—æ‰¹å‡†ã€è®¾å¤‡é‡‡è´­æ‰¹å‡†ã€æ³•å¾‹æ–¹é¢çš„å®¡æŸ¥ã€å®‰å…¨ä¿è¯ç­‰)æ—¶é—´æ¯”é¢„æœŸçš„å»¶é•¿ã€‚ Tools ä»£ç ç”Ÿæˆå¤±è¯¯ å·¥å…·ä¸å…¼å®¹ æºç ä¸¢å¤± Requirements éœ€æ±‚å·²ç»æˆä¸ºé¡¹ç›®åŸºå‡†ï¼Œä½†éœ€æ±‚è¿˜åœ¨ç»§ç»­å˜åŒ–ï¼› éœ€æ±‚å®šä¹‰æ¬ ä½³ï¼Œè€Œè¿›ä¸€æ­¥çš„å®šä¹‰ä¼šæ‰©å±•é¡¹ç›®èŒƒç•´ï¼› äº§å“å®šä¹‰å«æ··çš„éƒ¨åˆ†æ¯”é¢„æœŸéœ€è¦æ›´å¤šçš„æ—¶é—´ï¼› åœ¨åšéœ€æ±‚ä¸­å®¢æˆ·å‚ä¸Žä¸å¤Ÿ Estimation å·¥ä½œé‡å·¥ä½œæ—¶é—´å·¥ä½œè¿›åº¦é¢„ä¼°é”™è¯¯ ä½Žä¼°è½¯ä»¶è§„æ¨¡ ä½Žä¼°ç¼ºé™·ä¿®å¤çŽ‡ 1.3 Brainstormå®¢æˆ·é£Žé™©ï¼š å®¢æˆ·å¯¹äºŽäº¤ä»˜çš„äº§å“ä¸æ»¡æ„ scope riskï¼š äº§å“è·¨é¢†åŸŸ 1.4 Document reviewéžåŠŸèƒ½éœ€æ±‚æ³•å¾‹ï¼š æŸäº›åœ°åŒºæœ‰ç‰¹å®šçš„æ³•å¾‹æ³•è§„ï¼Œç³»ç»Ÿéœ€è¦æ ¹æ®æ‰€åœ¨åœ°åŒºè¿›è¡Œè°ƒæ•´ 2. classificationRBS 2.1 External Unpredictable è®¾å¤‡é£Žé™© Natural Hazardsï¼ˆè®¾å¤‡å› ä¸å¯å‘å› ç´ æŸå è®¾å¤‡æœªåˆ°ä½ éžæŠ€æœ¯çš„ç¬¬ä¸‰æ–¹çš„å·¥ä½œ(é¢„ç®—æ‰¹å‡†ã€è®¾å¤‡é‡‡è´­æ‰¹å‡†ã€æ³•å¾‹æ–¹é¢çš„å®¡æŸ¥ã€å®‰å…¨ä¿è¯ç­‰)æ—¶é—´æ¯”é¢„æœŸçš„å»¶é•¿ã€‚ 2.2 Externel Predictable market riskï¼š è½¯ä»¶åŠŸèƒ½ä¸ç¬¦åˆå¸‚åœºéœ€æ±‚ï¼ŒæŠ•å…¥å¸‚åœºåŽåæ˜ æƒ¨æ·¡ è¡Œä¸šç«žäº‰ è¿è¥é£Žé™©ï¼š ç»è¥æˆæœ¬ä¸Šå‡ï¼Œå®£ä¼ æˆæœ¬ï¼Œäººå‘˜æˆæœ¬ä¸Šå‡ é€šè´§è†¨èƒ€ æ±‡çŽ‡ 2.3 Internal Non-technical Environment æ–°çš„å¼€å‘å·¥å…·å­¦ä¹ æœŸæ¯”é¢„æœŸé•¿ å¼€å‘å·¥å…·ä¸å¦‚æœŸæœ›çš„é‚£æ ·æœ‰æ•ˆï¼Œå¼€å‘äººå‘˜éœ€è¦æ—¶é—´åˆ›å»ºå·¥ä½œçŽ¯å¢ƒæˆ–è€…åˆ‡æ¢æ–°çš„å·¥å…·ï¼› People äººå‘˜çš„å˜æ›´ï¼šäººå‘˜è¾žèŒï¼ˆåº•å±‚ç¨‹åºå‘˜ã€ç®¡ç†å±‚äººå‘˜ï¼‰ï¼Œå…³é”®äººå‘˜å› ä¸å¯æŠ—å› ç´ æ²¡åŠžæ³•å·¥ä½œï¼Œæ–°çš„äººå‘˜çš„åŠ å…¥ äººå‘˜æŠ€æœ¯æ°´å¹³ä¸å¤Ÿ äººå‘˜åŸ¹è®­æ•ˆæžœä¸è¶³ äººå‘˜æ¶ˆæžæ€ å·¥ äººå‘˜ä¹‹é—´æ²Ÿé€šä¸è¶³å¼•å‘å†²çªï¼Œå¯¼è‡´å·¥ä½œå› æ²Ÿé€šä¸å¤Ÿå‡ºçŽ°é”™è¯¯æˆ–é¢å¤–çš„é‡å¤å·¥ä½œ Organizational åˆ†å·¥ä¸åˆç†ï¼ˆå·¥ä½œéš¾åº¦åˆ†é…ä¸åˆç†ã€å·¥ä½œç§ç±»åˆ†å·¥ä¸åˆç†ï¼‰ è¿è½¬èµ„é‡‘ä¸è¶³ ä»…ç”±ç®¡ç†å±‚æˆ–å¸‚åœºäººå‘˜è¿›è¡ŒæŠ€æœ¯å†³ç­–ï¼Œå¯¼è‡´è®¡åˆ’è¿›åº¦ç¼“æ…¢ï¼Œè®¡åˆ’æ—¶é—´å»¶é•¿ï¼› ä½Žæ•ˆçš„é¡¹ç›®ç»„ç»“æž„é™ä½Žç”Ÿäº§çŽ‡ï¼› ç®¡ç†å±‚å®¡æŸ¥ å†³ç­–çš„å‘¨æœŸæ¯”é¢„æœŸçš„æ—¶é—´é•¿ï¼› é¢„ç®—å‰Šå‡ï¼Œæ‰“ä¹±é¡¹ç›®è®¡åˆ’ï¼› ç¼ºä¹å¿…è¦çš„è§„èŒƒï¼Œå¯¼è‡´å·¥ä½œå¤±è¯¯ä¸Žé‡å¤å·¥ä½œï¼› éžæŠ€æœ¯çš„ç¬¬ä¸‰æ–¹çš„å·¥ä½œ(é¢„ç®—æ‰¹å‡†ã€è®¾å¤‡é‡‡è´­æ‰¹å‡†ã€æ³•å¾‹æ–¹é¢çš„å®¡æŸ¥ã€å®‰å…¨ä¿è¯ç­‰)æ—¶é—´æ¯”é¢„æœŸçš„å»¶é•¿ã€‚ Requirements éœ€æ±‚å·²ç»æˆä¸ºé¡¹ç›®åŸºå‡†ï¼Œä½†éœ€æ±‚è¿˜åœ¨ç»§ç»­å˜åŒ–ï¼› éœ€æ±‚å®šä¹‰æ¬ ä½³ï¼Œè€Œè¿›ä¸€æ­¥çš„å®šä¹‰ä¼šæ‰©å±•é¡¹ç›®èŒƒç•´ï¼› äº§å“å®šä¹‰å«æ··çš„éƒ¨åˆ†æ¯”é¢„æœŸéœ€è¦æ›´å¤šçš„æ—¶é—´ï¼› åœ¨åšéœ€æ±‚ä¸­å®¢æˆ·å‚ä¸Žä¸å¤Ÿ Estimation å·¥ä½œé‡å·¥ä½œæ—¶é—´å·¥ä½œè¿›åº¦é¢„ä¼°é”™è¯¯ ä½Žä¼°è½¯ä»¶è§„æ¨¡ ä½Žä¼°ç¼ºé™·ä¿®å¤çŽ‡ å®¢æˆ·é£Žé™© å®¢æˆ·å¯¹äºŽäº¤ä»˜çš„äº§å“ä¸æ»¡æ„ scope riskï¼š äº§å“è·¨é¢†åŸŸå‘å±• 2.4 Technical æ•°æ®åº“ å¯¹äºŽå¹¶å‘æ€§çš„æ”¯æŒ äº‹ä»¶çš„å››å¤§ç‰¹æ€§ï¼ˆä¸€è‡´æ€§ã€æŒä¹…æ€§ã€åŽŸå­æ€§ã€éš”ç¦»æ€§ï¼‰ æ•°æ®åº“æ•°æ®ä¸¢å¤±ï¼ˆ æ•°æ®åº“æ•°æ®å®‰å…¨ï¼ˆæ¶æ„æ”»å‡»ï¼Œæ¶æ„å…¥ä¾µæ•°æ®åº“ï¼Œå¤‡ä»½æ•°æ®çš„ä¿æŠ¤ æœåŠ¡å™¨ è®¾å¤‡å¤±æ•ˆï¼Œå®•æœº designï¼š è®¾è®¡è´¨é‡ä½Žä¸‹ï¼Œå¯¼è‡´é‡å¤è®¾è®¡ï¼› ä¸€äº›å¿…è¦çš„åŠŸèƒ½æ— æ³•ä½¿ç”¨çŽ°æœ‰çš„ä»£ç å’Œåº“å®žçŽ°ï¼Œå¼€å‘äººå‘˜å¿…é¡»ä½¿ç”¨æ–°çš„åº“æˆ–è€…è‡ªè¡Œå¼€å‘æ–°çš„åŠŸèƒ½ï¼› ä»£ç å’Œåº“è´¨é‡ä½Žä¸‹ï¼Œå¯¼è‡´éœ€è¦è¿›è¡Œé¢å¤–çš„æµ‹è¯•ï¼Œä¿®æ­£é”™è¯¯ï¼Œæˆ–é‡æ–°åˆ¶ä½œï¼› è¿‡é«˜ä¼°è®¡äº†å¢žå¼ºåž‹å·¥å…·å¯¹è®¡åˆ’è¿›åº¦çš„èŠ‚çœé‡ï¼› åˆ†åˆ«å¼€å‘çš„æ¨¡å—æ— æ³•æœ‰æ•ˆé›†æˆï¼Œéœ€è¦é‡æ–°è®¾è®¡æˆ–åˆ¶ä½œã€‚ Toolsï¼š ä»£ç ç”Ÿæˆå¤±è¯¯ å·¥å…·ä¸å…¼å®¹ æºç ä¸¢å¤± 2.5 Legal æŸäº›åœ°åŒºæœ‰ç‰¹å®šçš„æ³•å¾‹æ³•è§„ï¼Œç³»ç»Ÿéœ€è¦æ ¹æ®æ‰€åœ¨åœ°åŒºè¿›è¡Œè°ƒæ•´ ä¸“åˆ©é—®é¢˜ï¼Œä½¿ç”¨ç¬¬ä¸‰æ–¹åº“æ¶‰åŠçš„ä¾µæƒé—®é¢˜ æ¶ˆè´¹è€…æƒç›Šå—æŸï¼Œå¹³å°æœªåŠæ—¶å¤„ç†è€Œé­è¯‰è®¼ 3. risk analysisåˆ†å·¥ï¼šå„è‡ªæŒ‰ç…§æµç¨‹é£Žé™©åˆ†æžï¼Œregisterï¼Œåº”å¯¹æŽªæ–½= =è‡ªå·±çœ‹pptå§ æ–‡æ·»ï¼š 2.5+ppt é™ˆè¶…ï¼š 2.1ã€2.2ï¼ˆ+è¡¥å…… é™ˆæ¶¦ä¹¾ã€ç½—åªšã€è°ˆç‘žï¼š 2.3 3ä¸ªäºº æ¢ç¨‹ä¼Ÿï¼š 2.4ï¼ˆ+è¡¥å…… Pre å»ºè®®ï¼š èµ„æºåˆ†é…ï¼Œä¾æ®ä»€ä¹ˆå°†èµ„æºåˆ†é…ç»™WBSä¸­çš„ä»»åŠ¡ ä»‹ç»ä¸€ä¸‹è‡ªå·±ä½¿ç”¨çš„é£Žé™©ç®¡ç†å·¥å…· WBSä»Žä¸åŒçš„æ–¹é¢è¿›è¡Œåˆ†è§£ï¼Ÿåˆç†åˆ†è§£ï¼ˆå¯¹äºŽWBSä¸åŒçš„åˆ’åˆ† ç”˜ç‰¹å›¾ æ³¨æ„æ‰€å†™çš„é£Žé™©æ˜¯å¦ä¸Žè½¯ä»¶å¼€å‘æ˜¯å¦æœ‰å…³ å‚è€ƒä¸€äº›çŽ°æœ‰çš„æŠ€æœ¯æ–‡æ¡£ çŽ°æœ‰çš„æŠ€æœ¯æ¨¡åž‹ PPTæµç¨‹ï¼š Risk Mgt Planï¼ˆç•¥ï¼‰ Risk Identification ä½¿ç”¨æ–¹æ³•ï¼šbrainstormã€diagrammingã€document review å±•ç¤ºRBS Risk Analysis å®šæ€§åˆ†æžï¼šprobability-impactçŸ©é˜µï¼Œimpactåˆ†æžè¡¨ å®šé‡åˆ†æžï¼šå†³ç­–æ ‘ã€è’™ç‰¹å¡æ´›åˆ†æž response é¢å¯¹çš„æ€åº¦ï¼šç§¯æžã€æ¶ˆæž strategy WBSï¼ˆä½¿ç”¨å·¥å…·ï¼šç”˜ç‰¹å›¾ã€ones.ai å»ºè®®ï¼š scheduleä¸­åŒ…å«å·¥ä½œçš„åˆ†é…å’Œèµ„æºçš„åˆ†é… ç»™è¿™ä¸ªåˆ†å€¼çš„åŽŸå›  WBSåˆ†è§£çš„ä¾æ®]]></content>
      <categories>
        <category>SoftwareManagement</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[2.3 Internal non-technical]]></title>
    <url>%2F2019%2F05%2F11%2FSoftwareManagement%2FMgtPro_6_RiskMgt%2F</url>
    <content type="text"><![CDATA[2.3 Internal non-technical2.3.3 Organizational åˆ†å·¥ä¸åˆç†ï¼ˆå·¥ä½œéš¾åº¦åˆ†é…ä¸åˆç†ã€å·¥ä½œç§ç±»åˆ†å·¥ä¸åˆç†ï¼‰ åŠæ—¶æ ¹æ®å½“å‰å·¥ä½œè¿›åº¦è°ƒæ•´å·¥ä½œåˆ†å·¥ è¿›è¡Œå·¥ä½œåˆ†å·¥æ—¶è·ŸæŠ€æœ¯äººå‘˜æ²Ÿé€š è¿è½¬èµ„é‡‘ä¸è¶³ æŠ€æœ¯ä¸­å¿ƒåŠç›¸å…³è®¾è®¡äººå‘˜æ…Žé‡ç ”ç©¶è®¾è®¡å˜æ›´ï¼Œå‡å°‘è®¾è®¡å˜æ›´é€ æˆçš„å„ç§æŸå¤± åŠ å¼ºè®¾å¤‡ç®¡ç†ï¼ŒåŠæ—¶åˆ©ç”¨ï¼Œå‡å°‘æµªè´¹ ä»…ç”±ç®¡ç†å±‚æˆ–å¸‚åœºäººå‘˜è¿›è¡ŒæŠ€æœ¯å†³ç­–ï¼Œå¯¼è‡´è®¡åˆ’è¿›åº¦ç¼“æ…¢ï¼Œè®¡åˆ’æ—¶é—´å»¶é•¿ï¼› è¿›è¡ŒæŠ€æœ¯å†³ç­–æ—¶ä¸ŽæŠ€æœ¯äººå‘˜è¿›è¡Œæœ‰æ•ˆçš„æ²Ÿé€š ä½Žæ•ˆçš„é¡¹ç›®ç»„ç»“æž„é™ä½Žç”Ÿäº§çŽ‡ï¼› é€‰å–ä¸€ä¸ªæœ‰å¼ºé¢†å¯¼åŠ›çš„ç®¡ç†è€… è®¾ç½®ä¸€å®šçš„å¥–æƒ©æœºåˆ¶ï¼Œæ¿€åŠ±å‘˜å·¥æé«˜ç”Ÿäº§çŽ‡ å¯¹é¡¹ç›®ç»„ç»“æž„è¿›è¡Œä¸€å®šçš„é‡æž„æˆ–å¾®è°ƒ ç®¡ç†å±‚å®¡æŸ¥ å†³ç­–çš„å‘¨æœŸæ¯”é¢„æœŸçš„æ—¶é—´é•¿ï¼› ç®¡ç†å±‚å®¡æŸ¥åº”è®¾ç½®deadline åˆ†çº§å®¡æŸ¥ å®šæœŸå‘ç®¡ç†å±‚æ±‡æŠ¥é£Žé™©/é—®é¢˜ é¢„ç®—å‰Šå‡ï¼Œæ‰“ä¹±é¡¹ç›®è®¡åˆ’ï¼› åŽ‹ç¼©ç”Ÿäº§æˆæœ¬ å‰ªæŽ‰ä¼˜å…ˆçº§ä½Žçš„éœ€æ±‚å®žçŽ° ç¼ºä¹å¿…è¦çš„è§„èŒƒï¼Œå¯¼è‡´å·¥ä½œå¤±è¯¯ä¸Žé‡å¤å·¥ä½œï¼› é¡¹ç›®å¼€å§‹å‰æ˜Žç¡®è‰¯å¥½çš„è§„èŒƒ å®šæœŸæ£€æŸ¥é¡¹ç›®è¿›è¡Œæ˜¯å¦ç¬¦åˆè§„èŒƒ éžæŠ€æœ¯çš„ç¬¬ä¸‰æ–¹çš„å·¥ä½œ(é¢„ç®—æ‰¹å‡†ã€è®¾å¤‡é‡‡è´­æ‰¹å‡†ã€æ³•å¾‹æ–¹é¢çš„å®¡æŸ¥ã€å®‰å…¨ä¿è¯ç­‰)æ—¶é—´æ¯”é¢„æœŸçš„å»¶é•¿ã€‚ è‹¥å­˜åœ¨å¤šæ–¹å®¡æ‰¹ï¼Œå¹¶è¡Œè¿›è¡Œï¼Œé€‰å–æœ€ä¼˜çš„å®¡æ‰¹æ–¹å¼ å®‰æŽ’é¡¹ç›®æ—¶é—´æ—¶é¢„ç•™ä¸€å®šçš„å®¡æŸ¥æ—¶é—´ 2.3.4 Requirements éœ€æ±‚å·²ç»æˆä¸ºé¡¹ç›®åŸºå‡†ï¼Œä½†éœ€æ±‚è¿˜åœ¨ç»§ç»­å˜åŒ–ï¼› æ˜Žç¡®åˆåŒçº¦æŸï¼Œå»ºç«‹éœ€æ±‚åŸºçº¿ å»ºç«‹å˜æ›´å®¡æ‰¹æµç¨‹ æ˜Žç¡®å’Œæ ‘ç«‹éœ€æ±‚åŸºçº¿æ˜¯éœ€æ±‚å˜æ›´çš„ä¾æ® å°çš„éœ€æ±‚å˜æ›´ä¹Ÿè¦ç»è¿‡æ­£è§„çš„éœ€æ±‚ç®¡ç†æµç¨‹ å®¢æˆ·ä¸‹è¾¾å˜æ›´çš„æµç¨‹å°½å¯èƒ½è§„èŒƒåŒ–ï¼Œç•™ä¸‹ä¹¦é¢ä¾æ® åˆ†çº§ç®¡ç†éœ€æ±‚å˜æ›´ éœ€æ±‚å®šä¹‰æ¬ ä½³ï¼Œè€Œè¿›ä¸€æ­¥çš„å®šä¹‰ä¼šæ‰©å±•é¡¹ç›®èŒƒç•´ï¼› éœ€æ±‚åˆ†æžå·¥ç¨‹ä¸­å¯¹äºŽéœ€æ±‚ç»™å‡ºæ˜Žç¡®çš„å®šä¹‰ï¼Œæœ‰æ˜Žç¡®çš„äº§å‡ºæ–‡æ¡£ åˆ¶å®šéœ€æ±‚çš„åŸºçº¿ åˆ†çº§ç®¡ç†å®¢æˆ·éœ€æ±‚ äº§å“å®šä¹‰å«æ··çš„éƒ¨åˆ†æ¯”é¢„æœŸéœ€è¦æ›´å¤šçš„æ—¶é—´ï¼› é¡¹ç›®å¼€å‘çš„æ¯ä¸ªé˜¶æ®µåº”è®¾ç½®ä¸€å®šçš„ç›‘ç®¡ï¼Œä¿è¯é¡¹ç›®å¼€å‘å‰ç›¸å…³çš„å…·ä½“çš„éœ€æ±‚æ–‡æ¡£å·²ç»å½¢æˆ åœ¨åšéœ€æ±‚ä¸­å®¢æˆ·å‚ä¸Žä¸å¤Ÿ é‡‡ç”¨åŽŸåž‹å¼€å‘èŽ·å–å®¢æˆ·éœ€æ±‚ 2.3.5 Estimation å·¥ä½œé‡å·¥ä½œæ—¶é—´å·¥ä½œè¿›åº¦é¢„ä¼°é”™è¯¯ï¼š åŠ¨æ€è°ƒæ•´å·¥ä½œçš„è¿›åº¦ï¼Œå®žæ—¶è·Ÿè¸ªé¡¹ç›®çš„è¿›åº¦ã€‚ ä½Žä¼°è½¯ä»¶è§„æ¨¡ï¼š è¿›è¡Œè½¯ä»¶è§„æ¨¡é¢„ä¼°æ—¶åº”å½“ç»“åˆåŽ†å²æ•°æ®è€ƒè™‘ã€‚ é€šè¿‡ç§‘å­¦çš„æˆ˜ç•¥è¯„ä¼°é˜²æ­¢è¯„ä¼°é”™è¯¯çš„é£Žé™©ã€‚éœ€è¦ä¾é è½¯ä»¶å¼€å‘ç®¡ç†çš„ä¸“å®¶æ¥å¸®åŠ©é¡¹ç›®æ›´å¥½åœ°è¯„ä¼°ã€‚ ä½Žä¼°ç¼ºé™·ä¿®å¤çŽ‡ï¼š æé«˜ä»£ç è´¨é‡å’Œå¼€å‘ç®¡ç†ã€‚ 2.3.6 å®¢æˆ·é£Žé™© å®¢æˆ·å¯¹äºŽäº¤ä»˜çš„äº§å“ä¸æ»¡æ„ï¼š åŠ å¼ºä¸Žå®¢æˆ·è¿›è¡Œè´¨é‡æ ‡å‡†åˆ¶å®šçš„æ²Ÿé€šï¼Œç»Ÿä¸€åŒæ–¹çš„æ ‡å‡†å’Œæ£€æµ‹æ–¹æ³• æŠ€æœ¯éƒ¨é—¨åšå¥½è½¯ä»¶å¼€å‘çš„å®‰æŽ’ï¼Œä¿è¯å¼€å‘çš„è¿›åº¦ã€‚ äº§å“ç»ç†åŠ å¤§ä¸Žå®¢æˆ·çš„äº¤æµä¸Žæ²Ÿé€šï¼ŒåŠæ—¶å¤„ç†å®¢æˆ·çš„éœ€æ±‚å’Œæ„è§ã€‚ 2.3.7 scope riskï¼š äº§å“è·¨é¢†åŸŸå‘å±•ï¼š Take good care of scope management. 2.3 Internal non-technical2.3.3 Organizational Unreasonable division of labor (unreasonable distribution of work difficulty, unreasonable division of work types) Adjust the division of work according to the current work schedule Communicate with technical staff when performing work division Insufficient working capital The technical center and related designers carefully study design changes and reduce various losses caused by design changes. Strengthen equipment management, use in time, reduce waste Technical decisions are made only by management or market personnel, resulting in slow schedules and extended planning time; Communicate effectively with technical staff when making technical decisions Inefficient project team structure reduces productivity; Choose a manager with strong leadership Set a certain reward and punishment mechanism to motivate employees to increase productivity Make certain refactoring or fine-tuning of the project team structure Management review The decision cycle is longer than expected; Management review should set the deadline Grading review Report risks/issues to management on a regular basis Budget cuts and disruption of project plans; Compress production costs Cut off the low priority requirement implementation Lack of necessary norms, resulting in work errors and duplication of work; Defining good specifications before the project begins Regularly check the project for compliance Non-technical third-party work (budget approval, equipment purchase approval, legal review, security assurance, etc.) was extended beyond expectations. If there are multiple approvals, proceed in parallel and select the best approval method. Reserve a certain review time when scheduling project time 2.3.4 Requirements Demand has become the benchmark for the project, but demand continues to change; Clarify contractual constraints and establish a baseline of demand Establish a change approval process Clarify and establish a baseline of demand as the basis for demand changes Small demand changes also go through formal demand management processes The customerâ€™s process of issuing changes is as standardized as possible, leaving a written basis Hierarchical management requirements change The definition of demand is poor, and further definitions will expand the scope of the project; A clear definition of the requirements in the requirements analysis project, with clear output documentation Develop a baseline for demand Hierarchical management of customer needs The ambiguous part of the product definition takes more time than expected; Each stage of project development should be set up with certain supervision to ensure that the specific requirements documents related to the project development have been formed. Insufficient customer involvement in doing demand Prototype development to obtain customer needs 2.3.5 Estimation Workload working time work progress estimate error: Dynamically adjust the progress of the work and track the progress of the project in real time. Underestimate the size of the software: Software size estimation should be considered in conjunction with historical data. Prevent the assessment of the risk of errors through a scientific strategic assessment. Experts in software development management are needed to help the project better evaluate. Underestimate the defect repair rate: Improve code quality and development management. 2.3.6 Customer Risk The customer is not satisfied with the delivered product: Strengthen communication with customers on quality standards, and unify standards and testing methods The technical department will make arrangements for software development to ensure the progress of development. The product manager increases communication and communication with customers and timely handles customer needs and opinions. 2.3.7 scope risk: Product cross-domain development:Take good care of scope management.]]></content>
      <categories>
        <category>SoftwareManagement</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Management_3 Risk Management]]></title>
    <url>%2F2019%2F05%2F11%2FSoftwareManagement%2FManagement_3%2F</url>
    <content type="text"><![CDATA[Management_3 Risk ManagementPrevention Crane]]></content>
      <categories>
        <category>SoftwareManagement</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Management_2]]></title>
    <url>%2F2019%2F05%2F11%2FSoftwareManagement%2FManagement_2%2F</url>
    <content type="text"><![CDATA[Management_2Software pricePlan-driven deveplomentplan sections â€‹ introduction â€‹ project organization never stop learning Project schedulingusing barchart to represent your schedule Agile planningEstimation]]></content>
      <categories>
        <category>SoftwareManagement</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[MgtPro_8_QualityMgt]]></title>
    <url>%2F2019%2F05%2F11%2FSoftwareManagement%2FMgtPro_8_Quality%2F</url>
    <content type="text"><![CDATA[MgtPro_8_QualityMgtQuality Baseline/Goals1. Functionality:a. Suitability: The function of the sub-functions in the system should meet the principle of high cohesion and low coupling. The number of database table rows does not exceed 1 million rows, the maximum capacity of the database does not exceed 1000 GB, and the disk space needs at least 40G. 1000000. All the requirement should be implemented as requirement document says. The maximum number of transactions per day is 3,000. The average number of concurrent transactions is 20, and the maximum number of concurrent transactions is 50. The estimated number of users is 10,000, the number of login users per day is about 3000, and the bandwidth of the network is 100M bandwidth. The system can simultaneously satisfy 10,000 user requests and provide browsing capabilities for 25,000 concurrent users. b. Accuracy: The data stored by the system should be atomic and persistent. The accuracy of the calculation is 7 digits after the decimal point. c. Interoperability (Interoperability): The system should have good interaction with the delivery platform. d. Compliance: Software coding should follow a uniform standard. 2. Reliability: There is a prompt for the input, the data is checked to prevent data anomalies. The system is robust and should be able to handle various abnormal situations that occur during system operation, such as human error, illegal data input, hardware device failure, etc. The system should be able to handle it correctly and avoid it properly. The probability that the service cannot be completed due to the failure of the software system is less than 5â€°. The system is required to run 24 hours a day, and the continuous operation failure time of the whole year cannot exceed 10 hours. The system defect rate has a maximum of 1 failure every 1,000 hours. In 1,000,000 transactions, there is a maximum of 1 time when the system needs to be restarted. 3. Usability:a. Learnability: Within 3 months of the introduction of the product, 60% of users should be able to use it to complete the transfer task within 45 seconds, the failure rate is controlled within one ten thousandth. 60% of users will realize that this is the bankâ€™s online banking within 5 seconds of seeing the product for the first time. 80% of users can successfully buy a book within 5 minutes after receiving a half-hour system introduction training. b. Operability: Some rural areas have poor network quality and low bandwidth. Guarantee the availability of the system under conditions of poor network environment. In 95% of the failures, the system takes up to 20 seconds to restart. Provide data backup and recovery functions to enable timely recovery and restore of data (provided by hardware and third-party software) when system data is lost due to system errors or other reasons or system data is corrupted. 4. Efficiency:a. Time Behaviour: In 95% of cases, the general time response time does not exceed 1.5 seconds, and the peak time does not exceed 4 seconds. The time required for the positioning system to display from the click to the first interface must not exceed 300 milliseconds. When the network is unblocked, the time required to dial-up to the GPRS network must not exceed 5 seconds. When the network is unblocked, the website page refresh time does not exceed 10 seconds. In the recommended configuration environment: the login response time is within 2 seconds, the refresh response time of the column is within 2 seconds, the response time of the entry page list is refreshed within 2 seconds, and the response time of the information entry is turned on within 1 second, and the department and personnel list response is refreshed. Time is 2 seconds. Search during the off-peak hours according to the number and name specific conditions, and the search results can be obtained within 3 seconds. b. Resource Behaviour: CPU usage &lt;=50%. Memory usage &lt;=50%. 5. Maintainability:a. Changeability: After receiving the modification request, the general modification should be completed within 1-2 days; for the major demand or design modification after the assessment, it should be completed within 1 week. 90% of the BUG modification time does not exceed 1 working day, and the other does not exceed 2 working days. The circle complexity of the code must be within 10. Any method of any object does not allow more than 200 lines of code. Install the new version and keep all database contents and all personal settings unchanged. The product must provide tools to track any database fields. b. Testability: The maximum circle complexity of a module cannot exceed 15. The delivered system must pass unit testing and be 100% covered. Development activities must use regression testing and allow for a complete test to be re-run within 12 hours. 6. Portability: The code change rate should be less than 20% when the system is migrated. The installation success rate should be greater than 90% when the system is transplanted. Functional integrity should reach 90% and above in the new target environment after system migration. 7. Security Strict access control. After the user is authenticated, the user can only access the data within the scope of his or her rights, and can only perform operations within its scope of authority. Different users have different identities and rights. They need to provide trusted authorization management services under the premise of authenticity of users, protect data from illegal/over-authorized access and tampering, and ensure confidentiality and integrity of data. Sex. Provide running log management and security auditing functions to track the historical usage of the system. Can withstand general malicious attacks from the Internet. Such as viruses (including Trojans) attacks, password guessing attacks, hacking, etc. At least 99% of attacks need to be detected within 10 seconds. Network delivery data should be encrypted. It is necessary to ensure that data is not sneaked, stolen or tampered with during collection, transmission and processing. Business data needs to be encrypted at the time of storage to ensure that it is not hackable. 8. Compatibility The system should support IOS, Android, Windows operating system; The system should support Oracle, DB2 database system; Up to 5% of system implementations need to be specific to a particular operating system. The average time to replace the relational database system is no more than 2 hours, and no data loss is guaranteed. Quality MetricThe following metrics are majorly used for generating the daily/weekly status report with accurate data during test case development/execution phase and this is also useful for tracking the project status and Quality of the software. 1. percentage Test cases Executed:This metric is used to obtain the execution status of the test cases in terms of percentage. TestCaseExecuted\% = \frac{No_{TestCaseExecuted}}{Total \space No_{TestCasesWritten}}* 100.2. percentage Test cases not executed:This metric is used to obtain the pending execution status of the test cases in terms of percentage. TestCasesNotExecuted\% = \frac{No_{TestCasesNotExecuted}}{Total \space No_{TestCasesWritten}} * 100. 3. percentage Test cases Passed:This metric is used to obtain the Pass percentage of the executed test cases. Test Cases Passed\% = \frac{No_{ Test Cases Passed} }{Total \space No_{Test Cases Executed}} * 100.4. percentage Test cases Failed: This metric is used to obtain the Fail percentage of the executed test cases. Test Cases Failed \%= \frac{No_{ Test Cases Failed }}{ Total \space No_{ Test Cases Executed}}* 100.5. percentage Test cases Blocked: This metric is used to obtain the blocked percentage of the executed test cases. A detailed report can be submitted by specifying the actual reason of blocking the test cases. Test Cases Blocked \% = \frac{No_{ Test Cases Blocked}}{ Total \space No_{ Test Cases Executed}}* 100. 6. Defect Density Defect Density = No_{ Defects identified }/ size(Here â€œSizeâ€ is considered as requirement. Hence here the Defect Density is calculated as number of defects identified per requirement. Similarly, Defect Density can be calculated as number of Defects identified per 100 lines of code [OR] No. of defects identified per module etc.) 7. Defect Removal Efficiency (DRE) Defect Removal Efficiency(DRE) = (\frac{No_{ Defects Found During QA Testing}}{ No_{ Defects Found During QA Testing}} +No_{ Defects Found By End user}) * 100DRE is used to identify the test effectiveness of the system. 8. Defect Leakage:Defect Leakage is the Metric which is used to identify the efficiency of the QA testing i.e., how many defects are missed / slipped during the QA testing. Defect Leakage = \frac{No_{ Defects Found in UAT }}{No_{ Defects Found in QA Testing.}}* 1009. Defects by Priority:This metric is used to identify the no. of defects identified based on the Severity / Priority of the defect which is used to decide the quality of the software. \begin{align} Critical Defects\% &= \frac{No_{ Critical Defects Identified }}{ Total \space No_{ Defects Identified} }* 100 \\ High Defects\% &= \frac{No_{ High Defects Identified}}{Total \space No_{ Defects Identified}} * 100 \\ Medium Defects\% &=\frac{ No_{ Medium Defects Identified }}{ Total \space No_{ Defects Identified}} * 100 \\ Low Defects\% &= \frac{No_{ Low Defects Identified}}{Total \space No_{ Defects Identified}} * 100 \end{align}]]></content>
      <categories>
        <category>SoftwareManagement</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[é¡¹ç›®ä¸»è¦æˆæžœ]]></title>
    <url>%2F2019%2F05%2F11%2FMess%2F%E9%A1%B9%E7%9B%AE%E4%B8%BB%E8%A6%81%E6%88%90%E6%9E%9C%2F</url>
    <content type="text"><![CDATA[é¡¹ç›®ä¸»è¦æˆæžœâ€‹ æˆ‘ä»¬åˆ¶ä½œäº†androidå¹³å°çš„åº”ç”¨ï¼Œåº”ç”¨è½¯ä»¶å·¥ç¨‹çš„ç›¸å…³çŸ¥è¯†ï¼Œæˆ‘ä»¬è¿›è¡Œäº†éœ€æ±‚åˆ†æžã€éœ€æ±‚å»ºæ¨¡ã€æ¦‚è¦è®¾è®¡ã€è¯¦ç»†è®¾è®¡ã€ç¼–ç¨‹ã€æµ‹è¯•çš„è¿‡ç¨‹ï¼Œäº§ç”Ÿäº†ä¸€ç³»åˆ—è¯´æ˜Žæ–‡æ¡£ï¼Œå¯¹äºŽäº§å“çš„å„ä¸ªæ–¹é¢è¿›è¡Œäº†è¯¦ç»†çš„æè¿°ï¼Œå„æ–‡æ¡£è¯´æ˜Žå¦‚ä¸‹ï¼š éœ€æ±‚è§„çº¦æ–‡æ¡£ï¼š è¿›è¡Œé¡¹ç›®åˆæœŸçš„å¸‚åœºè°ƒç ”ï¼Œå¯¹äºŽé¡¹ç›®çš„éœ€æ±‚ä»¥åŠé¡¹ç›®çš„æ•´ä½“æµç¨‹ã€æ¶‰åŠçš„èŒƒå›´æœ‰å¤§ä½“çš„äº†è§£ã€‚ éœ€æ±‚åˆ†æžæ–‡æ¡£ï¼šä»¥éœ€æ±‚è§„çº¦ä¸­å¾—åˆ°çš„å¤§ä½“éœ€æ±‚è¿›è¡Œä¸€å®šçš„æŠ½è±¡å’Œç»†åŒ–ï¼ŒæŠ½ç¦»å‡ºç¬¦åˆè½¯ä»¶å¼€å‘è¦æ±‚çš„éœ€æ±‚ï¼Œä¸»è¦ä½¿ç”¨ç³»ç»Ÿæ€»ä½“æµç¨‹å›¾æ¥æè¿°ç³»ç»Ÿæ•´ä½“çš„ä¸šåŠ¡æµç¨‹ï¼Œä½¿ç”¨ç”¨ä¾‹å›¾æ¥æè¿°æŠ½ç¦»å‡ºçš„åŠŸèƒ½ç‚¹ï¼Œä½¿ç”¨æ´»åŠ¨å›¾å’Œåºåˆ—å›¾æ¥æè¿°ç”¨ä¾‹çš„ä¸šåŠ¡é€»è¾‘ã€‚ æ¦‚è¦è®¾è®¡æ–‡æ¡£ï¼šå¯¹äºŽé¡¹ç›®çš„å¼€å‘è¿›è¡Œæ¦‚è¦çš„è®¾è®¡ï¼ŒåŒ…æ‹¬è½¯ä»¶ç»“æž„è®¾è®¡ã€æŽ¥å£è®¾è®¡ã€ç•Œé¢è®¾è®¡ã€æ•°æ®åº“è®¾è®¡ä»¥åŠç³»ç»Ÿå‡ºé”™å¤„ç†è®¾è®¡ã€‚å…¶ä¸­ä½¿ç”¨æž¶æž„å›¾æè¿°è½¯ä»¶ç»“æž„è®¾è®¡ï¼Œç±»å›¾å’Œå­ç±»å›¾æè¿°ç»„ä»¶é—´çš„æŽ¥å£ï¼Œåˆ¶ä½œäº§å“åŽŸåž‹æ¥æè¿°ç•Œé¢è®¾è®¡ï¼Œç»˜åˆ¶ERå›¾æ¥æè¿°æ•°æ®åº“çš„è¡¨è®¾è®¡ä»¥åŠä½¿ç”¨ç›¸å…³æ–‡æ¡£è¯´æ˜Žæè¿°ç³»ç»Ÿå‡ºé”™å¤„ç†è®¾è®¡ã€‚ è¯¦ç»†è®¾è®¡æ–‡æ¡£ï¼šåœ¨æ¦‚è¦è®¾è®¡çš„åŸºç¡€ä¸Šè¿›è¡Œæ›´è¯¦ç»†çš„è®¾è®¡ï¼Œè€ƒè™‘ä½¿ç”¨çš„ç®—æ³•ï¼Œç±»çš„è®¾è®¡å’Œå‡½æ•°çš„è®¾è®¡ç­‰ã€‚ â€‹ æˆ‘ä»¬åˆ¶ä½œäº†ä¸€ä¸ªå·²ç»å¯è¿è¡Œçš„åº”ç”¨ï¼Œåº”ç”¨å®žçŽ°äº†æˆ‘ä»¬è¿›è¡Œéœ€æ±‚å»ºæ¨¡æ—¶æ‰€æ€»ç»“å½’çº³çš„åŸºæœ¬åŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼š å¯¹äºŽç”¨æˆ·çš„æ³¨å†Œç™»å½•æ³¨é”€ï¼Œä¿®æ”¹ç”¨æˆ·ä¿¡æ¯ æ‹ç…§ä»¥åŠä¸Šä¼ ç…§ç‰‡ å¢žåˆ æ”¹æŸä»¶è¡£ç‰©ä¿¡æ¯ï¼ŒæŸ¥çœ‹è¡£ç‰©ä¿¡æ¯ï¼ŒæŸ¥çœ‹è¡£æŸœ æŽ¥æ”¶æŽ¨é€æ¶ˆæ¯ï¼Œå¯æ ¹æ®å¤©æ°”è¿›è¡Œå½“æ—¥æ­é…æŽ¨è è¯„ä»·ã€æ”¶è—è´§æ›´æ–°æŸä¸ªæ­é… é€‰æ‹©ç”ŸæˆæŸä¸ªæ­é…ï¼Œå¯æŒ‘é€‰åœºåˆï¼Œç³»ç»Ÿå°†ä¼šé’ˆå¯¹è¯¥åœºåˆç”Ÿæˆå¯¹åº”çš„æ­é… å¯¹äºŽç³»ç»Ÿçš„å¢žåˆ æ”¹ç”¨æˆ· è¡£åž‹è¯†åˆ« ç”Ÿæˆæ­é… é¡¹ç›®ä¸»è¦æˆæžœï¼š å¿ƒå¾—ä½“ä¼šï¼š é¡¹ç›®å›¾ç‰‡ï¼š ç¡¬ä»¶ç ”åˆ¶ï¼š é¡¹ç›®æ—¥å¿—ï¼š å…¶ä»–ï¼š]]></content>
      <categories>
        <category>Mess</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ä¸“ä¸šç»¼åˆé¡¹ç›®]]></title>
    <url>%2F2019%2F05%2F11%2FMess%2F%E4%B8%93%E4%B8%9A%E7%BB%BC%E5%90%88%E9%A1%B9%E7%9B%AE%2F</url>
    <content type="text"><![CDATA[ä¸“ä¸šç»¼åˆé¡¹ç›® ä»Žç¬¬3å‘¨å¼€å§‹ï¼š æ¯å‘¨é€‰æ‹©3ç»„æ¥è¿›è¡Œæ±‡æŠ¥ æ¯ä¸¤å‘¨ç ”ç©¶ç”Ÿä¼šæ¥é¢å¯¹é¢äº¤æµ å¯é€‰topicï¼š çŽ¯è§†å›¾åƒä¸­è¯­ä¹‰è§†è§‰ç›®æ ‡çš„åˆ†å‰²ï¼šè¯†åˆ«ç›®æ ‡ï¼šæ–¹å‘æ ‡å¿—ã€å‡é€Ÿå¸¦ã€æ³Šè½¦ä½ inverse tone mapping with deep learningï¼Œä½Žç»´åˆ°é«˜ç»´çš„æ˜ å°„ï¼ˆLDR-HDRï¼‰ åŸºäºŽå•ç›®ç›¸æœºçš„æ—¶é—´é‡Œç¨‹å™¨ã€‚15221927149 ç§»åŠ¨ç«¯æ¸¸æˆå¹³å°ï¼ˆä¼‘é—²ç±»å°æ¸¸æˆï¼Œæ—¶é•¿ä¸ºå‡ åˆ†é’Ÿï¼‰æ¸¸æˆå¤§åŽ…+æ¸¸æˆ 15801758610 rosé©±åŠ¨çš„ç§»åŠ¨æœºå™¨äºº äººè„¸è¡¨æƒ…å’Œå§¿æ€è¿ç§»ï¼Œfacerig äº‘ä¹¦ç±ï¼Œç±»ä¼¼è±†ç“£çš„ä¸œè¥¿ è¯­ä¹‰slamç›¸å…³ç ”ç©¶ æ‰‹å†™æ•°å­—ä¸²è¯†åˆ«ï¼šåˆ‡ç‰‡+å•å­—è¯†åˆ«ï¼ŒCRNN ä¸ºå›¾ç‰‡è‡ªåŠ¨åŠ æ ‡ç­¾ï¼ˆå¾®è½¯æœ‰ç›¸å…³çš„API å®¤å†…å¯¼èˆªï¼Ÿ VIOï¼Ÿ]]></content>
      <categories>
        <category>Mess</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Web_1 web architecture?]]></title>
    <url>%2F2019%2F05%2F11%2FWeb%2FWeb_1%2F</url>
    <content type="text"><![CDATA[Web_1 web architecture?HyperText Markup Language ä¸»åŠ¨æŒ‡é’ˆï¼ˆå¤šåª’ä½“ï¼šå›¾ç‰‡ã€éŸ³é¢‘ç­‰ è¢«åŠ¨æŒ‡é’ˆï¼ˆhref Web Browser ArchitectureA controller A set of clients A set of interpreters Web typeStatic web documentActive web document Textual representation: jsï¼Œå¯ä»¥æ”¹å˜ç½‘é¡µå†…æŽ§ä»¶ Binary representation: ç›¸å¯¹ç‹¬ç«‹ï¼Œä¸Žç½‘é¡µçš„æŽ§ä»¶æ²¡æœ‰äº¤äº’ ==typescript== Dynamic web documentruns on web server : can create a html document each time a request arrives Common Gateway Interface ==install php(first) , apache== ä¸è€ƒè™‘ç½‘é¡µçŠ¶æ€ï¼Œä¸æ–­åŠ¨æ€æ›´æ–°å¯èƒ½ä¼šå¯¼è‡´æœåŠ¡å™¨åŽ‹åŠ›å¾ˆå¤§ ç”±æ­¤ï¼ŒAjaxè¯žç”Ÿ]]></content>
      <categories>
        <category>Web</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Web_2 HTML basis]]></title>
    <url>%2F2019%2F05%2F11%2FWeb%2FWeb_2%2F</url>
    <content type="text"><![CDATA[Web_2 HTML basisMarkup language Exerciseï¼šç®€åŽ†ï¼ˆhtml+css]]></content>
      <categories>
        <category>Web</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[MgtPro_9_MonteCarlo]]></title>
    <url>%2F2019%2F05%2F08%2FSoftwareManagement%2FMgtPro_9_MonteCarlo%2F</url>
    <content type="text"><![CDATA[MgtPro_9_MonteCarloMonte Carlo methodâ€‹ Monte Carlo simulation is a method in the risk analysis and evaluation of engineering projects. It is a quantitative analysis method. When the number of random variables input in the project evaluation is more than three, there may be three or more states in each input variable. Monte Carlo simulation techniques should be used. â€‹ The principle of this method is to use a random sampling method to extract the values of a set of input variables, and calculate the project evaluation index based on the numerical values of the input variables. Through a large number of simulations of tens of thousands or even millions of times, the final evaluation is obtained. The probability distribution of the indicator and the cumulative probability distribution map, expected value, variance, and standard deviation, and the probability that the calculation item will change from feasible to infeasible, thereby estimating the risk assumed by the project investment. General steps for Monte Carlo simulation Select a random variable, the variable that is most sensitive to the net present value. Determine the probability distribution of random variables Extract random numbers for each random variable Convert the extracted random number into the sampled value of each input variable The sampled values constitute a set of project evaluation basic data Calculate the value of the evaluation index under a random condition based on the basic data. Repeat the above process and perform repeated simulations to obtain multiple sets of evaluation index values. Organize the expected value, variance, standard deviation, probability distribution and cumulative probability distribution of the evaluation indicators obtained from the simulation results, draw the cumulative probability map, and at the same time, check whether the simulation times meet the predetermined accuracy requirements. Based on the above results, the impact of each random variable on project revenue is analyzed. Sample:The time of the total construction period is estimated based on historical data simulation of each stage. According to the elements we divide in WBS, select random variables as four processes of software development: requirements engineering, design, development, testing The total duration is the sum of the four processes Determine the probability distribution of random variables According to historical data, pessimistic estimates, general estimates and optimistic estimates of each variable are obtained. It is assumed that the random variables obey the Gaussian distribution and the parameters of the Gaussian distribution are determined from the historical data. All variable are distributed as Gaussian distribution. Extract random numbers for each random variable Convert the extracted random number into the sampled value of each input variable The sampled values constitute a set of project evaluation basic data Calculate the value of the evaluation index under a random condition based on the basic data. Repeat the above process and perform repeated simulations to obtain multiple sets of evaluation index values. Organize the expected value, variance, standard deviation, probability distribution and cumulative probability distribution of the evaluation indicators obtained from the simulation results, draw the cumulative probability map, and at the same time, check whether the simulation times meet the predetermined accuracy requirements. Ex StandVar 103.8 19.2]]></content>
  </entry>
  <entry>
    <title><![CDATA[MgtPro_7]]></title>
    <url>%2F2019%2F05%2F06%2FSoftwareManagement%2FMgtPro_7%2F</url>
    <content type="text"><![CDATA[1. introduction purpose scope assumptions ä¸»è¦ç…§ä¹‹å‰çš„éƒ¨åˆ† 2. Project practices scope managementï¼ˆusing appendixï¼‰ quality management doc structure planning assurance Control risk management identification æ€ç»´å¯¼å›¾ç±»ä¼¼ç‰©ï¼ˆåŒ…å«æ€»ä½“çš„é£Žé™©ï¼Œæ ¹æ®æˆ‘ä»¬åˆ†çš„å¤§ç‚¹ analysisï¼ˆåŠ å¼•è¨€ï¼‰ impact è¡¨ å±•ç¤ºçŸ©é˜µå›¾ è’™ç‰¹å¡æ´› response 3. Work Breakdown Structure(WBS)4. Project Organization team structure rolesã€responsibilitiesï¼Œ and authorities 5. Resource Allocation staffing profile schedule 6. Glossaryç¬¬ä¸€æ¬¡æ–‡æ¡£ åˆ†å·¥ï¼š 3ã€4ã€5ï¼šè¶…å“¥ï¼Œè°ˆç‘ž 1ã€6ã€impactçš„è¡¨ï¼Œå¯èƒ½æ€§-å½±å“çŸ©é˜µï¼Œå†³ç­–æ ‘ï¼ˆ5ä¸ªï¼‰: æ–‡æ·» 2.1ã€quality planningã€identificationï¼šæ¢ç¨‹ä¼Ÿ 2.2ã€2.3ï¼šç½—åªšï¼Œé™ˆæ¶¦ä¹¾ quality management Planning:[short] ï¼Œoutputï¼š ç®¡ç†è®¡åˆ’ è¡¡é‡æ ‡å‡† checklist Outputéœ€æ±‚è·Ÿè¸ªçŸ©é˜µ Assurance Quality Planning Doc Template 1.0 Quality Assurance Plan 1.1 Introduction â€‹ 1.2 Purposeâ€‹ 1.3 Policy Statement 1.4 Scope 2.0 Management 2.1 Organization structure â€‹ 2.2 Roles and Responsibilities â€‹ 2.2.1 Technical Monitor/Senior Management 2.2.2 Task Leaderâ€‹ 2.2.3 Quality Assurance Teamâ€‹ 2.2.4 Technical staff 3.0 Required Documentation 4.0 Quality Assurance Procedures â€‹ 4.1 Walkthrough Procedure 4.2 Review Procedureâ€‹ 4.3 Audit Procedure â€‹ 4.4 Evaluation Procedure â€‹ 4.5 Process Improvement 5.0 Problem Reporting procedure 6.0 Quality Assurance Metrics Appendix]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F03%2F15%2FSoftwareManagement%2FMgtPro_0%2F</url>
    <content type="text"><![CDATA[MgtPro_0æ ‡å‡†ï¼IEEE/ANSI 830-1998 1ã€å¼•è¨€1.1 éœ€æ±‚æ–‡æ¡£çš„ç›®çš„1.2 äº§å“èŒƒå›´1.3 å®šä¹‰ã€é¦–å­—æ¯ç¼©å†™è¯å’Œç¼©ç•¥è¯1.4 å‚è€ƒæ–‡çŒ®1.5 æ–‡æ¡£çš„å…¶ä½™éƒ¨åˆ†æ¦‚è§ˆ2ã€ä¸€èˆ¬æè¿°2.1 äº§å“é€è§†2.2 äº§å“åŠŸèƒ½2.3 ç”¨æˆ·ç‰¹å¾2.4 ä¸€èˆ¬çº¦æŸ2.5 å‡è®¾å’Œä¾èµ–æ€§3ã€ä¸“é—¨éœ€æ±‚è¦†ç›–åŠŸèƒ½ï¼ŒéžåŠŸèƒ½å’ŒæŽ¥å£éœ€æ±‚â€”â€”æ˜¾ç„¶ï¼Œè¿™æ˜¯æ–‡æ¡£ä¸­æœ€å®žè´¨æ€§çš„éƒ¨åˆ†ï¼Œä½†æ˜¯å› ä¸ºåœ¨ç»„ç»‡çš„å®žè·µä¸­å­˜åœ¨æžå¤§çš„å˜æ•°ï¼Œå¯¹è¿™ä¸€èŠ‚å®šä¹‰æ ‡å‡†çš„ç»“æž„æ˜¯ä¸é€‚å½“çš„ã€‚éœ€æ±‚å¯èƒ½è®°å½•å¤–éƒ¨æŽ¥å£ï¼Œæè¿°ç³»ç»ŸåŠŸèƒ½å’Œç‰¹å¾ã€å®šä¹‰é€»è¾‘çš„æ•°æ®åº“éœ€æ±‚ã€è®¾è®¡çº¦æŸã€ç³»ç»Ÿæ€»ä½“ç‰¹å¾å’Œè´¨é‡ç‰¹å¾ã€‚4ã€é™„å½• è‹±æ–‡ç‰ˆ introduction äº’è”ç½‘ä¹¦åº—çš„è¦æ±‚æ¸…å•ä»Žä¸‹ä¸€ç« å¼€å§‹ï¼Œæˆ‘ä»¬å°†é€šè¿‡æˆ‘ä»¬åˆšåˆšä¸ºæ‚¨æ¦‚è¿°çš„æµç¨‹çš„æ¯ä¸ªé˜¶æ®µï¼Œè·Ÿéšä¸€ä¸ªè¿è¡Œçš„ç¤ºä¾‹ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºInternet Bookstoreã€‚æˆ‘ä»¬å°†è¦å®Œæˆçš„ç”¨ä¾‹ä»¥åŠæˆ‘ä»¬å°†è¦å‘çŽ°çš„ç±»å­˜åœ¨ï¼Œä»¥æ»¡è¶³æˆ‘ä»¬çš„å®¢æˆ·ï¼ˆæˆ‘ä»¬å°†è¦æž„å»ºçš„ä¹¦åº—çš„æ‰€æœ‰è€…ï¼‰æŒ‡å®šçš„æŸäº›è¦æ±‚ã€‚è¿™äº›è¦æ±‚åŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š ä¹¦åº—åº”é€šè¿‡äº’è”ç½‘æŽ¥å—è®¢å•ã€‚ ä¹¦åº—åº”ä¿ç•™æœ€å¤š1,000,000åå®¢æˆ·çš„å¸æˆ·æ¸…å•ã€‚ ä¹¦åº—åº”ä¸ºæ‰€æœ‰å¸æˆ·æä¾›å¯†ç ä¿æŠ¤ã€‚ ä¹¦åº—åº”æä¾›æœç´¢ä¸»ä¹¦ç›®å½•çš„èƒ½åŠ›ã€‚ ä¹¦åº—åº”åœ¨è¯¥ç›®å½•ä¸Šæä¾›å¤šç§æœç´¢æ–¹æ³•ï¼ŒåŒ…æ‹¬æŒ‰ä½œè€…æœç´¢ï¼ŒæŒ‰æ ‡é¢˜æœç´¢ï¼ŒæŒ‰ISBNç¼–å·æœç´¢ï¼Œä»¥åŠæŒ‰å…³é”®å­—æœç´¢ã€‚ ä¹¦åº—åº”æä¾›å…è®¸å®¢æˆ·é€šè¿‡ä¿¡ç”¨å¡æ”¯ä»˜çš„å®‰å…¨æ–¹å¼ã€‚ ä¹¦åº—åº”æä¾›å…è®¸å®¢æˆ·é€šè¿‡é‡‡è´­è®¢å•æ”¯ä»˜çš„å®‰å…¨æ–¹å¼ã€‚ ä¹¦åº—åº”æä¾›ä¸€ç§ç‰¹æ®Šç±»åž‹çš„å¸æˆ·ï¼Œé¢„å…ˆé€šè¿‡é‡‡è´­è®¢å•æ”¯ä»˜ã€‚ ä¹¦åº—åº”æä¾›Webå’Œæ•°æ®åº“ä»¥åŠè¿è¾“å±¥è¡Œç³»ç»Ÿä¹‹é—´çš„ç”µå­é“¾æŽ¥ã€‚ ä¹¦åº—åº”æä¾›Webå’Œæ•°æ®åº“ä»¥åŠåº“å­˜ç®¡ç†ç³»ç»Ÿä¹‹é—´çš„ç”µå­é“¾æŽ¥ã€‚ ä¹¦åº—åº”ä¿æŒå¯¹ä¹¦ç±çš„è¯„è®ºï¼Œå¹¶å…è®¸ä»»ä½•äººä¸Šä¼ è¯„è®ºè¯„è®ºã€‚ ä¹¦åº—åº”æ ¹æ®å®¢æˆ·æ„è§å¯¹ä¹¦ç±è¿›è¡Œè¯„çº§ã€‚ Requirements List for The Internet BookstoreStarting in the next chapter, weâ€™re going to be following a running example, which we call The Internet Bookstore, through each phase of the process weâ€™ve just outlined for you. The use cases weâ€™ll be working through, and the classes weâ€™ll discover, exist to satisfy certain requirements that our client (the owner of the bookstore weâ€™re going to build) has specified. These requirements include the following: The bookstore shall accept orders over the Internet. The bookstore shall maintain a list of accounts for up to 1,000,000 customers. The bookstore shall provide password protection for all accounts. The bookstore shall provide the ability to search the master book catalog. The bookstore shall provide a number of search methods on that catalog, including search by author, search by title, search by ISBN number, and search by keyword. The bookstore shall provide a secure means of allowing customers to pay by credit card. The bookstore shall provide a secure means of allowing customers to pay via purchase order. The bookstore shall provide a special kind of account that is preauthorized to pay via purchase order. The bookstore shall provide electronic links between the Web and database and the shipping fulfillment system. The bookstore shall provide electronic links between the Web and database and the inventory management system. The bookstore shall maintain reviews of books, and allow anyone to upload review comments. The bookstore shall maintain ratings on books, based on customer inputs.]]></content>
  </entry>
  <entry>
    <title><![CDATA[Djangohexoæ­å»ºgithubåšå®¢]]></title>
    <url>%2F2019%2F01%2F17%2FGuideBook%2Fhexo%E6%90%AD%E5%BB%BAgithub%E5%8D%9A%E5%AE%A2%2F</url>
    <content type="text"><![CDATA[hexoæ­å»ºgithubåšå®¢1. å‰ææ¡ä»¶ å·²æœ‰GitHubè´¦å· ï¼ˆMacï¼‰å·²å®‰è£…Xcode command line tools å®‰è£…çš„å·¥å…·æˆ‘ä½¿ç”¨çš„æ˜¯npmå’Œbrew 2. å®‰è£…gitä¸ŽNode.js12brew install gitbrew install node 3. å®‰è£…Hexo1npm install -g hexo-cli ä¸ºäº†ä¾¿äºŽå‘å¸ƒåˆ°GitHubä¸Šï¼Œå»ºè®®åŒæ—¶å®‰è£…hexo-deployer-git 1npm install hexo-deployer-git --save 4. åˆå§‹åŒ–ï¼Œå»ºç«‹åšå®¢é¡¹ç›®é€‰å®šåšå®¢ç½‘ç«™é¡¹ç›®ç¨‹åºæ–‡ä»¶çš„å­˜æ”¾ä½ç½®ï¼Œå¦‚~/develop/hexo/github/ï¼ŒBashä¸­cdè¿›å…¥è¯¥ç›®å½•ä¸‹ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š 1hexo init æ‰§è¡Œå®Œæ¯•åŽï¼Œè¯¥å‘½ä»¤å°†åœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸€å¥—æ ‡å‡†çš„Hexoåšå®¢é¡¹ç›®æ¨¡æ¿ 5. ç”Ÿæˆç½‘ç«™ä¸Šé¢çš„æ“ä½œåªæ˜¯ç”Ÿæˆäº†ä¸€å¥—ç½‘ç«™æž„æˆæ‰€éœ€çš„â€œæºä»£ç â€ï¼Œå®žé™…å‘å¸ƒæ—¶éœ€è¦æ ¹æ®è¿™å¥—â€œæºä»£ç â€å½“ä¸­çš„é…ç½®æ–‡ä»¶ã€åšå®¢æ–‡æ¡£ï¼ˆ.mdæ–‡ä»¶ï¼‰ã€ä¸»é¢˜æ¨¡æ¿ç­‰ï¼Œè¿›è¡Œç»„åˆæž„å»ºï¼Œç”ŸæˆæœåŠ¡å™¨å¯è¯†åˆ«çš„æ ‡å‡†HTMLç½‘ç«™ç›®å½•ï¼Œæ­¤æ—¶å¯ä½¿ç”¨è¯¥å‘½ä»¤ï¼š 1hexo g æ‰§è¡Œå®Œæ¯•åŽï¼Œåœ¨publicç›®å½•ä¸‹å¯çœ‹åˆ°æˆ‘ä»¬è‡ªå·±ä¹¦å†™çš„åšå®¢æ–‡æ¡£ï¼ˆ.mdæ–‡ä»¶ï¼‰ä¸Žæ‰€é€‰çš„åšå®¢ä¸»é¢˜æ¨¡æ¿é“¾æŽ¥ç»„åˆï¼Œç”Ÿæˆçš„æœ€ç»ˆé™æ€ç½‘ç«™æ–‡ä»¶ï¼Œè¯¥ç›®å½•ä¹Ÿå·®ä¸å¤šå°±æ˜¯ä¹‹åŽå‘å¸ƒåˆ°GitHubä¸Šçš„å®žé™…æ–‡ä»¶ï¼ˆå®žé™…å‘å¸ƒåˆ°GitHubçš„æ˜¯.deploy_gitç›®å½•ï¼‰ï¼Œå¤–éƒ¨çš„ç½‘ç«™â€œæºä»£ç â€ä¸ä¼šä¸Šä¼ åˆ°github.ioåº“ 6. å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨å¯å³æ—¶æŸ¥çœ‹ç½‘ç«™è¿è¡Œæ•ˆæžœï¼š 1hexo s é»˜è®¤åœ°å€æ˜¯ localhost:4000 7. é€‰æ‹©ä¸»é¢˜Hexoå¯éšæ—¶ä½¿ç”¨ã€æ›´æ¢åšå®¢ä¸»é¢˜ ä¸»é¢˜æ–‡ä»¶å¯åœ¨Hexoå®˜æ–¹ä¸»é¢˜ç½‘é¡µä¸­ä¸‹è½½ï¼Œä»¥Materialä¸ºä¾‹ï¼Œç‚¹å‡»ä¸»é¢˜é¢„è§ˆå›¾ä¸‹æ–¹çš„ä¸»é¢˜åç§°é“¾æŽ¥å³å¯è¿›å…¥è¯¥ä¸»é¢˜çš„æºç å‘å¸ƒé¡µé¢ GitHub - viosey/hexo-theme-material: Material Design theme for hexo. æ ¹æ®ä¸»é¢˜å®‰è£…æŒ‡å¯¼ï¼Œä¸‹è½½é¡¹ç›®è‡³åšå®¢é¡¹ç›®ä¸‹çš„themesç›®å½•ä¸­ï¼Œæ–‡ä»¶å¤¹å‘½åä¸ºmaterialï¼Œå¹¶åœ¨åšå®¢é…ç½®æ–‡ä»¶_config.ymlä¸­æŒ‡å®šä½¿ç”¨è¯¥ä¸»é¢˜ï¼š 1theme: material å°†materialä¸»é¢˜ç›®å½•ä¸‹çš„_config.template.yamlé‡å‘½åä¸º_config.yaml å‚è€ƒMaterialä¸»é¢˜æ–‡æ¡£è¿›è¡Œå¿…è¦é…ç½® å†æ¬¡æ‰§è¡Œ hexo gå°†ä¼šæ ¹æ®æ–°ä¸»é¢˜é‡æ–°æž„å»ºæ•´ä¸ªåšå®¢ æ³¨æ„ï¼š1.5.6ç‰ˆæœ¬åœ¨æ‰§è¡Œhexo gæ—¶ä¼šæŠ¥å‡ºTypeErroré”™è¯¯ï¼Œå¯å‚è€ƒIssue686ä¿®æ”¹dnsprefetch.ejsæ–‡ä»¶è§£å†³ 8. å‘å¸ƒåšå®¢8.1 åˆ›å»ºgithub.ioä»“åº“åœ¨è‡ªå·±çš„GitHubä¸­ï¼Œåˆ›å»ºæ–°ä»“åº“ï¼Œæ ‡å‡†å‘½åä¸ºGitHubç”¨æˆ·å.github.ioï¼Œä¾‹å¦‚æˆ‘çš„ï¼šwavky.github.io ä»“åº“Readmeã€Licenseä¹‹ç±»çš„ç•™ç©ºå³å¯ï¼Œä¹‹åŽåœ¨å‘å¸ƒä¸Šä¼ æ—¶ä¼šè¢«å¼ºåˆ¶è¦†ç›–æŠ¹æŽ‰ 8.2 é…ç½®SSHå¯†é’¥å‚è€ƒ https://my.oschina.net/ryaneLee/blog/638440é…ç½®SSHå¯†é’¥ä¸€èŠ‚ 8.3 ä¿®æ”¹åšå®¢é…ç½®æ–‡ä»¶_config.yml1234deploy: type: git repo: GitHubä¸Šä¼ ä»“åº“çš„å®Œæ•´è·¯å¾„ï¼Œå¦‚ https://github.com/wavky/wavky.github.io.git branch: master 8.4 å‘å¸ƒåˆ°GitHubåœ¨hexo gç”Ÿæˆå®Œæ¯•åŽï¼Œå¯æ‰§è¡Œè¯¥å‘½ä»¤å‘å¸ƒåšå®¢åˆ°GitHubä¸Šï¼š 1hexo d æˆ–åœ¨ç”Ÿæˆç½‘ç«™çš„åŒæ—¶è¿›è¡Œå‘å¸ƒï¼š 1hexo g -d 8.5 æŸ¥çœ‹æ•ˆæžœç‚¹å‡»ä»“åº“é¡µé¢ä¸­çš„GH PagesæŒ‰é’®ï¼Œåº”è¯¥å¯ä»¥çœ‹åˆ°çœŸæ­£å‘å¸ƒåœ¨äº’è”ç½‘ä¸Šçš„æ•ˆæžœ 9. ç»‘å®šåŸŸåGitHub Pages é»˜è®¤æä¾›çš„æ˜¯ GitHubç”¨æˆ·å.github.ioï¼ˆä¾‹å¦‚æˆ‘çš„ï¼šwavky.github.ioï¼‰ä½œä¸ºåšå®¢è®¿é—®åœ°å€ï¼Œå¯è®¾ç½®ç»‘å®šè‡ªå®šä¹‰åŸŸå åœ¨åšå®¢é¡¹ç›®ç›®å½•çš„sourceæ–‡ä»¶å¤¹ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªCNAMEæ–‡ä»¶ï¼Œå­˜å‚¨é¢„å¤‡ä½¿ç”¨çš„ä¸ªäººåŸŸåï¼Œå¦‚ï¼š 12# åœ¨sourceç›®å½•ä¸‹echo story.wavky.com &gt; CNAME æ¸…ç†Hexoç¼“å­˜å¹¶é‡æ–°ç”Ÿæˆå‘å¸ƒ 12hexo cleanhexo g -d GitHubé¡¹ç›®é¡µé¢ä¸­Settingè®¾ç½®ç•Œé¢ï¼Œæ»šåˆ°GitHub Pageséƒ¨åˆ†ç¡®è®¤åŸŸåæ— è¯¯ åœ¨ä¸ªäººåŸŸåæä¾›å•†ï¼ˆå¦‚é˜¿é‡Œäº‘ä¸‡ç½‘ï¼‰ä¸­ï¼Œè¿›å…¥DNSè®¾ç½®ç•Œé¢ï¼Œè¿½åŠ ä¸€æ¡CNAMEè®°å½•ï¼Œè¿™é‡Œæˆ‘æŒ‡å®šä»¥storyå‰ç¼€çš„ä¸ªäººåŸŸåè·³è½¬åˆ°åŽŸæ¥çš„é»˜è®¤çš„åšå®¢åŸŸåwavky.github.ioï¼Œè®°å½•å¦‚ä¸‹ï¼š æ³¨ï¼šå…¶ä»–ç±»åž‹çš„åŸŸåç»‘å®šæ–¹å¼ï¼ˆä¾‹å¦‚IPæŒ‡å‘ç­‰ï¼‰ï¼Œåœ¨æœ€åŽä¸€æ­¥DNSè®¾ç½®ä¸­æ“ä½œä¼šä¸ä¸€æ · ä½œè€…ï¼šWavky é“¾æŽ¥ï¼šhttps://www.jianshu.com/p/cb0750324e26 ä¾†æºï¼šç®€ä¹¦ ç®€ä¹¦è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ï¼Œä»»ä½•å½¢å¼çš„è½¬è½½éƒ½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒå¹¶æ³¨æ˜Žå‡ºå¤„ã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[QT_tablewidget]]></title>
    <url>%2F2019%2F01%2F17%2FGuideBook%2FQT_tablewidget%2F</url>
    <content type="text"><![CDATA[qt tablewidget2018-6-11 åŸºäºŽqtçš„tablewidget å®žçŽ°æ–‡ä»¶ç³»ç»Ÿçš„æ¨¡æ‹Ÿï¼Œtreewidgetå®žçŽ°æ ‘å½¢ç›®å½• é…ç½®ï¼šmac 10.13ã€‚ Qt 5.9 å‚è€ƒåšæ–‡ï¼šhttps://www.cnblogs.com/zhoug2020/p/3789076.html //å‰é¢ä¸€éƒ¨åˆ†åŸºæœ¬éƒ½æ˜¯æŒ‰ç…§è¿™ä¸ªåšä¸»å†™çš„æ¥çš„ï¼ŒåŽé¢åŸºæœ¬éƒ½æ˜¯éšä¾¿æ‰¾çš„ðŸŒšðŸ™ˆï¼Œè¿™é‡Œå½“æ€»ç»“ä¸€ä¸‹ï¼Œå› ä¸ºä¸è¿™æ ·ä¸‹æ¬¡ä¾æ—§ä¸è®°å¾—å’‹æ•´ã€‚ã€‚ã€‚ æ–‡ä»¶ç³»ç»Ÿæä¾›çš„æ“ä½œï¼š æ ¼å¼åŒ– æŠ¥é”™äº†ã€‚ã€‚ã€‚åè¡€ã€‚ã€‚ðŸ™ƒï¼Œè°ƒäº†åŠå¤©äº†ï¼Œå¤ªéš¾è¿‡äº†ï¼Œæˆ‘è¿˜æ˜¯æ´—æ´—ç¡äº†å§ åˆ›å»ºå­ç›®å½•ã€‚ okðŸ˜ƒ åˆ é™¤å­ç›®å½•ã€‚ Ok æ˜¾ç¤ºç›®å½•ã€‚ ok æ›´æ”¹å½“å‰ç›®å½•ã€‚ Okï¼Œä¸€ç‚¹æ ‘å½¢ç›®å½•å°±å¯ä»¥å•¦ åˆ›å»ºæ–‡ä»¶ã€‚ok æ‰“å¼€æ–‡ä»¶ã€‚ok å…³é—­æ–‡ä»¶ã€‚è¿˜æ²¡å†™ï¼Œokï¼Ÿç›´æŽ¥å…³å°±å¥½äº†å•Šã€‚ã€‚ã€‚ å†™æ–‡ä»¶ã€‚ éœ€è¦ç•Œé¢ï¼Œå®³æ²¡å†™ è¯»æ–‡ä»¶ã€‚ åŒä¸Šï¼Œä¸¤åŠŸèƒ½ä¸€èµ·ï¼Œå®³æ²¡å†™ï¼Œå…³å†™äº†ä¸ªç•Œé¢ã€‚ã€‚ä¸‘åˆ°å“­æ³£ï¼Œç¾Žå·¥å¼±é¸¡å“­å”§å”§ åˆ é™¤æ–‡ä»¶ã€‚ Ok å±žæ€§ç•Œé¢ï¼Œå®³æ²¡å†™ï¼Œoå¾—kï¼Ÿ ä½¿ç”¨tablewidget å®žçŽ°ï¼š å¥½å¤šåŠŸèƒ½ï¼Œçœ‹ç€å¿ƒç–¼=. = æ“ä½œè¡¨å•ï¼Œï¼ˆæ·»åŠ åˆ é™¤è¡Œ âœ”ï¸ åŒå‡»æŸè¡Œæ‰“å¼€è¯¥è¡Œæ–‡ä»¶ å³é”®èœå• âœ”ï¸ æ‰“å¼€æŸè¡Œé‡å‘½å âœ”ï¸ å—·å—·ï¼é‡å‘½åè¿˜ä¹ˆæœ‰å†™æˆåŠŸï¼ 1. qt tablewidgetåˆå§‹åŒ–123456789101112131415161718192021222324252627282930313233343536373839404142//Ã¥Â¯Â¹tablewidgetÃ§Å¡â€žÃ¥Ë†Ã¥Â§â€¹Ã¥Å’â€“ ui-&gt;tableWidget-&gt;setColumnCount(4); ui-&gt;tableWidget-&gt;horizontalHeader()-&gt;setDefaultSectionSize(150); //Ã¨Â®Â¾Ã§Â½Â®Ã¨Â¡Â¨Ã¥Â¤Â´ QStringList header; header&lt;&lt;tr("Ã¥Ã§Â§Â°")&lt;&lt;tr("Ã¤Â¿Â®Ã¦â€Â¹Ã¦â€”Â¥Ã¦Å“Å¸")&lt;&lt;tr("Ã¥Â¤Â§Ã¥Â°")&lt;&lt;tr("Ã§Â§Ã§Â±Â»"); ui-&gt;tableWidget-&gt;setHorizontalHeaderLabels(header); //Ã¨Â®Â¾Ã§Â½Â®Ã¨Â¡Â¨Ã¥Ã§Â§Â°Ã¥Å  Ã§Â²â€” QFont font = ui-&gt;tableWidget-&gt;horizontalHeader()-&gt;font(); font.setBold(true); ui-&gt;tableWidget-&gt;horizontalHeader()-&gt;setFont(font); ui-&gt;tableWidget-&gt;horizontalHeader()-&gt;setStretchLastSection(true); //Ã¨Â®Â¾Ã§Â½Â®Ã¥â€¦â€¦Ã¦Â»Â¡Ã¨Â¡Â¨Ã¥Â®Â½Ã¥ÂºÂ¦ ui-&gt;tableWidget-&gt;horizontalHeader()-&gt;sectionResizeMode(QHeaderView::ResizeToContents); //ui-&gt;tableWidget-&gt;verticalHeader()-&gt;setResizeMode(QHeaderView::ResizeToContents); ui-&gt;tableWidget-&gt;verticalHeader()-&gt;setDefaultSectionSize(20); //Ã¨Â®Â¾Ã§Â½Â®Ã¨Â¡Å’Ã©Â«Ëœ ui-&gt;tableWidget-&gt;setFrameShape(QFrame::NoFrame); ui-&gt;tableWidget-&gt;setShowGrid(false); ui-&gt;tableWidget-&gt;verticalHeader()-&gt;setVisible(false); ui-&gt;tableWidget-&gt;setSelectionMode(QAbstractItemView::ExtendedSelection); ui-&gt;tableWidget-&gt;setSelectionBehavior(QAbstractItemView::SelectRows); ui-&gt;tableWidget-&gt;setEditTriggers(QAbstractItemView::SelectedClicked); ui-&gt;tableWidget-&gt;horizontalHeader()-&gt;resizeSection(0,150); ui-&gt;tableWidget-&gt;horizontalHeader()-&gt;setFixedHeight(25); ui-&gt;tableWidget-&gt;setStyleSheet("selection-background-color:lightblue;"); ui-&gt;tableWidget-&gt;setAlternatingRowColors(true); ui-&gt;tableWidget-&gt;horizontalHeader()-&gt;setStyleSheet("QHeaderView::section&#123;background:lightgray;&#125;"); ui-&gt;tableWidget-&gt;horizontalScrollBar()-&gt;setStyleSheet("QScrollBar&#123;background:transparent; height:10px;&#125;" "QScrollBar::handle&#123;background:lightgray; border:2px solid transparent; border-radius:5px;&#125;" "QScrollBar::handle:hover&#123;background:gray;&#125;" "QScrollBar::sub-line&#123;background:transparent;&#125;" "QScrollBar::add-line&#123;background:transparent;&#125;"); ui-&gt;tableWidget-&gt;verticalScrollBar()-&gt;setStyleSheet("QScrollBar&#123;background:transparent; width: 10px;&#125;" "QScrollBar::handle&#123;background:lightgray; border:2px solid transparent; border-radius:5px;&#125;" "QScrollBar::handle:hover&#123;background:gray;&#125;" "QScrollBar::sub-line&#123;background:transparent;&#125;" "QScrollBar::add-line&#123;background:transparent;&#125;"); ui-&gt;tableWidget-&gt;horizontalHeader()-&gt;setHighlightSections(false); ä»€ä¹ˆé¬¼ä»€ä¹ˆé¬¼ 2. åˆ›å»ºç›®å½•æ–‡ä»¶12345678910111213141516171819202122QCursor cur = this-&gt;cursor();QMenu* popMenu = new QMenu(this);QPoint point = QCursor::pos();QTableWidgetItem *item = ui-&gt;tableWidget-&gt;itemAt(point);popMenu-&gt;addAction(rMenu.action_open);popMenu-&gt;addAction(rMenu.action_rename);popMenu-&gt;addSeparator();popMenu-&gt;addAction(rMenu.action_delete);popMenu-&gt;addAction(rMenu.action_atrribute);popMenu-&gt;addAction(rMenu.action_flush);popMenu-&gt;addSeparator();popMenu-&gt;addAction(rMenu.action_create_folder);//Ã¨Â®Â¾Ã§Â½Â®Ã¥Â¿Â«Ã¦Â·Ã©â€Â® è¿™å°±æ˜¯æˆ‘åšæŒç”¨è‹±æ–‡å†™æ³¨é‡Šçš„åŽŸå› = =rMenu.action_open-&gt;setShortcut(QKeySequence::Open);rMenu.action_create_folder-&gt;setShortcut(QKeySequence::New);rMenu.action_flush-&gt;setShortcut(QKeySequence::Refresh);rMenu.action_delete-&gt;setShortcut(QKeySequence::Delete);popMenu-&gt;exec(QCursor::pos());event-&gt;accept(); Connect æ–¹æ³•éœ€è¦å†™åœ¨uiåˆå§‹åŒ–å‡½æ•°é‡Œï¼Œå†™åœ¨æˆå‘˜å‡½æ•°é‡Œä¼šè¢«å¤šæ¬¡å”¤é†’å¯¼è‡´ä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„ä¸œè¥¿ï¼Ÿ 3. å³é”®èœå•åˆ›å»º123auto rootItem = new QTreeWidgetItem(ui&gt;treeWidget,QStringList(â€œmyFile"));rootItem-&gt;setIcon(0,folderIcon);itemNode.insert(root,rootItem); å¯¹äºŽtablewidget è¡¨çš„åˆå§‹åŒ–ï¼Œè®¾ç½®è¡¨å¤´è¡¨çš„æ ¼å¼ç­‰ç­‰ 2018.6.20 //made by may ä¹±ç³Ÿç³Ÿçš„é‡æ–°æ•´ç†ä¸€éï¼Ÿ 4. æ–‡ä»¶ç›¸å…³æ“ä½œ12345678910111213141516171819 QDir dir = QDir::current(); if(!dir.exists("myFile"))&#123; dir.mkdir("myFile"); &#125; //mkdirä¸ºåˆ›å»ºæ–°çš„ç›®å½• if(root!=NULL)&#123; qDebug()&lt;&lt;"i am so cool! "&lt;&lt;root-&gt;fileName; &#125; QDir dir = QDir::current(); QString path = dir.absolutePath(); qDebug()&lt;&lt;path; path = path + QDir::separator() + "myFile"; QFile* tempFile = new QFile; dir.mkpath(path); dir.setCurrent(path); dir.setPath(path); //æ­¤å¤„ä¿®æ”¹äº†å½“å‰è·¯å¾„è¡¥å……ï¼šfile-&gt;setFileName(fileName) ä¸ºåœ¨è¯¥è·¯å¾„ä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶ï¼Œé»˜è®¤ä¸ºtxtï¼Œå…¶å®žå§ã€‚ã€‚ã€‚ã€‚æˆ‘ä¹Ÿè¿˜ä¸çŸ¥é“æ€Žä¹ˆåˆ›å»ºå…¶ä»–å½¢å¼çš„æ–‡ä»¶ï¼ˆæ¯”å¦‚pptå•¥çš„ï¼Œä½†æ˜¯å°è±¡ä¸­macå¥½åƒéƒ½æ˜¯è¦æ‰“å¼€å¯¹åº”çš„appæ‰èƒ½æ–°å»ºæ–‡ä»¶çš„ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546QFileInfoList Widget::getFileList(QString path,node* root)&#123; QDir dir(path); QDir absDir = QDir::currentPath(); QString absPath = absDir.absolutePath(); qDebug()&lt;&lt;"absPath : "&lt;&lt;absPath; QFileIconProvider fileIconPro; QIcon icon; QString fileName; QFileInfoList fileInfoList = dir.entryInfoList(); dir.setSorting(QDir::Name); QFileInfoList folderList = dir.entryInfoList(QDir::NoDotAndDotDot | QDir::Dirs|QDir::Files); qDebug()&lt;&lt;"now path: "&lt;&lt;path; for(int i = 0;i != folderList.size();i++)&#123; QString name = folderList.at(i).absoluteFilePath(); if(absPath.contains('/'))&#123; fileName = name.replace(path+"/",""); fileName = fileName.replace(absPath+"/",""); qDebug()&lt;&lt;"parent: "&lt;&lt;root-&gt;fileName&lt;&lt;" child: "&lt;&lt;fileName; &#125;else&#123; fileName = name.replace(path+"\\",""); fileName = fileName.replace(absPath+"\\",""); qDebug()&lt;&lt;"parent: "&lt;&lt;root-&gt;fileName&lt;&lt;" child: "&lt;&lt;fileName; &#125; QFileInfo fileInfo = folderList.at(i); QString type; int permission; if(fileInfo.suffix() == "")&#123; type = "folder"; permission = ReadOnly; icon = fileIconPro.icon(QFileIconProvider::Folder); &#125;else&#123; type = fileInfo.suffix(); permission = Write; icon = fileIconPro.icon(fileInfo); &#125; int locate = 0; FCB fcb(count++,fileName,type,fileInfo.created(),fileInfo.lastModified(),locate,fileInfo.size(),permission,0); catalog.insert(root,fileName,fcb); qDebug()&lt;&lt;"path :"&lt;&lt;name; node* childRoot = catalog.find(root,fileName); auto item = insertTreeItem(root,fileName,icon); if(childRoot != NULL &amp;&amp; item != NULL) itemNode.insert(childRoot,item); QFileInfoList childFileList = getFileList(name,childRoot); fileInfoList.append(childFileList); &#125; return fileInfoList;&#125; å›¾æ ‡èŽ·å–ï¼Œ qtæä¾›äº†ç›¸å½“æ–¹ä¾¿çš„å›¾æ ‡èŽ·å–ï¼Œä½†æä¾›çš„å›¾æ ‡æœ‰é™ï¼Œæ­¤å¤„æˆ‘åªç”¨äº†æ–‡æœ¬çš„å’Œæ–‡ä»¶å¤¹çš„ï¼Œä¹Ÿè¿˜å¤Ÿç”¨ åˆ›å»ºæ–°çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ treewidgetæ“ä½œ: æ·»åŠ item èŽ·å–æŸä¸€ä¸ªæ–‡ä»¶ä¸‹çš„æ‰€æœ‰æ–‡ä»¶getFileList èŽ·å–è¡¨å•æ­¤æ—¶é€‰æ‹©çš„åˆ— å³é”®èœå•ç›¸åº”äº‹ä»¶ //ç›¸å½“ç”Ÿæ°”äº†è¾£é¸¡pagesï¼æˆ‘å†³å®šåŽ»å®˜ç½‘ä¸‹wpsï¼Œå†è§pagesï¼Œè¾£é¸¡çŽ©æ„ï¼Œè¡¨æ ¼ç»•æ–‡æœ¬èƒ½ä¸èƒ½åˆ«å èµ·æ¥ï¼Œèƒ½ä¸èƒ½åˆ«ä¹±è·‘ï¼Œæ“ç¢Žè€å¦ˆå­çš„å¿ƒäº†ï¼Œæ–‡æ¡£ä»Žå¼€å§‹åˆ°æ”¾å¼ƒå•Šå•Šå•Š //mdçœŸå¥½ç”¨]]></content>
  </entry>
  <entry>
    <title><![CDATA[OpenGLçŽ¯å¢ƒå»ºç«‹]]></title>
    <url>%2F2019%2F01%2F17%2FGuideBook%2FOpenGL%E7%8E%AF%E5%A2%83%E7%9A%84%E5%BB%BA%E7%AB%8B%2F</url>
    <content type="text"><![CDATA[OpenGLçŽ¯å¢ƒçš„å»ºç«‹ï¼štutorial library ä¸Šé¢æ˜¯æ•™ç¨‹ï¼Œä¸‹é¢æ˜¯å‡ºçš„é”™çš„è§£å†³æ–¹æ³• ç”»ä¸ªä¸‰è§’å½¢ errorï¼šld: symbol(s) not found for architecture x86_64 clang: error: linker command failed with exit code 1 (use -v to see invocation) solveï¼šç¼ºå°‘æŸä¸ªåº“ï¼Œåœ¨build phases-&gt;link binary with librarieså¤„æ·»åŠ â€œlibgltools.dylibâ€æ–‡ä»¶ï¼Œä¹‹åŽå°±æŠ¥äº†å¦ä¸€ä¸ªé”™ã€‚ã€‚ã€‚ errorï¼šld: library not found for -lgltools clang: error: linker command failed with exit code 1 (use -v to see invocation) solveï¼šlibrary https://blog.csdn.net/harryptter/article/details/50380686 ï¼ˆ ï¼åœ¨è¿™é‡Œå¼ºçƒˆðŸ‘ä¸€ä¸‹æˆ‘ä»¬å­™é›¨é¦¨åŒå­¦ï¼Œæ‰¾çš„æ•™ç¨‹å¤ªç®¡ç”¨äº†ï¼ï¼‰]]></content>
  </entry>
  <entry>
    <title><![CDATA[xcodeçœŸæœºæµ‹è¯•ï¼ˆæ— å¼€å‘è€…æ¨¡å¼]]></title>
    <url>%2F2019%2F01%2F17%2FGuideBook%2Fxcode%E7%9C%9F%E6%9C%BA%E6%B5%8B%E8%AF%95%20%E6%97%A0%E5%BC%80%E5%8F%91%E8%80%85%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[xcodeçœŸæœºæµ‹è¯• æ— å¼€å‘è€…æ¨¡å¼%&gt;. &lt; ä½œä¸ºäº¤ä¸èµ·å¼€å‘è€…è´¦å·å¹´è´¹çš„ç©·é€¼ï¼Œhciä½œä¸šè¦ç”¨åˆ°çœŸæœºæµ‹è¯•åªèƒ½é…±ç´«äº†å™— % å¸Œæœ›å“ªå¤©å¯ä»¥è‡ªå·±åšä¸ªappä¸Šæž¶ï¼Œä¸æ±‚å‘å®¶è‡´å¯Œåªæ±‚æµé‡é’±èƒ½å¤Ÿæˆ‘äº¤ä¸ªå¹´è´¹ æµ‹è¯•è®¾å¤‡ï¼šmac 10.13.4ï¼› xcode9.4ï¼› iphone ios 11.3 å°†è‡ªå·±çš„æ‰‹æœºç”¨æ•°æ®çº¿è¿žåˆ°ç”µè„‘ä¸Šï¼Œå¼€å¯ä¿¡ä»» xcodeæ‰“å¼€éœ€è¦æ¨¡æ‹Ÿçš„å·¥ç¨‹ï¼Œæ­¤å¤„ä¸ºARPra1ï¼Œå°†æµ‹è¯•è®¾å¤‡è°ƒæ•´ä¸ºè‡ªå·±çš„è®¾å¤‡ æ·»åŠ å¼€å‘è€…è´¦æˆ·ï¼Œxcode-&gt;prefrence-&gt;account ,ç‚¹å‡»â€œ+â€ -&gt; apple ID,è¾“å…¥è‡ªå·±çš„apple IDï¼Œç‚¹å‡»manageï¼Œæ·»åŠ å¼€å‘è€…è¯ä¹¦ è¿”å›žå·¥ç¨‹ï¼Œæ‰“å¼€generalï¼Œå°†identifyå¤„çš„bundle id æ”¹ä¸ºæœªå‡ºçŽ°è¿‡çš„idåï¼Œteamå¤„æ”¹æˆåˆšåˆšæ·»åŠ çš„apple id runä¸€ä¸‹è¿™ä¸ªé¡¹ç›®ä½ å°±ä¼šå‘çŽ°æ‰‹æœºä¸Šè£…äº†ä¸ªappï¼Œå¦‚æžœæ— æ³•æ‰“å¼€ï¼Œæ‰“å¼€æ‰‹æœºä¸Šçš„ è®¾ç½®â€”â€”é€šç”¨â€”â€”è®¾å¤‡ç®¡ç†â€”â€”å°†Apple idæ‰€å¯¹åº”çš„å¼€å‘è€…è®¾ç½®ä¸ºä¿¡ä»» okï¼ŒçŽ°åœ¨å¯ä»¥æ„‰å¿«çš„æµ‹è¯•å•¦]]></content>
  </entry>
  <entry>
    <title><![CDATA[Djangoå®žçŽ°è¡£åž‹è¯†åˆ«]]></title>
    <url>%2F2019%2F01%2F04%2FGuideBook%2FDjango%2FDjango%E5%AE%9E%E7%8E%B0%E8%A1%A3%E5%9E%8B%E8%AF%86%E5%88%AB%2F</url>
    <content type="text"><![CDATA[Djangoå®žçŽ°è¡£åž‹è¯†åˆ«è¡£åž‹è¯†åˆ«å‡ºï¼šç±»åž‹ã€é¢œè‰²ã€æ¬¾å¼ [ ] ä¸»è¦ç‰©ä½“æå–ï¼ˆç›®æ ‡æ£€æµ‹ï¼‰ï¼ŒimageAI [ ] è£å‰ªå›¾ç‰‡ï¼Œcv2 [ ] ç”Ÿæˆé€æ˜ŽèƒŒæ™¯çš„å›¾ç‰‡ [ ] ç±»åž‹è¯†åˆ«ï¼šCNNç½‘ç»œï¼Œ tf [x] é¢œè‰²å’Œé…è‰²æå–ï¼šhaishoku åº“ï¼ŒèŽ·å–ä¸»è¦é¢œè‰²å’Œé…è‰²ï¼Œhaishoku [ ] ä¸€äº›å°å‡½æ•°ï¼š [x] RGBï¼ˆTupleã€åå…­è¿›åˆ¶äº’è½¬ [ ] stringã€urläº’è½¬ [ ] å‘æ•°æ®åº“ä¸­æ‰¹é‡æ·»åŠ æ•°æ®]]></content>
  </entry>
  <entry>
    <title><![CDATA[Djangoå›¾ç‰‡ä¸Šä¼ å’Œè®¿é—®]]></title>
    <url>%2F2019%2F01%2F02%2FGuideBook%2FDjango%2FDjango%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0%E5%92%8C%E8%AE%BF%E9%97%AE%2F</url>
    <content type="text"><![CDATA[Djangoå›¾ç‰‡ä¸Šä¼ å’Œè®¿é—®é…ç½®ï¼š nginx+Django 1. å›¾ç‰‡ä¸Šä¼ 1.1 settings.py12345678910111213# closetUsers/settings.py# Static files (CSS, JavaScript, Images)# https://docs.djangoproject.com/en/2.1/howto/static-files/# æ”¶é›†Djangoçš„é™æ€æ–‡ä»¶åˆ°åŒä¸€ä¸ªstaticä¸­STATIC_ROOT = os.path.join(BASE_DIR, "static/")STATIC_URL = '/static/'MEDIA_ROOT = os.path.join(STATIC_ROOT, "media/")MEDIA_URL = '/media/'IMG_ROOT = os.path.join(STATIC_ROOT, "img")IMG_URL = 'img/' 1.2 views.py1234567891011121314151617181920# users/views.py# ä¸Šä¼ å›¾ç‰‡åˆ°é™æ€æ–‡ä»¶çš„æ–‡ä»¶å¤¹@csrf_exemptdef upload_img(request): if request.method == 'POST': img = request.FILES.get('file', None) if not img: return JsonResponse(data=&#123;"msg": "æ²¡æœ‰ä¸Šä¼ çš„å›¾ç‰‡æ–‡ä»¶"&#125;, status=status.HTTP_400_BAD_REQUEST) # to do, éªŒè¯ç”¨æˆ·æƒé™ if 'name' not in img: return JsonResponse(data=&#123;"msg": "æ— åæ–‡ä»¶æ— æ³•ä¸Šä¼ "&#125;, status=status.HTTP_400_BAD_REQUEST) file_path = os.path.join(settings.IMG_ROOT, img.name) dest_img_path = open(file_path, 'wb+') for chunk in img.chunks(): dest_img_path.write(chunk) dest_img_path.close() return JsonResponse(data=&#123;"msg": "å›¾ç‰‡ä¸Šä¼ æˆåŠŸ", "url": file_path&#125;, status=status.HTTP_202_ACCEPTED) else: return JsonResponse(data=&#123;"msg": "this method is not allowed"&#125;, status=status.HTTP_405_METHOD_NOT_ALLOWED) 1.3 urls.py12# users/urls.py path('upload/', views.upload_img), 2. å›¾ç‰‡è®¿é—®æ‰€æœ‰è®¿é—®é™æ€æ–‡ä»¶éƒ½å¯ä»¥ä½¿ç”¨è¯¥æ–¹æ³•ï¼Œå›¾ç‰‡è®¿é—®ä¸ºåªè¯»è¯·æ±‚ï¼Œä¸éœ€è¦ç»è¿‡ç”¨æˆ·è®¤è¯ç­‰æƒé™å¤„ç†ï¼Œä½¿ç”¨è¯¥æ–¹æ³•çš„å¥½å¤„æ˜¯ä¸éœ€è¦ç»è¿‡djangoçš„è¿›ä¸€æ­¥å¤„ç†ï¼Œå‡è½»æœåŠ¡å™¨çš„åŽ‹åŠ›ã€‚ ä¿®æ”¹nginx.confé…ç½®æ–‡ä»¶ï¼Œæ·»åŠ ä¸€ä¸‹éƒ¨åˆ† 123location /img &#123; alias /home/projects/closet/closetUsers/tempPhotos; #å­˜æ”¾å›¾ç‰‡çš„æ–‡ä»¶å¤¹è·¯å¾„&#125; è®¿é—®æ–¹å¼ï¼šhttp://120.76.62.132/img/tank_sample_4.jpeg 403Forbbien alwasy 404]]></content>
  </entry>
  <entry>
    <title><![CDATA[Django+nginx+uwsgié…ç½®]]></title>
    <url>%2F2019%2F01%2F01%2FGuideBook%2FDjango%2FDjango%2Bnginx%2Buwsgi%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[Django+nginx+uwsgié…ç½®Django+nginx+uwsgié…ç½® åœ¨çº¿é¡¹ç›®éƒ¨ç½² 1. uwsgiå®‰è£…æµ‹è¯•1.1 uwsgiå®‰è£…1root@iZwz969jm0y04abuhgx4byZ:~# python3 -m pip install uwsgi 1.2 uwsgiæµ‹è¯•æµ‹è¯• uwsgi æ˜¯å¦æ­£å¸¸ï¼š æ–°å»º test.py æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š 123def application(env, start_response): start_response('200 OK', [('Content-Type','text/html')]) return "Hello World" ç„¶åŽåœ¨ç»ˆç«¯è¿è¡Œï¼š 1uwsgi --http :8001 --wsgi-file test.py åœ¨æµè§ˆå™¨å†…è¾“å…¥ï¼šhttp://127.0.0.1:8001ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰&quot;Hello Worldâ€è¾“å‡ºï¼Œè‹¥æ²¡æœ‰è¾“å‡ºï¼Œè¯·æ£€æŸ¥ä½ çš„å®‰è£…è¿‡ç¨‹ã€‚ 2. nginx å®‰è£…æµ‹è¯•2.1 å®‰è£… Nginxå®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š 12345678cd ~wget http://nginx.org/download/nginx-1.11.0.tar.gztar xf nginx-1.11.0.tar.gzcd nginx-1.11.0./configure --prefix=/usr/local/nginx-1.11.0 \--with-http_stub_status_module \--with-http_gzip_static_modulemake &amp;&amp; make install ä½ å¯ä»¥é˜…è¯» Nginx å®‰è£…é…ç½® äº†è§£æ›´å¤šå†…å®¹ã€‚ 3. Djangoå®‰è£…æµ‹è¯•ç¬”è€…ç”¨çš„æ˜¯python3ä»¥ä¸Šçš„ç‰ˆæœ¬ 1pip install django æµ‹è¯• django æ˜¯å¦æ­£å¸¸ï¼Œè¿è¡Œï¼š 123django-admin.py startproject demositecd demositepython2.7 manage.py runserver 0.0.0.0:8002 åœ¨æµè§ˆå™¨å†…è¾“å…¥ï¼šhttp://127.0.0.1:8002ï¼Œæ£€æŸ¥djangoæ˜¯å¦è¿è¡Œæ­£å¸¸ã€‚ é¡¹ç›®ç»„ç»‡ç»“æž„ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566root@iZwz969jm0y04abuhgx4byZ:/home/projects/closet/closetUsers# tree.â”œâ”€â”€ closetUsersâ”‚ â”œâ”€â”€ __init__.pyâ”‚ â”œâ”€â”€ __pycache__â”‚ â”‚ â”œâ”€â”€ __init__.cpython-37.pycâ”‚ â”‚ â”œâ”€â”€ settings.cpython-37.pycâ”‚ â”‚ â”œâ”€â”€ urls.cpython-37.pycâ”‚ â”‚ â””â”€â”€ wsgi.cpython-37.pycâ”‚ â”œâ”€â”€ settings.pyâ”‚ â”œâ”€â”€ urls.pyâ”‚ â””â”€â”€ wsgi.pyâ”œâ”€â”€ __init__.pyâ”œâ”€â”€ jsonTestâ”‚ â”œâ”€â”€ modifyUserInfo.jsonâ”‚ â””â”€â”€ test.jsonâ”œâ”€â”€ manage.pyâ”œâ”€â”€ __pycache__â”‚ â”œâ”€â”€ __init__.cpython-37.pycâ”‚ â”œâ”€â”€ manage.cpython-37.pycâ”‚ â”œâ”€â”€ settings.cpython-37.pycâ”‚ â”œâ”€â”€ urls.cpython-37.pycâ”‚ â””â”€â”€ wsgi.cpython-37.pycâ”œâ”€â”€ settings.pyâ”œâ”€â”€ staticâ”œâ”€â”€ tempPhotosâ”œâ”€â”€ urls.pyâ”œâ”€â”€ usersâ”‚ â”œâ”€â”€ admin.pyâ”‚ â”œâ”€â”€ apps.pyâ”‚ â”œâ”€â”€ backends.pyâ”‚ â”œâ”€â”€ forms.pyâ”‚ â”œâ”€â”€ __init__.pyâ”‚ â”œâ”€â”€ matches.pyâ”‚ â”œâ”€â”€ migrationsâ”‚ â”‚ â”œâ”€â”€ 0001_initial.pyâ”‚ â”‚ â”œâ”€â”€ 0002_auto_20181222_1315.pyâ”‚ â”‚ â”œâ”€â”€ 0003_auto_20181222_1428.pyâ”‚ â”‚ â”œâ”€â”€ 0004_auto_20181229_1631.pyâ”‚ â”‚ â”œâ”€â”€ __init__.pyâ”‚ â”‚ â””â”€â”€ __pycache__â”‚ â”‚ â”œâ”€â”€ 0001_initial.cpython-37.pycâ”‚ â”‚ â”œâ”€â”€ 0002_auto_20181222_1315.cpython-37.pycâ”‚ â”‚ â”œâ”€â”€ 0003_auto_20181222_1428.cpython-37.pycâ”‚ â”‚ â”œâ”€â”€ 0004_auto_20181229_1631.cpython-37.pycâ”‚ â”‚ â””â”€â”€ __init__.cpython-37.pycâ”‚ â”œâ”€â”€ models.pyâ”‚ â”œâ”€â”€ permissions.pyâ”‚ â”œâ”€â”€ __pycache__â”‚ â”‚ â”œâ”€â”€ admin.cpython-37.pycâ”‚ â”‚ â”œâ”€â”€ backends.cpython-37.pycâ”‚ â”‚ â”œâ”€â”€ __init__.cpython-37.pycâ”‚ â”‚ â”œâ”€â”€ matches.cpython-37.pycâ”‚ â”‚ â”œâ”€â”€ models.cpython-37.pycâ”‚ â”‚ â”œâ”€â”€ permissions.cpython-37.pycâ”‚ â”‚ â”œâ”€â”€ serializers.cpython-37.pycâ”‚ â”‚ â”œâ”€â”€ urls.cpython-37.pycâ”‚ â”‚ â””â”€â”€ views.cpython-37.pycâ”‚ â”œâ”€â”€ serializers.pyâ”‚ â”œâ”€â”€ test.pngâ”‚ â”œâ”€â”€ tests.pyâ”‚ â”œâ”€â”€ urls.pyâ”‚ â””â”€â”€ views.pyâ””â”€â”€ wsgi.py10 directories, 52 files]]></content>
  </entry>
  <entry>
    <title><![CDATA[Androidæ‰“åŒ…]]></title>
    <url>%2F2018%2F12%2F27%2FGuideBook%2FAndroid%2FAndroid_%E6%89%93%E5%8C%85%2F</url>
    <content type="text"><![CDATA[Android æ‰“åŒ…keystore.jks Password: closet123 Error:error: failed to read PNG signature: file does not start with PNG signature. android studio æ‰“åŒ…apkæ—¶æŠ¥é”™. é”™è¯¯ï¼šæ— æ³•è¯»å–PNGç­¾åï¼šæ–‡ä»¶æ²¡æœ‰ä»ŽPNGç­¾åå¼€å§‹ã€‚ ä¸€èˆ¬éƒ½æ˜¯å›¾ç‰‡æ ¼å¼æœ‰é—®é¢˜ å¯èƒ½æ˜¯åŽç¼€æ›´æ”¹äº†ï¼Œå¯èƒ½æ˜¯å›¾ç‰‡åŽ‹ç¼©æ—¶äº§ç”Ÿçš„é—®é¢˜ã€‚ é‡æ–°å¤„ç†å›¾ç‰‡å†åŠ è½½ Solve: æ‰¾åˆ°å¯¹åº”çš„å›¾ç‰‡,å³é”®ç¼–è¾‘ä¸‹,é‡æ–°å¦å­˜ä¸ºpngç±»åž‹çš„å›¾ç‰‡å³å¯ ç”Ÿæˆkeystore.jks 1234567891011121314151617181920212223242526272829303132333435363738394041luomeideMacBook-Pro:MyApplication 2 luomei$ keytool -list -v -keystore /Users/luomei/Desktop/closet/app/keystore.jksè¾“å…¥å¯†é’¥åº“å£ä»¤: å¯†é’¥åº“ç±»åž‹: JKSå¯†é’¥åº“æä¾›æ–¹: SUNæ‚¨çš„å¯†é’¥åº“åŒ…å« 1 ä¸ªæ¡ç›®åˆ«å: closetåˆ›å»ºæ—¥æœŸ: 2018å¹´12æœˆ30æ—¥æ¡ç›®ç±»åž‹: PrivateKeyEntryè¯ä¹¦é“¾é•¿åº¦: 1è¯ä¹¦[1]:æ‰€æœ‰è€…: CN=closet, OU=closetTJ, O=closetTJ, L=shanghai, ST=shanghai, C=86å‘å¸ƒè€…: CN=closet, OU=closetTJ, O=closetTJ, L=shanghai, ST=shanghai, C=86åºåˆ—å·: f0fd6fcç”Ÿæ•ˆæ—¶é—´: Sun Dec 30 15:23:13 CST 2018, å¤±æ•ˆæ—¶é—´: Thu Dec 24 15:23:13 CST 2043è¯ä¹¦æŒ‡çº¹: SHA1: CD:57:AE:DF:A5:13:C6:6D:3B:1A:4B:21:4B:FC:60:75:FE:FA:29:3C SHA256: 8F:56:BD:59:35:DE:7E:68:97:E0:E8:18:E0:86:0D:EF:1C:B0:22:BD:9D:2B:71:1D:27:D3:41:4E:88:34:66:B2ç­¾åç®—æ³•åç§°: SHA256withRSAä¸»ä½“å…¬å…±å¯†é’¥ç®—æ³•: 2048 ä½ RSA å¯†é’¥ç‰ˆæœ¬: 3æ‰©å±•: #1: ObjectId: 2.5.29.14 Criticality=falseSubjectKeyIdentifier [KeyIdentifier [0000: 83 3E 3F 13 08 81 C6 D1 0F B2 69 D7 5C AB D4 24 .&gt;?.......i.\..$0010: D7 CD AD 58 ...X]]**************************************************************************************Warning:JKS å¯†é’¥åº“ä½¿ç”¨ä¸“ç”¨æ ¼å¼ã€‚å»ºè®®ä½¿ç”¨ "keytool -importkeystore -srckeystore /Users/luomei/Desktop/closet/app/keystore.jks -destkeystore /Users/luomei/Desktop/closet/app/keystore.jks -deststoretype pæ ¼å¼ PKCS12ã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[Djangoæ‹“å±•authç”¨æˆ·]]></title>
    <url>%2F2018%2F12%2F22%2FGuideBook%2FDjango%2FDjango%E6%8B%93%E5%B1%95auth%20%E7%94%A8%E6%88%B7%2F</url>
    <content type="text"><![CDATA[Djangoæ‹“å±•auth ç”¨æˆ·å®Œæˆæ³¨å†Œç™»å½•ç™»å‡ºæ³¨é”€æ“ä½œ ï¼ï¼ï¼æ‹“å±•authç”¨æˆ·è¯·åŠ¡å¿…åœ¨ python manage.py migrate å‰è¿›è¡Œï¼ï¼ï¼ æ–°å»ºä¸€ä¸ªprojectï¼šclosetUsers ä¿®æ”¹ settings.py 12345678910111213141516171819202122232425#closetUsers/settings.pyINSTALLED_APPS = [ 'django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'users', # modify 'rest_framework', # modify 'django_filters', # modify ]#update database config DATABASES = &#123; 'default': &#123; 'ENGINE': 'django.db.backends.mysql', 'NAME': 'closetUser', 'USER': 'may', 'PASSWORD': 'may233', 'HOST': '120.76.62.132', 'PORT': '3306', &#125;&#125;#add auth_user_model !after! add the extended userAUTH_USER_MODEL = 'users.User' #pattern: &lt;appName&gt;.&lt;className&gt; æ–°å»ºä¸€ä¸ªappï¼šusers ä¿®æ”¹ users/__init__.py 1234#users/__init__.pyimport pymysqlpymysql.install_as_MySQLdb()#use for django2.x version to link mysql database åœ¨ usersåº•ä¸‹æ·»åŠ æ–‡ä»¶ urls.py ï¼Œä¿®æ”¹ closetUsers.urls.py 12345678910#closetUsers/urls.pyfrom django.contrib import adminfrom django.urls import pathfrom django.conf.urls import include #add thisurlpatterns = [ path('admin/', admin.site.urls), path('', include('users.urls')), #add this, pattern: &lt;appName&gt;.urls] ä¿®æ”¹ users.models.pyï¼Œ æ·»åŠ æ‹“å±•çš„ç”¨æˆ·ç±»ï¼Œç»§æ‰¿è‡ª AbstractUserï¼Œ æ³¨ï¼šå¦‚åŽŸæ¥çš„auth.User å·²æœ‰çš„å±žæ€§ä¸éœ€è¦å†æ·»åŠ  12345678910111213141516#users/models.pyfrom django.db import modelsfrom django.contrib.auth.models import AbstractUser# Create your models here.class User(AbstractUser): """ save the user info """ style = models.CharField(max_length=30, default='casual', null=True, blank=True) profile = models.URLField(default='http://120.76.62.132:8080/photos/40padded.jpg', blank=True) phone = models.CharField(max_length=11, null=True, blank=True) def __str__(self): return self.username å»ºè¡¨ 123xxxdeMacBook-Pro:closetUsers xxx$ python3 manage.py migratexxxdeMacBook-Pro:closetUsers xxx$ python3 manage.py makemigrations usersxxxdeMacBook-Pro:closetUsers xxx$ python3 manage.py migrate users é‡å†™UserCreationForm, UserChangeFormï¼Œ åœ¨users åº•ä¸‹æ–°å»º form.pyæ–‡ä»¶ï¼Œå…¶å®žæˆ‘åªæ˜¯æƒ³è¦æä¾›ä¸€ä¸ªrestfulçš„APIè€Œä¸æ˜¯å»ºç«‹ä¸€ä¸ªç½‘ç«™ï¼Œå› è€Œåº”è¯¥ä¸éœ€è¦ä½¿ç”¨åˆ°è¡¨å•åˆ›å»ºï¼Œä½†Djangoæ–‡æ¡£ä¸­è¯´æ˜Žæ‹“å±•Useréœ€è¦é‡å†™è¿™ä¸¤ä¸ªè¡¨å•å› æ­¤è¿˜æ˜¯é‡å†™äº†ã€‚ 1234567891011121314151617181920212223242526#users/forms.pyfrom django.contrib.auth.forms import UserCreationForm, UserChangeFormfrom django import formsfrom .models import Userclass RegisterForm(UserCreationForm): class Meta(UserCreationForm.Meta): model = User fields = ('username', 'email', 'phone', 'style', 'profile') # check if email is valid def clean_email(self): email = self.cleaned_data['email'] users = User.objects.filter(email=email) if users: raise forms.ValidationError("è¯¥é‚®ç®±å·²æ³¨å†Œè¿‡ï¼Œå°è¯•ç™»å½•ï¼Ÿ") return emailclass ChangeInfoForm(UserChangeForm): class Meta(UserChangeForm.Meta): model = User fields = ('username', 'email', 'phone', 'style', 'profile') ä¸€ã€æ³¨å†Œæ³•ä¸€ï¼šæš´åŠ›è§£å†³ åœ¨ views.pyä¸­æ·»åŠ ç›¸å…³ç±»æˆ–å‡½æ•° 12345678910111213141516#users/views.pyfrom django.shortcuts import renderfrom django.http import JsonResponse, HttpResponsefrom rest_framework import statusfrom .models import User# Create your views here.def sign_up(request): username = request.data['username'] password = request.data['password'] users = User.objects.filter(username=username) if users: return HttpResponse('è¯¥ç”¨æˆ·å·²å­˜åœ¨', status=status.HTTP_400_BAD_REQUEST) user = User.objects.create_user(username=username, password=password) return HttpResponse('åˆ›å»ºæˆåŠŸï¼Œç™»å½•ï¼Ÿ', status=status.HTTP_200_OK) åœ¨ urls.py ä¸­æ·»åŠ ç›¸å…³è·¯å¾„ 12345678#users/urls.pyfrom django.urls import pathfrom rest_framework.urlpatterns import format_suffix_patternsfrom users import viewsurlpatterns = format_suffix_patterns([ path('users/add1/', views.sign_up),]) ä½¿ç”¨ httpie æ¨¡æ‹Ÿpostè¯·æ±‚ 123#pattern: http post &lt;urlAddress&gt; @&lt;jsonFileAddress&gt;xxxdeMacBook-Pro:closetUsers xxx$ http --json post http://127.0.0.1:8000/users/add1/ @/Users/xxx/Desktop/closet/jsonTest/login.jsonHTTP/1.1 403 Forbidden Error: HTTP/1.1 403 Forbidden, CSRF verification failed. Request aborted. Solve: ä¸ºäº†é˜²æ­¢è·¨ç«™ä¼ªé€ è¯·æ±‚ï¼Œdjangoå¼•å…¥äº†csrfæœºåˆ¶ï¼Œå¼•å…¥csrf_exempt 123456#users/views.pyfrom django.views.decorators.csrf import csrf_exempt@csrf_exemptdef sign_up(request): pass Error: HTTP/1.1 500 Internal Server Error,ç»§ç»­çœ‹æŠ¥é”™ä¿¡æ¯ï¼Œå‘çŽ°è¿›è¡Œsign_upå‡½æ•°è§£æžåŽå‡ºçŽ°é”™è¯¯ï¼Œå‘çŽ°æ˜¯requestä»¥jsonæ ¼å¼å‘é€è¯·æ±‚æ—¶ï¼Œæ— æ³•ä»¥request.data[&#39;username&#39;] çš„æ–¹å¼èŽ·å–æ•°æ® Solveï¼š 1234567#users/views.py inside sign_up function import jsonpost_body = request.body #django2.x use body, while django1.x use raw_post_datadata = json.loads(post_body)username = data['username']password = data['password'] å†æ¬¡å°è¯•ä½¿ç”¨httpieå‘é€è¯·æ±‚ï¼ŒæˆåŠŸï¼å¼€å¿ƒï¼ 1234567891011xxxdeMacBook-Pro:closetUsers xxx$ http --json post http://127.0.0.1:8000/users/add1/ @/Users/xxx/Desktop/closet/jsonTest/login.jsonHTTP/1.1 200 OKContent-Length: 24Content-Type: text/html; charset=utf-8Date: Sat, 22 Dec 2018 05:17:42 GMTServer: WSGIServer/0.2 CPython/3.7.0X-Frame-Options: SAMEORIGINåˆ›å»ºæˆåŠŸï¼Œç™»å½•ï¼ŸxxxdeMacBook-Pro:closetUsers xxx$ ä»¥ä¸Šåªæ˜¯ç®€å•çš„æ³¨å†Œï¼Œä¸‹é¢æˆ‘ä»¬æ¥æ‹“å±•ä¸€ä¸‹ï¼ŒåŠ ä¸Šå¯¹äºŽä¿¡æ¯çš„éªŒè¯ï¼ŒåŠ ä¸Šäº†å¯¹äºŽæ‰‹æœºå·ç å’Œé‚®ç®±çš„æ ¼å¼éªŒè¯ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263#users/views.pyfrom django.http import JsonResponse, HttpResponsefrom rest_framework import statusfrom .models import Userfrom django.views.decorators.csrf import csrf_exemptimport jsonfrom django.contrib.auth import login, authenticate, logoutimport re# Create your views here.@csrf_exemptdef sign_up(request): if request.method == 'POST': post_body = request.body data = json.loads(post_body) if 'username' in data: username = data['username'] else: username = 'may' password = data['password'] if 'email' in data: email = data['email'] # check if email is valid email_pat = re.compile(r'^[0-9a-zA-Z_]&#123;0,19&#125;@[0-9a-zA-Z]&#123;1,13&#125;\.[com,cn,net]&#123;1,3&#125;$') if not re.match(email_pat, email): return JsonResponse(data=&#123;"msg": "è¯·è¾“å…¥æ­£ç¡®çš„é‚®ç®±å"&#125;, status=status.HTTP_400_BAD_REQUEST) else: email = 'error' if 'phone' in data: phone = data['phone'] # check if phone is valid phone_pat = re.compile(r'^(13\d|14[5|7]|15\d|166|17[3|6|7]|18\d)\d&#123;8&#125;$') if not re.match(phone_pat, phone): return JsonResponse(data=&#123;"msg": "è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·"&#125;, status=status.HTTP_400_BAD_REQUEST) else: phone = 'error' if 'profile' in data: profile = data['profile'] else: profile = 'http://120.76.62.132:8080/photos/default.jpg' if 'style' in data: style = data['style'] else: style = 'casual' # users = User.objects.filter(username=username) email_users = User.objects.filter(email=email) phone_users = User.objects.filter(phone=phone) name_users = User.objects.filter(username=username) if email_users: return JsonResponse(data=&#123;"msg": "è¯¥é‚®ç®±å·²æ³¨å†Œè¿‡"&#125;, status=status.HTTP_400_BAD_REQUEST) if phone_users: return JsonResponse(data=&#123;"msg": "è¯¥æ‰‹æœºå·å·²æ³¨å†Œè¿‡"&#125;, status=status.HTTP_400_BAD_REQUEST) if name_users: return JsonResponse(data=&#123;"msg": "è¯¥ç”¨æˆ·å·²å­˜åœ¨"&#125;, status=status.HTTP_400_BAD_REQUEST) if email == 'error': email = '' if phone == 'error': phone = '' user = User.objects.create_user(username=username, password=password, email=email, phone=phone, style=style, profile=profile) return JsonResponse(data=&#123;"msg": "åˆ›å»ºæˆåŠŸï¼Œç™»å½•ï¼Ÿ"&#125;, status=status.HTTP_200_OK) æ³•äºŒï¼šdjango-rest-frameworkå°è¯•ç”¨django-rest-frameworkæä¾›çš„æ–¹æ³•å®žçŽ° äºŒã€ç™»å½•æ³•ä¸€ï¼šæ²¿è¢­æˆ‘ä»¬çš„æš´åŠ›æ–¹æ¡ˆ2.1 ä½¿ç”¨authæ¨¡å—æä¾›çš„loginä½¿ç”¨usernameå’Œpasswordç™»å½• 1234567891011121314151617181920#users/views.py@csrf_exemptdef sign_in(request): if request.method == 'POST': post_body = request.body data = json.loads(post_body) username = data['username'] password = data['password'] print(username) user = authenticate(username=username, password=password) if user: if user.is_active: login(request, user) print(request.user) return JsonResponse(data=&#123;"msg": "OK"&#125;, status=status.HTTP_200_OK) else: return JsonResponse(data=&#123;"msg": "ç”¨æˆ·ä¸å­˜åœ¨"&#125;, status=status.HTTP_400_BAD_REQUEST) else: return JsonResponse(data=&#123;"msg": "ç”¨æˆ·æˆ–å¯†ç é”™è¯¯"&#125;, status=status.HTTP_400_BAD_REQUEST) 2.2 æ‹“å±•ï¼Œè‡ªå®šä¹‰åŽç«¯ï¼Œä½¿ç”¨é‚®ç®±ç™»å½•å‚è€ƒè‡ªå®šä¹‰è®¤è¯åŽå° æ·»åŠ  backends.pyæ–‡ä»¶ 1234567891011121314151617181920212223from .models import Userclass EmailBackend(object): def authenticate(self, request, **credentials): # è¦æ³¨æ„ç™»å½•è¡¨å•ä¸­ç”¨æˆ·è¾“å…¥çš„ç”¨æˆ·åæˆ–è€…é‚®ç®±çš„ field åå‡ä¸º username email = credentials.get('email', credentials.get('username')) try: user = User.objects.get(email=email) except User.DoesNotExist: pass else: if user.check_password(credentials["password"]): return user def get_user(self, user_id): """ è¯¥æ–¹æ³•æ˜¯å¿…é¡»çš„ """ try: return User.objects.get(pk=user_id) except User.DoesNotExist: return None åœ¨ setttings.py ä¸­åŠ å…¥åŽç«¯æ–‡ä»¶å‘Šè¯‰Django ä½ ä½¿ç”¨äº†è‡ªå®šä¹‰åŽç«¯ 12345AUTHENTICATION_BACKENDS = ( 'django.contrib.auth.backends.ModelBackend', 'users.backends.EmailBackend', 'users.backends.PhoneBackend',) 2.3 åŒç†æ‹“å±•ï¼Œè‡ªå®šä¹‰åŽç«¯ï¼Œä½¿ç”¨æ‰‹æœºç™»å½•ä»£ç å¤§åŒå°å¼‚ï¼Œä¸èµ˜è¿°äº† ä¸‰ã€ç™»å‡ºæ³•ä¸€ï¼šç»§ç»­ï¼Œæš´åŠ›è§£å†³ä¸€åˆ‡äº‹ç‰©1234567#users/views.py@csrf_exemptdef sign_out(request): if request.method == 'GET': logout(request) return JsonResponse(data=&#123;"msg": "ç™»å‡ºæˆåŠŸ"&#125;, status=status.HTTP_200_OK) å››ã€æ³¨é”€æ³•ä¸€ï¼šç»§ç»­ï¼Œæš´åŠ›è§£å†³ä¸€åˆ‡äº‹ç‰©12345678910111213141516171819202122#users/views.py@csrf_exemptdef sign_off(request): if request.method == 'POST': post_body = request.body data = json.loads(post_body) username = data['username'] password = data['password'] user = authenticate(username=username, password=password) if user: email_pat = re.compile(r'^[0-9a-zA-Z_]&#123;0,19&#125;@[0-9a-zA-Z]&#123;1,13&#125;\.[com,cn,net]&#123;1,3&#125;$') phone_pat = re.compile(r'^(13\d|14[5|7]|15\d|166|17[3|6|7]|18\d)\d&#123;8&#125;$') if re.match(email_pat, username): delete_result = User.objects.filter(email=username).delete() elif re.match(phone_pat, username): delete_result = User.objects.filter(phone=username).delete() else: delete_result = User.objects.filter(username=username).delete() if delete_result: return JsonResponse(data=&#123;"msg": "æ³¨é”€æˆåŠŸ"&#125;, status=status.HTTP_200_OK) return JsonResponse(data=&#123;"msg": "ç”¨æˆ·ä¸å­˜åœ¨"&#125;, status=status.HTTP_400_BAD_REQUEST)]]></content>
  </entry>
  <entry>
    <title><![CDATA[DjangoOnMac_0]]></title>
    <url>%2F2018%2F12%2F16%2FGuideBook%2FDjango%2FDjangoOnMac_0%2F</url>
    <content type="text"><![CDATA[Django on Mac part01. Djangoè¿žæŽ¥MySQL1.1 æœªå®‰è£…é©±åŠ¨Error: django.core.exceptions.ImproperlyConfigured: Error loading MySQLdb module. Did you install mysqlclient? Solve:ä¿®æ”¹ __init__.pyæ–‡ä»¶ï¼š 12import pymysqlpymysql.install_as_MySQLdb() 1.2 è¿žæŽ¥è¶…æ—¶Error: django.db.utils.OperationalError: (2003, â€œCanâ€™t connect to MySQL server on â€˜120.76.62.132â€™ (timed out)â€) Solve: å…ˆè¯•ä¸€ä¸‹èƒ½ä¸èƒ½pingé€šæœåŠ¡å™¨ï¼Œå¦‚æžœèƒ½pingé€šä½†è¿žæŽ¥ä¸ä¸Šå¯èƒ½æ˜¯å› ä¸ºæœåŠ¡å™¨çš„é˜²ç«å¢™æ²¡æœ‰å¼€æ”¾3306ç«¯å£ 1.3 mysqlæœªç›‘å¬ERROR 2003 (HY000): Canâ€™t connect to MySQL server on â€˜120.76.62.132â€™ (61) Solveï¼š æŸ¥çœ‹mysqlç›‘å¬IPå’Œç«¯å£æ˜¯å¦æ­£å¸¸ã€‚ ä½¿ç”¨ï¼šnetstat -anpt ç›‘å¬å¾—åœ°å€å¦‚æžœæ˜¯:::3306æˆ–è€…æ˜¯0.0.0.0:3306ï¼Œè¡¨ç¤ºç›‘å¬æ‰€æœ‰IPåœ°å€ï¼Œè¿™ç›‘å¬çŠ¶æ€æ˜¯æ­£å¸¸ã€‚è‹¥å‡ºçŽ°127.0.0.0:3306ï¼Œè¯´æ˜Žç›‘å¬çš„æœ¬åœ°åœ°å€ï¼Œéœ€è¦åœ¨mysqlé…ç½®æ–‡ä»¶ä¸­å°†bind-addressé€‰é¡¹è®¾ç½®ä¸º 12[mysqld]bind_address=0.0.0.0 é‡å¯mysqlã€‚ 1.4 å¯†ç é”™è¯¯ERROR 1045 (28000): Access denied for user â€˜rootâ€™@â€™58.41.202.207â€™ (using password: YES)]]></content>
  </entry>
  <entry>
    <title><![CDATA[DjangoInUbuntu_2]]></title>
    <url>%2F2018%2F12%2F16%2FGuideBook%2FDjango%2FDjangoInUbuntu_2%2F</url>
    <content type="text"><![CDATA[Django in Ubuntu part2Djangoå’ŒæœåŠ¡å™¨çš„é…ç½® Django+Nginx + Tomcat? Nginx 1root@iZwz969jm0y04abuhgx4byZ:~# apt-get install nginx]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F2018%2F12%2F15%2FGuideBook%2FDjango%2FDjangoInUbuntu_1%2F</url>
    <content type="text"><![CDATA[Django In Ubuntu part11. æ•°æ®åº“é…ç½®æˆ‘ä»¬åœ¨é¡¹ç›®çš„ settings.py æ–‡ä»¶ä¸­æ‰¾åˆ° DATABASES é…ç½®é¡¹ï¼Œå°†å…¶ä¿¡æ¯ä¿®æ”¹ä¸ºï¼š HelloWorld/HelloWorld/settings.py: æ–‡ä»¶ä»£ç ï¼š1234567891011DATABASES = &#123; 'default': &#123; 'ENGINE': 'django.db.backends.mysql', # æˆ–è€…ä½¿ç”¨ mysql.connector.django 'NAME': 'test', 'USER': 'test', 'PASSWORD': 'test123', 'HOST':'localhost', 'PORT':'3306', &#125; &#125; è¿™é‡Œæ·»åŠ äº†ä¸­æ–‡æ³¨é‡Šï¼Œæ‰€ä»¥ä½ éœ€è¦åœ¨ HelloWorld/settings.py æ–‡ä»¶å¤´éƒ¨æ·»åŠ  # -*- coding: UTF-8 -*-ã€‚ ä¸Šé¢åŒ…å«æ•°æ®åº“åç§°å’Œç”¨æˆ·çš„ä¿¡æ¯ï¼Œå®ƒä»¬ä¸Ž MySQL ä¸­å¯¹åº”æ•°æ®åº“å’Œç”¨æˆ·çš„è®¾ç½®ç›¸åŒã€‚Django æ ¹æ®è¿™ä¸€è®¾ç½®ï¼Œä¸Ž MySQL ä¸­ç›¸åº”çš„æ•°æ®åº“å’Œç”¨æˆ·è¿žæŽ¥èµ·æ¥ Error: django.core.exceptions.ImproperlyConfigured: Error loading MySQLdb module: No module named MySQLdb. Solve: python2.7 + Django1.11 , è§£å†³æ–¹æ¡ˆï¼š pip install mysql-server 123456789101112root@iZwz969jm0y04abuhgx4byZ:~# pip install mysql-python#éšåŽéªŒè¯ä¸€ä¸‹æ˜¯å¦å®‰è£…æˆåŠŸroot@iZwz969jm0y04abuhgx4byZ:~# pythonPython 2.7.12 (default, Nov 12 2018, 14:36:49) [GCC 5.4.0 20160609] on linux2Type "help", "copyright", "credits" or "license" for more information.&gt;&gt;&gt; import MYSQLdbTraceback (most recent call last): File "&lt;stdin&gt;", line 1, in &lt;module&gt;ImportError: No module named MYSQLdb&gt;&gt;&gt; import MySQLdb&gt;&gt;&gt; exit() 2. Djangoè¡¨å•HTMLè¡¨å•æ˜¯ç½‘ç«™äº¤äº’æ€§çš„ç»å…¸æ–¹å¼ã€‚ æœ¬ç« å°†ä»‹ç»å¦‚ä½•ç”¨Djangoå¯¹ç”¨æˆ·æäº¤çš„è¡¨å•æ•°æ®è¿›è¡Œå¤„ç†ã€‚ HTTP è¯·æ±‚HTTPåè®®ä»¥â€è¯·æ±‚ï¼å›žå¤â€çš„æ–¹å¼å·¥ä½œã€‚å®¢æˆ·å‘é€è¯·æ±‚æ—¶ï¼Œå¯ä»¥åœ¨è¯·æ±‚ä¸­é™„åŠ æ•°æ®ã€‚æœåŠ¡å™¨é€šè¿‡è§£æžè¯·æ±‚ï¼Œå°±å¯ä»¥èŽ·å¾—å®¢æˆ·ä¼ æ¥çš„æ•°æ®ï¼Œå¹¶æ ¹æ®URLæ¥æä¾›ç‰¹å®šçš„æœåŠ¡ã€‚ GET æ–¹æ³•æˆ‘ä»¬åœ¨ä¹‹å‰çš„é¡¹ç›®ä¸­åˆ›å»ºä¸€ä¸ª search.py æ–‡ä»¶ï¼Œç”¨äºŽæŽ¥æ”¶ç”¨æˆ·çš„è¯·æ±‚ï¼š /HelloWorld/HelloWorld/search.py æ–‡ä»¶ä»£ç ï¼š 1234567891011121314151617# -*- coding: utf-8 -*- from django.http import HttpResponsefrom django.shortcuts import render_to_response # è¡¨å•def search_form(request): return render_to_response('search_form.html') # æŽ¥æ”¶è¯·æ±‚æ•°æ®def search(request): request.encoding='utf-8' if 'q' in request.GET: message = 'ä½ æœç´¢çš„å†…å®¹ä¸º: ' + request.GET['q'] else: message = 'ä½ æäº¤äº†ç©ºè¡¨å•' return HttpResponse(message) åœ¨æ¨¡æ¿ç›®å½• templates ä¸­æ·»åŠ  search_form.html è¡¨å•ï¼š /HelloWorld/templates/search_form.html æ–‡ä»¶ä»£ç ï¼š &lt;!DOCTYPE html&gt; èœé¸Ÿæ•™ç¨‹(runoob.com) urls.py è§„åˆ™ä¿®æ”¹ä¸ºå¦‚ä¸‹å½¢å¼ï¼š /HelloWorld/HelloWorld/urls.py æ–‡ä»¶ä»£ç ï¼š 123456789from django.conf.urls import urlfrom . import view,testdb,search urlpatterns = [ url(r'^hello$', view.hello), url(r'^testdb$', testdb.testdb), url(r'^search-form$', search.search_form), url(r'^search$', search.search),] è®¿é—®åœ°å€ http://120.76.62.132:8000/search-form å¹¶æœç´¢ Error: åœ¨Djangoè§†å›¾å‡½æ•°ä¸­ç»å¸¸å‡ºçŽ°ç±»ä¼¼äºŽâ€™asciiâ€™ codec canâ€™t decode byte 0xef in position 0:ordinal not in range(128)çš„é”™è¯¯ã€‚ Solve: ä½¿ç”¨åŒä¸€å¥—ç¼–ç ï¼Œå°†å­—ç¬¦ä¸²å…¨éƒ½è½¬æˆbyte stringæˆ–unicode string â€‹ 1.å°†å­—ç¬¦ä¸²å…¨éƒ½è½¬æˆbyte stringã€‚â€‹ self.response.out.write(â€œä½ å¥½â€+self.request.get(â€œarguâ€).encode(â€œutf-8â€))â€‹ 2.å°†å­—ç¬¦ä¸²å…¨éƒ½è½¬æˆunicode stringã€‚â€‹ self.response.out.write(uâ€ä½ å¥½â€+self.request.get(â€œarguâ€))â€‹ byte stringè½¬æ¢æˆunicode stringå¯ä»¥è¿™æ ·è½¬unicode(unicodestring, â€œutf-8â€) pythonç¼–ç é”™è¯¯ Error: django.db.utils.ProgrammingError: (1146, uâ€Tableâ€™â€™ doesnâ€™t existâ€)è§£å†³åŠžæ³• Slove: åŽŸå› ï¼šè®¿é—®äº†æ•°æ®åº“é‡Œä¸å­˜åœ¨çš„è¡¨ï¼Œå¯èƒ½æ˜¯å› ä¸ºåœ¨modelæ”¹å˜ä¹‹åŽè¡¨ç»“æž„æ²¡æœ‰æ›´æ–° 1234567root@iZwz969jm0y04abuhgx4byZ:~/HelloWorld# python manage.py migrateroot@iZwz969jm0y04abuhgx4byZ:~/HelloWorld# python manage.py makemigrations TestModelMigrations for 'TestModel': TestModel/migrations/0002_contact_tag.py - Create model Contact - Create model Tagroot@iZwz969jm0y04abuhgx4byZ:~/HelloWorld# python manage.py migrate TestModel]]></content>
  </entry>
  <entry>
    <title><![CDATA[DjangoInUbutun_0]]></title>
    <url>%2F2018%2F12%2F14%2FGuideBook%2FDjango%2FDjangoInUbuntu_0%2F</url>
    <content type="text"><![CDATA[Django in Ubuntu part01. å®‰è£…12345678910root@iZwz969jm0y04abuhgx4byZ:~# apt-get install python-setuptoolsroot@iZwz969jm0y04abuhgx4byZ:~# python -m pip install "django&lt;2"root@iZwz969jm0y04abuhgx4byZ:~# pythonPython 2.7.12 (default, Nov 12 2018, 14:36:49) [GCC 5.4.0 20160609] on linux2Type "help", "copyright", "credits" or "license" for more information.&gt;&gt;&gt; import django&gt;&gt;&gt; django.VERSION(1, 11, 17, u'final', 0)&gt;&gt;&gt; å¦‚æžœpythonç‰ˆæœ¬ä¸º3.5ä»¥ä¸Šï¼Œå¯ä»¥ä½¿ç”¨ easy_install djangoå®‰è£…ã€‚ 2. åˆ›å»ºæ–°é¡¹ç›® ä½¿ç”¨pip å®‰è£…çš„è¯ï¼Œç”¨ 1234567891011121314root@iZwz969jm0y04abuhgx4byZ:~# django-admin.pyNote that only Django core commands are listed as settings are not properly configured (error: Requested setting INSTALLED_APPS, but settings are not configured. You must either define the environment variable DJANGO_SETTINGS_MODULE or call settings.configure() before accessing settings.).root@iZwz969jm0y04abuhgx4byZ:~# django-admin startproject HelloWorldroot@iZwz969jm0y04abuhgx4byZ:~# cd HelloWorld/root@iZwz969jm0y04abuhgx4byZ:~/HelloWorld# tree.â”œâ”€â”€ HelloWorldâ”‚ â”œâ”€â”€ __init__.pyâ”‚ â”œâ”€â”€ settings.pyâ”‚ â”œâ”€â”€ urls.pyâ”‚ â””â”€â”€ wsgi.pyâ””â”€â”€ manage.py1 directory, 5 files Errorï¼šRequested setting INSTALLED_APPS, but settings are not configured. You must either define the environment variable DJANGO_SETTINGS_MODULE or call settings.configure() before accessing settings Solve: django-admin ä¸è¦py Error: DisallowedHost at / Invalid HTTP_HOST header Solve: å°†é¡¹ç›®åç§°ä¸‹çš„ settings.py ä¸­çš„ ALLOWED_HOSTS = [] æ”¹æˆ ALLOWED_HOSTS = [&#39;*&#39;] 3. è§†å›¾å’ŒURLé…ç½®3.1 è§†å›¾åœ¨å…ˆå‰åˆ›å»ºçš„ HelloWorld ç›®å½•ä¸‹çš„ HelloWorld ç›®å½•æ–°å»ºä¸€ä¸ª view.py æ–‡ä»¶ï¼Œå¹¶è¾“å…¥ä»£ç ï¼š 1234from django.http import HttpResponse def hello(request): return HttpResponse("Hello world ! ") 3.2 URLé…ç½®æŽ¥ç€ï¼Œç»‘å®š URL ä¸Žè§†å›¾å‡½æ•°ã€‚æ‰“å¼€ urls.py æ–‡ä»¶ï¼Œåˆ é™¤åŽŸæ¥ä»£ç ï¼Œå°†ä»¥ä¸‹ä»£ç å¤åˆ¶ç²˜è´´åˆ° urls.py æ–‡ä»¶ä¸­ï¼š 1234567from django.conf.urls import url from . import view urlpatterns = [ url(r'^$', view.hello),] #3.3 ç¼–è¯‘ä¸éœ€è¦ï¼ŒæœåŠ¡å™¨ä¼šè‡ªåŠ¨åœ¨æ›´æ”¹åŽç¼–è¯‘ éšåŽç¼–è¯‘ view.py å’Œ urls.pyæ–‡ä»¶ 1root@iZwz969jm0y04abuhgx4byZ:~/HelloWorld/HelloWorld# python -m py_compile urls.py 3.4 æ‰“å¼€æœåŠ¡å™¨æ³¨ï¼šå¦‚æžœæ˜¯ Django &gt;= 2.0 çš„ç‰ˆæœ¬ï¼Œurls.py çš„ django.conf.urls å·²ç»è¢« django.urls å–ä»£ã€‚ django.urls çš„ç”¨æ³•å‚è€ƒå¦‚ä¸‹ï¼š 1234567from django.urls import pathfrom . import viewurlpatterns = [ path('', view.hello), path('world/', view.world)] å…¶ä¸­æœ€å¤§çš„å‡ ä¸ªæ”¹å˜å¦‚ä¸‹ï¼š import url å˜æˆäº† import path å¦‚æžœæ˜¯è·¯å¾„ï¼Œåˆ™é¡»åœ¨è·¯å¾„åŽåŠ ä¸ª/ æ—§ç‰ˆ django çš„ç”¨æ³•ï¼š 123456from django.conf.urls import urlfrom . import view urlpatterns = [ url(r'^hello$', view.hello),] æ–°ç‰ˆçš„å‚è€ƒå†™æ³•ï¼š 123456from django.urls import pathfrom . import viewurlpatterns = [ path('hello/', view.hello),]]]></content>
  </entry>
  <entry>
    <title><![CDATA[MySQLæ­å»º_Ubuntu]]></title>
    <url>%2F2018%2F12%2F14%2FGuideBook%2FUbuntu%E4%B8%8A%E7%9A%84MySQL%E6%90%AD%E5%BB%BA%2F</url>
    <content type="text"><![CDATA[Ubuntuä¸Šçš„MySQLæ­å»º1234567891011121314151617181920212223242526272829303132333435root@iZwz969jm0y04abuhgx4byZ:~# apt-get updateroot@iZwz969jm0y04abuhgx4byZ:~# apt-get upgraderoot@iZwz969jm0y04abuhgx4byZ:~# apt-get install mysql-serverroot@iZwz969jm0y04abuhgx4byZ:~# apt-get install mysql-clientroot@iZwz969jm0y04abuhgx4byZ:~# apt-get install libmysqlclient-devroot@iZwz969jm0y04abuhgx4byZ:~# netstat -tap | grep mysqltcp 0 0 localhost:mysql *:* LISTEN 2109/mysqld root@iZwz969jm0y04abuhgx4byZ:~# mysql -u root -pEnter password: Welcome to the MySQL monitor. Commands end with ; or \g.Your MySQL connection id is 4Server version: 5.7.24-0ubuntu0.16.04.1 (Ubuntu)Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.exit' at line 1mysql&gt; show databases;+--------------------+| Database |+--------------------+| information_schema || mysql || performance_schema || sys |+--------------------+4 rows in set (0.00 sec)mysql&gt; exitByeroot@iZwz969jm0y04abuhgx4byZ:~#]]></content>
  </entry>
  <entry>
    <title><![CDATA[SSHè¿žæŽ¥å¤±è´¥]]></title>
    <url>%2F2018%2F12%2F12%2FGuideBook%2F%E6%9C%8D%E5%8A%A1%E5%99%A8SSH%E8%BF%9E%E6%8E%A5%E5%A4%B1%E8%B4%A5%2F</url>
    <content type="text"><![CDATA[SSHè¿žæŽ¥å¤±è´¥SSH ç™»å½•å¤±è´¥ï¼šHost key verification failedç”±äºŽå…¬é’¥ä¸ä¸€æ ·äº†ï¼Œæ‰€ä»¥æ— æ³•ç™»å½•ï¼Œæç¤ºä¿¡æ¯æ˜¯ KEY éªŒè¯å¤±è´¥ã€‚è§£å†³æ–¹æ³•æ˜¯ï¼šåœ¨ /root/.ssh/known_hosts æ–‡ä»¶é‡Œé¢å°†åŽŸæ¥çš„å…¬é’¥ä¿¡æ¯åˆ é™¤å³å¯ã€‚ SSH æŠ¥ â€œHost key verification failed.â€ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå‡ºçŽ°è¯¥é”™è¯¯æœ‰è¿™ä¹ˆå‡ ç§å¯èƒ½: ssh/known_hosts è£¡é¢è®°å½•çš„ç›®æ ‡ä¸»æœº key å€¼ä¸æ­£ç¡®ã€‚è¿™æ˜¯æœ€æ™®éçš„æƒ…å†µï¼Œåªè¦åˆ é™¤å¯¹åº”çš„ä¸»æœºè®°å½•å°±èƒ½æ¢å¤æ­£å¸¸ã€‚ è¿è¡Œå‘½ä»¤ï¼š sudo rm /home/yourname/.ssh/known_hosts ssh ç›®å½•æˆ–è€… .ssh/known_hosts å¯¹å½“å‰ç”¨æˆ·çš„æƒé™è®¾ç½®ä¸æ­£ç¡®ã€‚è¿™ç§æƒ…å†µæ¯”è¾ƒå°‘ï¼Œä¸€èˆ¬æ­£ç¡®è®¾ç½®è¯»å†™æƒé™ä»¥åŽä¹Ÿèƒ½æ¢å¤æ­£å¸¸ã€‚ /dev/tty å¯¹ other ç”¨æˆ·æ²¡æœ‰æ”¾å¼€è¯»å†™æƒé™ã€‚è¿™ç§æƒ…å†µæžä¸ºç½•è§ã€‚å‡ºçŽ°çš„çŽ°è±¡æ˜¯ï¼Œåªæœ‰ root ç”¨æˆ·èƒ½å¤Ÿä½¿ç”¨ ssh clientï¼Œè€Œæ‰€æœ‰å…¶ä»–çš„æ™®é€šç”¨æˆ·éƒ½ä¼šå‡ºçŽ°é”™è¯¯ã€‚æˆ‘ä»Šå¤©é‡åˆ°çš„å°±æ˜¯ç¬¬ä¸‰ç§æƒ…å†µï¼Œä¿®æ”¹ /dev/tty çš„æƒé™åŽï¼Œä¸€åˆ‡æ­£å¸¸ã€‚ä¸ºäº†é¿å…ä»¥åŽå¿˜è®°è§£å†³æ–¹æ³•ï¼Œè®°å½•åœ¨è¿™é‡Œã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[Mac_root]]></title>
    <url>%2F2018%2F12%2F09%2FGuideBook%2FMac%E7%BB%88%E7%AB%AF_root%E6%9D%83%E9%99%90%2F</url>
    <content type="text"><![CDATA[Macç»ˆç«¯_rootæƒé™1234567891011121314151617181920xxxdeMacBook-Pro:~ xxx$ su root Password:su: Sorry//åœ¨å¹³å¸¸æ‰“å¼€çš„å‘½ä»¤è¡Œä¸‹æ— æ³•æ‰“å¼€ï¼Œæˆ‘è¾“å…¥çš„æ˜¯æˆ‘çš„å¼€æœºå¯†ç xxxdeMacBook-Pro:~ xxx$ sudo -iPassword:xxxdeMacBook-Pro:~ root# su rootsh-3.2# su xxxshell-init: error retrieving current directory: getcwd: cannot access parent directories: Permission deniedbash-3.2$ exitexitsh-3.2# logoutsh: logout: not login shell: use `exit'sh-3.2# exitexitxxxdeMacBook-Pro:~ root# exitlogoutxxxdeMacBook-Pro:~ xxx$ sudo -ixxxdeMacBook-Pro:~ root# logoutxxxdeMacBook-Pro:~ xxx$ Method 1:loginï¼š1234xxxdeMacBook-Pro:~ xxx$ su root Password:su: Sorry//åœ¨å¹³å¸¸æ‰“å¼€çš„å‘½ä»¤è¡Œä¸‹æ— æ³•æ‰“å¼€ï¼Œæˆ‘è¾“å…¥çš„æ˜¯æˆ‘çš„å¼€æœºå¯†ç  logoutï¼š è¾“å…¥su ç”¨æˆ·åï¼Œå›žè½¦ã€‚ è¾“å…¥æ­¤ç”¨æˆ·å¯†ç ï¼Œå›žè½¦å³å¯åˆ‡æ¢å›žæ­¤ç”¨æˆ· ç›´æŽ¥è¾“å…¥ exitä¹Ÿå¯ä»¥ Method 2:loginï¼š123xxxdeMacBook-Pro:~ xxx$ sudo -iPassword:xxxdeMacBook-Pro:~ root# è¾“å…¥å¯†ç æ—¶ï¼Œä¸ä¼šæ˜¾ç¤ºä»»ä½•å­—ç¬¦ï¼Œåªç®¡è¾“å…¥å°±å¥½äº† logoutï¼š123456//method 0xxxdeMacBook-Pro:~ root# logoutxxxdeMacBook-Pro:~ xxx$ //method 1xxxdeMacBook-Pro:~ root# exitxxxdeMacBook-Pro:~ xxx$]]></content>
  </entry>
  <entry>
    <title><![CDATA[Tomcaté…ç½®]]></title>
    <url>%2F2018%2F12%2F09%2FGuideBook%2FTomcat%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[æœåŠ¡å™¨ï¼šé˜¿é‡Œäº‘ è¿œç¨‹è¿žæŽ¥åˆ°æœåŠ¡å™¨è¿œç¨‹è¿žæŽ¥åˆ°linuxæœåŠ¡å™¨ é€šè¿‡sshè¿žæŽ¥1xxxdeMacBook-Pro:Guide book xxx$ ssh root@120.76.62.132 -i /Users/xxx/Desktop/i\ document/ç¬”è®°/Guide\ book/xxx.pem Tomcaté…ç½®1. ç»™Macå®‰è£…jdkçŽ¯å¢ƒã€‚ ç›´æŽ¥ç™¾åº¦â€jdk for Macâ€œï¼Œæ‰¾åˆ°å…¶ä¸­ä¸€ä¸ªç‰ˆæœ¬è¿›è¡Œå®‰è£…å°±å¯ä»¥äº†ï¼Œå®‰è£…å®ŒæˆåŽï¼Œæ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥â€œjavaâ€æˆ–â€œjavacâ€ï¼Œå¦‚æžœå‡ºçŽ°javaå‘½ä»¤çš„ä½¿ç”¨è¯´æ˜Žï¼Œé‚£ä¹ˆè¯´æ˜Žä½ çš„Macä¸Šçš„jdkçŽ¯å¢ƒå·²ç»é…ç½®å¥½ï¼Œè¿™ä¸ªæ¯”èµ·windowsç³»ç»Ÿæ¥è¯´ï¼Œç®€å•æ–¹ä¾¿å¾ˆå¤šã€‚ 2. ä¸‹è½½å®‰è£… Tomcatâ€‹ ä¸‹è½½ Tomcat åœ°å€ï¼ˆå®˜æ–¹åœ°å€ï¼‰ï¼šhttps://tomcat.apache.org/download-80.cgi â€‹ ä¸‹è½½æ–‡ä»¶ï¼šmacä¸‹è½½ zip å’Œ tar.gz éƒ½è¡Œï¼Œæˆ‘ä¸‹è½½çš„æ˜¯ tar.gz 3. å®‰è£…ï¼š åŽ‹ç¼©ä¹‹åŽç›´æŽ¥æ‹·è´åˆ°èµ„æºåº“ä¸­ï¼ŒåŽ‹ç¼©åŽçš„æ–‡ä»¶å¤¹åç§°ä¸ºTomcat8ï¼Œè®°å½•æ­¤ä½ç½®:/Library/Tomcat8ï¼ˆæ–¹ä¾¿åŽç»­çŽ¯å¢ƒé…ç½®ï¼‰ æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤/Library/Tomcat8/bin/startup.shï¼Œæµè§ˆå™¨ä¸­è¾“å…¥localhost:8080ï¼Œå°±å¯ä»¥çœ‹åˆ°ä»¥ä¸‹æ•ˆæžœ: 12luomeideMacBook-Pro:~ luomei$ Library/Tomcat8/bin/starup.sh-bash: Library/Tomcat8/bin/starup.sh: No such file or directory å¦‚æžœé‡åˆ°æç¤ºNo such file or directoryé”™è¯¯æç¤ºï¼Œéœ€è¦æ‰§è¡Œsudo chmod 755 Library/Tomcat/bin/*.shï¼Œç„¶åŽé‡æ–°æ‰§è¡Œstartup.shï¼Œè‹¥å‡ºçŽ°permission denied çš„æƒ…å†µï¼Œåˆ™åœ¨sudoæ¨¡å¼ä¸‹æ‰§è¡Œstartup.shï¼Œå¦‚æžœæƒ³åœæ­¢Tomcatï¼Œç›´æŽ¥æ‰§è¡Œshutdown.shå³å¯ã€‚åœ¨æ‰§è¡Œsudoæ—¶ï¼Œå¿…é¡»ä½¿ç”¨å¸¦å¯†ç çš„ç”¨æˆ·ã€‚ 12345678910111213141516171819// or sudo chmod 755 /Library/Tomcat8/bin/*.shxxxdeMacBook-Pro:~ xxx$ sudo chmod +x /Library/Tomcat8/bin/*.shPassword:xxxdeMacBook-Pro:~ xxx$ startup.shUsing CATALINA_BASE: /Library/Tomcat8Using CATALINA_HOME: /Library/Tomcat8Using CATALINA_TMPDIR: /Library/Tomcat8/tempUsing JRE_HOME: /Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/HomeUsing CLASSPATH: /Library/Tomcat8/bin/bootstrap.jar:/Library/Tomcat8/bin/tomcat-juli.jartouch: /Library/Tomcat8/logs/catalina.out: Permission denied/Library/Tomcat8/bin/catalina.sh: line 464: /Library/Tomcat8/logs/catalina.out: Permission deniedxxxdeMacBook-Pro:~ xxx$ sudo startup.shUsing CATALINA_BASE: /Library/Tomcat8Using CATALINA_HOME: /Library/Tomcat8Using CATALINA_TMPDIR: /Library/Tomcat8/tempUsing JRE_HOME: /Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/HomeUsing CLASSPATH: /Library/Tomcat8/bin/bootstrap.jar:/Library/Tomcat8/bin/tomcat-juli.jarTomcat started.xxxdeMacBook-Pro:~ xxx$ â€‹ å¦‚æžœæ¯æ¬¡å†™è·¯å¾„æ¯”è¾ƒéº»çƒ¦ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦è®¾ç½®çŽ¯å¢ƒå˜é‡ã€‚ 4. è®¾ç½® Tomcat çš„çŽ¯å¢ƒå˜é‡:psï¼šä¸è¦åœ¨rootæƒé™ä¸‹è®¾ç½® â‘ ä½¿ç”¨vimç¼–è¾‘bash_profileï¼Œè¾“å…¥å‘½ä»¤æ‰“å¼€ï¼švi .bash_profile(pico .bash_profileäº¦å¯) â‘¡æŒ‰ iè¿›å…¥ç¼–è¾‘æ¨¡å¼ â€‹ â‘¢è¾“å…¥Tomcatå­˜å‚¨è·¯å¾„ export PATH=&quot;/Users/keso/Library/Tomcat8/bin:$PATH&quot;ï¼ˆæ³¨æ„ï¼šæ­¤å¤„è·¯å¾„æ˜¯è‡ªå·±ä¿å­˜çš„ tomcat å­˜å‚¨è·¯å¾„ï¼‰ â‘£escé€€å‡ºç¼–è¾‘æ¨¡å¼ï¼Œè¾“å…¥ :wq ä¿å­˜å¹¶é€€å‡ºvim â€‹ â‘¤æ›´æ–°é…ç½®çš„çŽ¯å¢ƒå˜é‡ï¼Œè¾“å…¥å‘½ä»¤ï¼šsource .bash_profile â‘¥ç»ˆç«¯ä¸­è¾“å…¥startup.shï¼Œ startup.shåŽå‡ºçŽ°ç±»ä¼¼ â€œPermission deniedâ€ ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦å¯¹ç›®å½•è¿›è¡Œæƒé™è®¾ç½®ï¼šè¾“å…¥ sudo chmod 755 Library/Tomcat8/bin/*.sh å›žè½¦ï¼Œè®¾ç½®æ–‡ä»¶çš„è¯»å†™æ‰§è¡Œæƒé™ï¼Œå‚è€ƒç¬¬3æ­¥ä¸­çš„è§£å†³æ–¹æ¡ˆã€‚ 123456789101112131415161718xxxdeMacBook-Pro:~ xxx$ vi .bash_profilexxxdeMacBook-Pro:~ xxx$ source .bash_profilexxxdeMacBook-Pro:~ xxx$ sudo startup.shPassword:Using CATALINA_BASE: /Library/Tomcat8Using CATALINA_HOME: /Library/Tomcat8Using CATALINA_TMPDIR: /Library/Tomcat8/tempUsing JRE_HOME: /Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/HomeUsing CLASSPATH: /Library/Tomcat8/bin/bootstrap.jar:/Library/Tomcat8/bin/tomcat-juli.jarTomcat started.xxxdeMacBook-Pro:~ xxx$ shutdown.shUsing CATALINA_BASE: /Library/Tomcat8Using CATALINA_HOME: /Library/Tomcat8Using CATALINA_TMPDIR: /Library/Tomcat8/tempUsing JRE_HOME: /Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/HomeUsing CLASSPATH: /Library/Tomcat8/bin/bootstrap.jar:/Library/Tomcat8/bin/tomcat-juli.jarNOTE: Picked up JDK_JAVA_OPTIONS: --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMEDxxxdeMacBook-Pro:~ xxx$ 5. è®¾ç½®å®Œæˆä¹‹åŽï¼Œè¾“å…¥ sudo startup.shä¼šæ˜¾ç¤ºå¯åŠ¨, æ‰“å¼€ localhost:8080 å¯æµ‹è¯•ï¼Œå‡ºçŽ°ä¸Šè¿°é¡µé¢ã€‚ å…³é—­ä½¿ç”¨ shutdown.sh å³å¯; åˆ°æ­¤ï¼ŒTomcat é…ç½®å®Œæˆã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[Ns3ç½‘ç»œä»¿çœŸåŸºæœ¬æµç¨‹]]></title>
    <url>%2F2018%2F12%2F06%2FGuideBook%2FNs3%E4%BB%BF%E7%9C%9F%E5%9F%BA%E6%9C%AC%E6%B5%81%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[Ns3ç½‘ç»œä»¿çœŸåŸºæœ¬æµç¨‹ï¼š1ï¼‰ é€‰æ‹©å’Œå¼€å‘ç›¸åº”æ¨¡å—ï¼›æ ¹æ®å®žé™…ä»¿çœŸå¯¹è±¡å’Œä»¿çœŸåœºæ™¯é€‰æ‹©ç›¸åº”çš„ä»¿çœŸæ¨¡å—ï¼›å¦‚æžœæ­å»ºçš„ç½‘ç»œæ¯”è¾ƒæ–°ï¼Œè¯»è€…å°±éœ€è¦å¼€å‘è‡ªå·±è®¾è®¡çš„åè®®ã€‚ 2ï¼‰ ç¼–å†™ç½‘ç»œä»¿çœŸè„šæœ¬ï¼›ç”ŸæˆèŠ‚ç‚¹nodeï¼› å®‰è£…ä¿¡é“Channelå’Œç›¸åº”çš„ç½‘ç»œè®¾å¤‡NetDeviceï¼Œ å®‰è£…åè®®æ ˆ å®‰è£…åº”ç”¨å±‚åè®® å…¶ä»–é…ç½®ç­‰ å¯åŠ¨ä»¿çœŸ 3ï¼‰ ä»¿çœŸç»“æžœåˆ†æžï¼›4ï¼‰ æ ¹æ®ç»“æžœè°ƒè¯•ç½‘ç»œé…ç½®å‚æ•°å’Œä¿®æ”¹æºä»£ç ï¼›]]></content>
  </entry>
  <entry>
    <title><![CDATA[AndroidAPPåŽå°æ­å»º]]></title>
    <url>%2F2018%2F12%2F05%2FGuideBook%2FAndroid%2FAndroid_APP%E5%90%8E%E5%8F%B0%E6%90%AD%E5%BB%BA%2F</url>
    <content type="text"><![CDATA[AndroidAPPåŽå°æ­å»ºé€‰å– jdkã€tomcatã€MySQLã€FileZilla å‚è€ƒæ•™ç¨‹ å†…ç½‘ç©¿é€ï¼Œä½¿ç”¨ngrok]]></content>
  </entry>
  <entry>
    <title><![CDATA[MySQL_errors]]></title>
    <url>%2F2018%2F12%2F05%2FGuideBook%2FMySQL%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3%2F</url>
    <content type="text"><![CDATA[MySQLç‰ˆæœ¬ï¼šMySQL8.0.11 ç³»ç»Ÿï¼šMacOS 10.14.1 Q1ï¼šUnable to load authentication plugin â€˜caching_sha2_passwordâ€™.â€‹ datagripè¿žæŽ¥çš„æ—¶å€™è¿žæŽ¥ä¸åˆ°ï¼ŒåŽŸå› æ˜¯mysql8.0ä¹‹å‰çš„ç‰ˆæœ¬ç”¨çš„æ˜¯mysql_native_password, ä½†mysql8.0ä¹‹åŽçš„ç‰ˆæœ¬è¿žæŽ¥ä½¿ç”¨çš„å¯†ç æ˜¯caching_sha2_passwordã€‚ â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”2018.12.5â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” è§£å†³ï¼š 1234567891011mysql&gt; ALTER USER 'test'@'localhost' IDENTIFIED BY '1234' PASSWORD EXPIRE NEVER; Query OK, 0 rows affected (0.08 sec)mysql&gt; ALTER USER 'test'@'localhost' IDENTIFIED WITH mysql_native_password BY '1234';Query OK, 0 rows affected (0.03 sec)mysql&gt; FLUSH PRIVILEGES;Query OK, 0 rows affected (0.00 sec)mysql&gt; alter user 'root'@'localhost' identified by '1234';Query OK, 0 rows affected (0.01 sec)]]></content>
  </entry>
  <entry>
    <title><![CDATA[MySQL_ä½¿ç”¨]]></title>
    <url>%2F2018%2F12%2F05%2FGuideBook%2FMySQL%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[MySQLä½¿ç”¨å®‰è£…çŽ¯å¢ƒï¼šmac MySQLå®‰è£… ä¸‹è½½å®‰è£…ï¼Œæˆ‘å·²ç»ä¸å¤ªè®°å¾—äº†ï¼Œæœ‰ç‚¹ä¹…è¿œçš„äº‹æƒ… ä»Ž å®˜ç½‘ä¸‹è½½dmgï¼Œç›´æŽ¥å®‰è£…å°±å¥½ï¼Œæœ‰ä¸€æ­¥éœ€è¦æ³¨æ„çš„å°±æ˜¯å¼¹å‡ºåˆå§‹å¯†ç çš„æ—¶å€™è®°å¾—è®°ä¸‹æ¥ï¼ï¼ï¼ é…ç½®çŽ¯å¢ƒå˜é‡ è¿›å…¥ bash_profile æ–‡ä»¶ 1xxxdeMacBook-Pro:~ xxx$ vim ~/.bash_profile æŒ‰ i è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œåœ¨æ–‡ä»¶æœ«å°¾åŠ ä¸Šmysqlçš„æ–‡ä»¶è·¯å¾„ï¼š 1export PATH=$&#123;PATH&#125;:/usr/local/mysql/bin è¾“å…¥ :wq é€€å‡ºvimç¼–è¾‘ï¼Œå†’å·ä¸è¦å¿˜è®°äº†ï¼ä¸ç„¶ä¼šè¿›å…¥ recording@ çŠ¶æ€ã€‚ ä½¿å¾—è¯¥æ–‡ä»¶ç”Ÿæ•ˆ 1xxxdeMacBook-Pro:~ xxx$ vim ~/.bash_profile è¿›å…¥mysql 1xxxdeMacBook-Pro:~ xxx$ mysql -u root -p éšåŽè¾“å…¥å¯†ç  123456789101112131415xxxdeMacBook-Pro:~ xxx$ mysql -u root -pEnter password: Welcome to the MySQL monitor. Commands end with ; or \g.Your MySQL connection id is 8Server version: 8.0.11 MySQL Community Server - GPLCopyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.mysql&gt; å¿˜è®°å¯†ç äº†å’‹æ•´ï¼Œå‘çŽ°äº†ä¸€ä¸ªå¾ˆç¥žå¥‡çš„ä¸œè¥¿ è¾“å…¥æ–°çš„å¯†ç ï¼Œå†åœ¨ç»ˆç«¯ä¸Šå°è¯•ä¸€ä¸‹ä½ çš„æ–°å¯†ç ï¼Œä½ å°±ä¼šæƒŠå–œçš„å‘çŽ°it worksï¼ MySQLä½¿ç”¨ubuntu 123service mysql startservice mysql restartservice mysql stop]]></content>
  </entry>
  <entry>
    <title><![CDATA[Ns3ForUbuntu]]></title>
    <url>%2F2018%2F12%2F05%2FGuideBook%2FNs3forUbuntu%2F</url>
    <content type="text"><![CDATA[Q&amp;AQ1: g++: internal compiler error: Killed (program cc1plus)å®‰è£…æ•™ç¨‹ ===================================================================================== çŽ¯å¢ƒï¼šubuntu 16.04 å®‰è£…ï¼š ns-3.28 ======================================================================================= Please submit a full bug report, æŸ¥äº†å¾ˆå¤šèµ„æ–™ï¼Œæœ€åŽå‘çŽ°ä¸»è¦åŽŸå› æ˜¯å†…å­˜ä¸è¶³, ä¸´æ—¶ä½¿ç”¨äº¤æ¢åˆ†åŒºæ¥è§£å†³å§ 123456sudo dd if=/dev/zero of=/swapfile bs=64M count=16#countçš„å¤§å°å°±æ˜¯å¢žåŠ çš„swapç©ºé—´çš„å¤§å°ï¼Œ64Mæ˜¯å—å¤§å°ï¼Œæ‰€ä»¥ç©ºé—´å¤§å°æ˜¯bs*count=1024MBsudo mkswap /swapfile#æŠŠåˆšæ‰ç©ºé—´æ ¼å¼åŒ–æˆswapæ ¼å¼sudo swapon /swapfile#ä½¿ç”¨åˆšæ‰åˆ›å»ºçš„swapç©ºé—´ After compiling, you may wish to Code: 12sudo swapoff /swapfilesudo rm /swapfile å¼€äº†ä¸ªä¸´æ—¶äº¤æ¢åˆ†åŒºä»¥åŽå¿«äº†å¥½å¤šã€å¼•èµ·èˆ’é€‚ã€‘ Q2: install netanimStep1ï¼šå®‰è£…å¿…è¦çš„æ’ä»¶å…ˆç®€å•ä»‹ç»ä¸‹synapticï¼š æ–°ç«‹å¾—ï¼ˆSynapticï¼‰æ˜¯ debian åŠå…¶è¡ç”Ÿç‰ˆæœ¬å¦‚Ubuntu Linuxæ“ä½œç³»ç»Ÿçš„åŒ…ç®¡ç†å·¥å…·aptçš„å›¾å½¢åŒ–å‰ç«¯ã€‚å®ƒç»“åˆäº†å›¾å½¢ç•Œé¢çš„ç®€å•æ“ä½œå’Œ apt-get å‘½ä»¤è¡Œå·¥å…·çš„å¼ºå¤§åŠŸèƒ½ã€‚æ‚¨å¯ä»¥ä½¿ç”¨æ–°ç«‹å¾—å®‰è£…ã€åˆ é™¤ã€é…ç½®ã€å‡çº§è½¯ä»¶åŒ…ï¼Œå¯¹è½¯ä»¶åŒ…åˆ—è¡¨è¿›è¡Œæµè§ˆã€æŽ’åºã€æœç´¢ä»¥åŠç®¡ç†è½¯ä»¶ä»“åº“æˆ–è€…å‡çº§æ•´ä¸ªç³»ç»Ÿã€‚ç®€å•æ¥è¯´å°±æ˜¯apt-getçš„å›¾å½¢åŒ–ç•Œé¢ï¼Œä¹Ÿå¯ä»¥ç”¨apt-getä»£æ›¿ï¼Œçœ‹ä¸ªäººçˆ±å¥½å®‰è£…å¾ˆç®€å• 1$ sudo apt-get install synaptic å¯åŠ¨ä¹Ÿå¾ˆç®€å• 1$ sudo synaptic å¦‚æžœå·²ç»å®‰è£…å¥½äº†ï¼Œè¯·å¿½ç•¥ä¸Šé¢è®²è¿° å¯åŠ¨ä¹Ÿå¾ˆç®€å•sudo synaptic å¦‚æžœå·²ç»å®‰è£…å¥½äº†ï¼Œè¯·å¿½ç•¥ä¸Šé¢è®²è¿° å…ˆç”¨synapticå®‰è£…ä¸‰ä¸ªæ’ä»¶ï¼š qt4-qmakeï¼šå®‰è£…å·¥å…·libqt4-devï¼šç»˜å›¾æ‰€éœ€libxml2-devï¼šnetaniméœ€è¦è¯»å–ç¨‹åºç”Ÿæˆçš„xmlæ–‡ä»¶ï¼Œç¦»çº¿å±•ç¤ºåŠ¨ç”»æœç´¢åˆ°å¯¹åº”çš„æ’ä»¶ä¹‹åŽå¦‚æžœæ²¡æœ‰å®‰è£…ï¼Œå°±å³é”®-&gt;mark for installation -&gt;Apply Step2ï¼šå®‰è£…è¿›å…¥ns3çš„æ–‡ä»¶å¤¹ï¼Œæ‰§è¡Œå‘½ä»¤ 12345$ cd ns-allinone-3.xx$ cd netanim-3.xxx$ make clean$ qmake NetAnim.pro$ make å®‰è£…å®Œæ¯• Step3ï¼šå¯åŠ¨åœ¨å½“å‰æ–‡ä»¶å¤¹ä¸‹è¿è¡Œä¸‹é¢å‘½ä»¤ï¼Œå¯åŠ¨è½¯ä»¶ 1$ ./NetAnim å‡ºçŽ°ç•Œé¢ Step4ï¼šè¿è¡Œåœ¨NS3æä¾›çš„ç¤ºä¾‹first.pyä¸­ï¼Œå¹¶æ²¡æœ‰ç”ŸæˆNetAnimæ‰€éœ€è¦çš„xmlæ–‡ä»¶ï¼Œæˆ‘ä»¬å°è¯•ç”¨NetAnimæ¥å±•ç¤ºfirst.ccçš„ä»¿çœŸç»“æžœã€‚ é¦–å…ˆåœ¨first.ccé‡Œé¢ï¼ŒåŠ ä¸Šå¤´æ–‡ä»¶ include &quot;ns3/netanim-module.h&quot; runå‰é¢åŠ ä¸Šä¸‰å¥ä»£ç  1234567AnimationInterface anim("first.xml");anim.SetConstantPosition(nodes.Get(0), 1.0, 2.0);anim.SetConstantPosition(nodes.Get(1), 2.0, 3.0);Simulator::Run();Simulator::Destroy();return 0 ä¿å­˜åŽé€€å‡º ç¬¬äºŒä¸‰è¡Œæ˜¯æç»˜ä¸¤ä¸ªèŠ‚ç‚¹çš„åæ ‡ï¼Œä¹Ÿå¯ä»¥ä¸è¦è¿™ä¸¤è¡Œ åœ¨ns3æ–‡ä»¶å¤¹ä¸‹é‡æ–°ç¼–è¯‘ç¨‹åº./waf --run scracth/firståœ¨netanimæ–‡ä»¶å¤¹ä¸‹é‡æ–°å¯åŠ¨./NetAnim Open-&gt;first.xml-&gt;Play åœ¨2ç§’é™„è¿‘å°±å¯ä»¥çœ‹åˆ°åŠ¨ç”»æ¼”ç¤ºã€‚//ç”Ÿæˆçš„xmlæ–‡ä»¶å†ns3.xxæ–‡ä»¶å¤¹ä¸‹ Q3: åœ¨NS3ä¸‹å¦‚ä½•ç”¨Pythonè„šæœ¬ï¼Œä»¥åŠPyVizå¯è§†åŒ–Method 1:12./waf shellpython examples/tutorial/first.py Method 2:1./waf --pyrun examples/tutorial/first.py æŽ¥ä¸‹æ¥æ˜¯ä¸‹è½½ PyViz ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…ï¼š 12sudo apt-get install python-dev python-pygraphviz python-kiwi python-pygoocanvas \ python-gnome2 python-gnomedesktop python-rsvg å®‰è£…å®ŒåŽè¿è¡Œä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š 1./waf --pyrun src/contrib/flow-monitor/examples/wifi-olsr-flowmon.py --vis ç„¶åŽä½ å°±ä¼šçœ‹åˆ°ä¸€ä¸ªç”±9ä¸ªèŠ‚ç‚¹ç»„æˆçš„ç½‘ç»œæ‹“æ‰‘ï¼š]]></content>
  </entry>
  <entry>
    <title><![CDATA[Mac_vim]]></title>
    <url>%2F2018%2F12%2F05%2FGuideBook%2FMac%E7%BB%88%E7%AB%AF_vim%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[Macç»ˆç«¯ vimçš„ç®€å•ä½¿ç”¨macç»ˆç«¯vimä½¿ç”¨]]></content>
  </entry>
  <entry>
    <title><![CDATA[StarUMLç ´è§£]]></title>
    <url>%2F2018%2F12%2F05%2FGuideBook%2FStarUML%203.0.2%E7%A0%B4%E8%A7%A3%E6%96%B9%E6%B3%95%2F</url>
    <content type="text"><![CDATA[Staruml 3.0.2ç ´è§£æ–¹æ³•ï¼ˆfor Mac å®‰è£…homebrewï¼Œè¯·ç§»æ­¥å¦ä¸€æ•™ç¨‹ å®‰è£…npm 1xxxdeMacBook-Pro:~ xxx$ brew install node å®‰è£…asar 1luomeideMacBook-Pro:~ luomei$ npm install -g asar è¿›å…¥starumlçš„åŒ…ç›®å½• 1luomeideMacBook-Pro:~ luomei$ cd /Applications/StarUML.app/Contents/Resources/ è§£åŽ‹app.asar 1luomeideMacBook-Pro:~ luomei$ asar extract app.asar app è¿›å…¥éªŒè¯licenseçš„æ–‡ä»¶ 1xxxdeMacBook-Pro:~ xxx$ vim app/src/engine/license-manager.js ä¿®æ”¹æºä»£ç  å†™åˆ°è¿™é‡Œçš„æ—¶å€™ä½¿ç”¨åˆ°äº†vimï¼Œå…ˆç®€å•ä»‹ç»ä¸€ä¸‹ è¿›å…¥æ—¶å…ˆæŒ‰ i é”® éšåŽæ‰¾åˆ° checkLicenseValidity() æ›´æ”¹ 123456789101112xcheckLicenseValidity () &#123; this.validate().then(() =&gt; &#123; setStatus(this, true) &#125;, () =&gt; &#123; // åŽŸæ¥çš„ä»£ç ï¼Œå¦‚æžœå¤±è´¥å°±ä¼šå°†çŠ¶æ€è®¾ç½®æˆfalse // setStatus(this, false) // UnregisteredDialog.showDialog() //ä¿®æ”¹åŽçš„ä»£ç  setStatus(this, true) &#125;) &#125; è¾“å…¥ :wq é€€å›žåˆ°åŽŸå…ˆçš„ç»ˆç«¯ç•Œé¢ é‡æ–°æ‰“åŒ…æ›¿æ¢åŽŸæ¥çš„app.asar 1xxxdeMacBook-Pro:~ xxx$ asar pack app app.asar]]></content>
  </entry>
  <entry>
    <title><![CDATA[OpenGLé…ç½®]]></title>
    <url>%2F2018%2F10%2F12%2FGuideBook%2Fopencv%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[openGLé…ç½®OpenGLçš„é•¿è·¯è°é™ªæˆ‘èµ° opencvé…ç½® åœ¨XCodeä¸­ä½¿ç”¨OpenCV åˆ›å»ºä¸€ä¸ªç©ºçš„command lineå·¥ç¨‹ã€‚ åœ¨main.cppä¸­å†™ä»£ç ï¼š 1234567891011121314151617181920#include &lt;iostream&gt;#include &lt;opencv2/opencv.hpp&gt;#include &lt;opencv2/highgui.hpp&gt;using namespace cv;int main(int argc, const char * argv[]) &#123; // insert code here... Mat image; image = imread("/Users/luomei/Desktop/peggy.jpeg");// æµ‹è¯•å›¾ç‰‡è·¯å¾„ if ( !image.data ) &#123; printf("No image data \n"); return -1; &#125; namedWindow("Display Image", WINDOW_AUTOSIZE ); waitKey(100); cvDestroyWindow("Display Image"); return 0;&#125; æ·»åŠ libæ–‡ä»¶ï¼šå³é”®ç‚¹å‡»å·¥ç¨‹åï¼Œé€‰æ‹©â€œAdd files to..â€ï¼Œåœ¨æ–‡ä»¶é€‰æ‹©å¯¹è¯æ¡†å¼¹å‡ºæ¥æ—¶è¾“å…¥â€œ/â€ï¼Œåœ¨å¼¹å‡ºçš„è·¯å¾„æ¡†ä¸­è¾“å…¥ï¼š/usr/local/libï¼Œå…¨é€‰è¯¥æ–‡ä»¶å¤¹ä¸‹çš„å…¨éƒ¨dylibæ–‡ä»¶ï¼Œæ·»åŠ è‡³å·¥ç¨‹ã€‚ æ·»åŠ libæ–‡ä»¶æŸ¥æ‰¾æ”¯æŒ: ç‚¹å‡»å·¥ç¨‹åæ–‡ä»¶ï¼Œè¿›å…¥â€œBuild Settingsâ€é€‰é¡¹å¡ï¼Œåœ¨â€œLibrary Search Pathsâ€æ ä¸­è¾“å…¥â€œ/usr/local/libâ€ æ·»åŠ å¤´æ–‡ä»¶ï¼šç‚¹å‡»å·¥ç¨‹åæ–‡ä»¶ï¼Œè¿›å…¥â€œBuild Settingsâ€é€‰é¡¹å¡ï¼Œåœ¨â€œHeader Search Pathsâ€æ ä¸­è¾“å…¥ï¼šâ€œ/usr/local/include /usr/local/include/opencvâ€ ç¼–è¯‘è¿è¡Œæ•´ä¸ªå·¥ç¨‹ï¼Œè¿è¡ŒæˆåŠŸ~~]]></content>
  </entry>
  <entry>
    <title><![CDATA[Android_errosr]]></title>
    <url>%2F2018%2F10%2F07%2FGuideBook%2FAndroid%2FAndroid_ErrorSummary%2F</url>
    <content type="text"><![CDATA[android ======================================================================================= ç‰ˆæœ¬ä¿¡æ¯ï¼š Android Studio 3.1.4Build #AI-173.4907809, built on July 24, 2018JRE: 1.8.0_152-release-1024-b01 x86_64JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.oMac OS X 10.13.6 ======================================================================================= æŽ¨èä½¿ç”¨å®˜æ–¹æ–‡æ¡£ https://developer.android.com/guide/topics/resources/providing-resources?hl=zh-cn è¯·é“¾æŽ¥vpnåŽè¿›å…¥ errorï¼šFailed to download samples index, please check your connection and try again solveï¼šhttps://blog.csdn.net/qq_36556893/article/details/79278063 error:åœ¨android studioä¸­æ–°å»ºandroid gradle projectçš„æ—¶å€™connect refusedï¼šconnect solve:https://blog.csdn.net/clarketang/article/details/38420417 ps:æœ¬åœ°ç«¯å£è®¾ç½®å¯æŸ¥çœ‹ï¼šshadow socks-&gt;httpä»£ç†è®¾ç½® Error: read timed out]]></content>
  </entry>
</search>
